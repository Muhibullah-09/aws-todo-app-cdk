{"version":3,"sources":["webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/cancel/isCancel.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/helpers/combineURLs.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/is-buffer/index.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/core/mergeConfig.js","webpack:///./node_modules/@aws-amplify/core/lib-esm/Util/DateUtils.js","webpack:///./node_modules/@aws-amplify/api-rest/lib-esm/RestClient.js","webpack:///./node_modules/zen-observable/index.js","webpack:///./node_modules/@aws-amplify/auth/lib-esm/index.js","webpack:///./node_modules/@aws-amplify/core/lib-esm/constants.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/helpers/parseHeaders.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack:///./node_modules/@aws-amplify/core/lib-esm/index.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/cancel/CancelToken.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/cancel/Cancel.js","webpack:///./node_modules/@aws-amplify/core/lib-esm/I18n/I18n.js","webpack:///./node_modules/@aws-amplify/core/lib-esm/I18n/index.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/core/InterceptorManager.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/axios.js","webpack:///./node_modules/paho-mqtt/paho-mqtt.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/helpers/cookies.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/core/Axios.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/core/dispatchRequest.js","webpack:///./node_modules/@aws-amplify/pubsub/lib-esm/index.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/helpers/spread.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/core/createError.js","webpack:///./node_modules/@aws-amplify/api-graphql/node_modules/graphql/language/location.mjs","webpack:///./node_modules/@aws-amplify/api-graphql/node_modules/graphql/error/printError.mjs","webpack:///./node_modules/@aws-amplify/api-graphql/node_modules/graphql/error/GraphQLError.mjs","webpack:///./node_modules/@aws-amplify/api-graphql/node_modules/graphql/language/visitor.mjs","webpack:///./node_modules/@aws-amplify/api-graphql/node_modules/graphql/language/printer.mjs","webpack:///./node_modules/@aws-amplify/api-graphql/node_modules/graphql/jsutils/inspect.mjs","webpack:///./node_modules/@aws-amplify/api-graphql/node_modules/graphql/jsutils/invariant.mjs","webpack:///./node_modules/@aws-amplify/api-graphql/node_modules/graphql/language/source.mjs","webpack:///./node_modules/@aws-amplify/api-graphql/node_modules/graphql/jsutils/defineToStringTag.mjs","webpack:///./node_modules/@aws-amplify/api-graphql/node_modules/graphql/error/syntaxError.mjs","webpack:///./node_modules/@aws-amplify/api-graphql/node_modules/graphql/language/blockStringValue.mjs","webpack:///./node_modules/@aws-amplify/api-graphql/node_modules/graphql/language/lexer.mjs","webpack:///./node_modules/@aws-amplify/api-graphql/node_modules/graphql/language/kinds.mjs","webpack:///./node_modules/@aws-amplify/api-graphql/node_modules/graphql/language/directiveLocation.mjs","webpack:///./node_modules/@aws-amplify/api-graphql/node_modules/graphql/language/parser.mjs","webpack:///./node_modules/@aws-amplify/api-graphql/lib-esm/GraphQLAPI.js","webpack:///./node_modules/zen-observable-ts/lib/bundle.esm.js","webpack:///./node_modules/@aws-crypto/sha256-js/build/RawSha256.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/helpers/buildURL.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/core/enhanceError.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/utils.js","webpack:///./node_modules/@aws-crypto/sha256-js/build/jsSha256.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/@aws-amplify/api-rest/lib-esm/RestAPI.js","webpack:///./node_modules/@aws-amplify/api/lib-esm/API.js","webpack:///./node_modules/zen-observable/lib/Observable.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/index.js","webpack:///./node_modules/@aws-amplify/pubsub/lib-esm/Providers/MqttOverWSProvider.js","webpack:///./node_modules/@aws-amplify/pubsub/lib-esm/Providers/PubSubProvider.js","webpack:///./node_modules/@aws-amplify/pubsub/lib-esm/Providers/AWSAppSyncProvider.js","webpack:///./node_modules/@aws-amplify/pubsub/node_modules/graphql/language/location.mjs","webpack:///./node_modules/@aws-amplify/pubsub/node_modules/graphql/error/printError.mjs","webpack:///./node_modules/@aws-amplify/pubsub/node_modules/graphql/error/GraphQLError.mjs","webpack:///./node_modules/@aws-amplify/pubsub/lib-esm/Providers/AWSAppSyncRealTimeProvider.js","webpack:///./node_modules/@aws-amplify/pubsub/lib-esm/PubSub.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/adapters/xhr.js","webpack:///./node_modules/@aws-amplify/core/lib-esm/Signer.js","webpack:///./node_modules/@aws-crypto/sha256-js/build/constants.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/defaults.js","webpack:///./node_modules/@aws-crypto/sha256-js/build/index.js","webpack:///./src/pages/app.js","webpack:///./src/graphql/mutations.ts","webpack:///./src/graphql/queries.ts","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/core/settle.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/core/transformData.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack:///./node_modules/@aws-amplify/api-rest/node_modules/axios/lib/helpers/bind.js"],"names":["module","exports","value","__CANCEL__","baseURL","relativeURL","replace","obj","constructor","isBuffer","utils","config1","config2","config","forEach","prop","isObject","deepMerge","__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","error","DateUtils","clockOffset","getDateWithClockOffset","Date","getTime","getClockOffset","getHeaderStringFromDate","date","toISOString","getDateFromHeaderString","header","_a","match","year","month","day","hour","minute","second","UTC","Number","isClockSkewed","serverDate","Math","abs","isClockSkewError","response","headers","Boolean","setClockOffset","offset","__assign","Object","assign","t","s","arguments","length","p","prototype","hasOwnProperty","apply","this","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","rejected","result","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","v","op","TypeError","pop","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","logger","RestClient","options","_region","_service","_custom_header","undefined","_cancelTokenMap","Credentials","_options","debug","WeakMap","ajax","urlOrApiInfo","method","init","parsed_url","url","region","service","custom_header","params","libraryHeaders","userAgent","initParams","isAllResponse","custom_header_obj","_b","parsedUrl","_this","_c","_parseUrl","endpoint","host","path","data","responseType","timeout","cancelToken","isReactNative","FormData","JSON","stringify","withCredentials","cancellableToken","token","signerServiceInfo","search","query","queryStringParameters","keys","reduce","acc","k","_request","get","credentials","_signed","catch","dateHeader","responseDate","requestDate","err","put","patch","post","del","head","cancel","request","message","source","isCancel","a","getCancellableToken","CancelToken","updateRequestToBeCancellable","promise","cancelTokenSource","set","apiName","cloud_logic_array","endpoints","Array","isArray","name","signerServiceInfoParams","otherParams","endpoint_region","endpoint_service","creds","secret_key","secretAccessKey","access_key","accessKeyId","session_token","sessionToken","endpointInfo","signed_params","sign","parts","split","slice","join","Observable","hasSymbol","for","INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER","INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER","USER_AGENT_HEADER","ignoreDuplicateOf","key","val","parsed","line","trim","substr","toLowerCase","concat","isStandardBrowserEnv","originURL","msie","test","navigator","urlParsingNode","document","createElement","resolveURL","href","setAttribute","protocol","hash","hostname","port","pathname","charAt","window","location","requestURL","isString","Constants","Cancel","executor","resolvePromise","reason","throwIfRequested","c","asyncGeneratorStep","gen","_next","_throw","arg","info","_asyncToGenerator","fn","self","args","toString","I18n","_lang","_dict","language","setLanguage","lang","defVal","getByLanguage","lang_dict","putVocabulariesForLanguage","vocabularies","putVocabularies","map","_config","_i18n","configure","createInstance","getModuleName","checkConfig","Amplify","register","InterceptorManager","handlers","use","eject","id","h","bind","Axios","mergeConfig","defaultConfig","context","instance","extend","axios","create","instanceConfig","defaults","all","promises","spread","default","factory","global","localStorage","setItem","item","getItem","removeItem","MESSAGE_TYPE","validate","errorStr","validKey","Error","format","ERROR","INVALID_TYPE","scope","_scope","OK","code","text","CONNECT_TIMEOUT","SUBSCRIBE_TIMEOUT","UNSUBSCRIBE_TIMEOUT","PING_TIMEOUT","INTERNAL_ERROR","CONNACK_RETURNCODE","SOCKET_ERROR","SOCKET_CLOSE","MALFORMED_UTF","UNSUPPORTED","INVALID_STATE","INVALID_ARGUMENT","UNSUPPORTED_OPERATION","INVALID_STORED_DATA","INVALID_MQTT_MESSAGE_TYPE","MALFORMED_UNICODE","BUFFER_FULL","CONNACK_RC","0","1","2","3","4","5","substitutions","field","start","part1","substring","part2","MqttProtoIdentifierv3","MqttProtoIdentifierv4","WireMessage","type","decodeMessage","input","pos","digit","startingPos","first","messageInfo","remLength","multiplier","endPos","wireMessage","sessionPresent","returnCode","qos","len","readUint16","topicName","parseUTF8","messageIdentifier","Message","subarray","retained","duplicate","destinationName","payloadMessage","writeUint16","buffer","writeString","utf8Length","stringToUTF8","UTF8Length","output","charCode","charCodeAt","lowCharCode","isNaN","utf16","byte1","byte2","byte3","byte4","String","fromCharCode","encode","willMessagePayloadBytes","topicStrLength","destinationNameLength","mqttVersion","clientId","willMessage","payloadBytes","Uint8Array","byteLength","userName","password","topics","requestedQos","ArrayBuffer","mbi","number","numBytes","encodeMBI","byteStream","connectFlags","cleanSession","keepAliveInterval","Pinger","client","_client","_keepAliveInterval","isReset","pingReq","doTimeout","pinger","doPing","_trace","socket","send","setTimeout","_disconnected","reset","clearTimeout","Timeout","timeoutSeconds","action","ClientImpl","uri","WebSocket","_wsuri","_localKey","_msg_queue","_buffered_msg_queue","_sentMessages","_receivedMessages","_notify_msg_sent","_message_identifier","_sequence","restore","connected","maxMessageIdentifier","connectOptions","hostIndex","onConnected","onConnectionLost","onMessageDelivered","onMessageArrived","traceFunction","_connectTimeout","sendPinger","receivePinger","_reconnectInterval","_reconnecting","_reconnectTimeout","disconnectedPublishing","disconnectedBufferSize","receiveBuffer","_traceBuffer","_MAX_TRACE_ENTRIES","connect","connectOptionsMasked","_traceMask","uris","_doConnect","subscribe","filter","subscribeOptions","onSuccess","grantedQos","invocationContext","onFailure","errorCode","errorMessage","timeOut","_requires_ack","_schedule_message","unsubscribe","unsubscribeOptions","callback","sequence","unshift","disconnect","getTraceLog","startTrace","stopTrace","wsurl","useSSL","uriParts","binaryType","onopen","_on_socket_open","onmessage","_on_socket_message","onerror","_on_socket_error","onclose","_on_socket_close","_process_queue","store","prefix","storedMessage","version","pubRecReceived","hex","messageBytes","payloadHex","parse","x","parseInt","_socket_send","messageCount","event","messages","_deframeMessages","_handleMessage","byteArray","newData","errorStack","stack","sentMessage","receivedMessage","sequencedMessages","msgId","msg","sort","b","pubRelMessage","reconnected","_connected","_receivePublish","_receiveMessage","pubCompMessage","wireMessageMasked","pubAckMessage","pubRecMessage","reconnect","_reconnect","errorText","readyState","close","mqttVersionExplicit","splice","record","severity","max","shift","traceObject","masked","traceObjectMasked","attr","newPayload","payload","isView","DataView","defineProperties","enumerable","newDestinationName","newQos","newRetained","newTopic","newDuplicate","Client","ipv6AddSBracket","clientIdLength","newOnConnected","newDisconnectedPublishing","newDisconnectedBufferSize","newOnConnectionLost","newOnMessageDelivered","newOnMessageArrived","trace","hosts","ports","stringPayload","usingURIs","ipv6","topic","publish","isConnected","write","expires","domain","secure","cookie","encodeURIComponent","isNumber","toGMTString","read","RegExp","decodeURIComponent","remove","now","buildURL","dispatchRequest","interceptors","chain","interceptor","getUri","paramsSerializer","merge","transformData","isAbsoluteURL","combineURLs","throwIfCancellationRequested","transformRequest","common","adapter","transformResponse","CONTROL_MSG","arr","normalizedName","toUpperCase","enhanceError","getLocation","position","lineRegexp","column","exec","index","highlightSourceAtLocation","firstLineColumnOffset","locationOffset","whitespace","lineIndex","lineOffset","lineNum","columnOffset","columnNum","lines","existingLines","_ref","padLen","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","return","_ref3","str","printPrefixedLines","GraphQLError","nodes","positions","originalError","extensions","_nodes","_source","node","loc","_locations","_positions","list","_extensions","writable","locations","defineProperty","configurable","captureStackTrace","printedLocations","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","printError","QueryDocumentKeys","Name","Document","OperationDefinition","VariableDefinition","Variable","SelectionSet","Field","Argument","FragmentSpread","InlineFragment","FragmentDefinition","IntValue","FloatValue","StringValue","BooleanValue","NullValue","EnumValue","ListValue","ObjectValue","ObjectField","Directive","NamedType","ListType","NonNullType","SchemaDefinition","OperationTypeDefinition","ScalarTypeDefinition","ObjectTypeDefinition","FieldDefinition","InputValueDefinition","InterfaceTypeDefinition","UnionTypeDefinition","EnumTypeDefinition","EnumValueDefinition","InputObjectTypeDefinition","DirectiveDefinition","SchemaExtension","ScalarTypeExtension","ObjectTypeExtension","InterfaceTypeExtension","UnionTypeExtension","EnumTypeExtension","InputObjectTypeExtension","BREAK","isNode","maybeNode","kind","getVisitFn","visitor","isLeaving","kindVisitor","kindSpecificVisitor","leave","enter","specificVisitor","specificKindVisitor","print","ast","root","visitorKeys","inArray","edits","parent","ancestors","newRoot","isEdited","clone","editOffset","ii","editKey","editValue","prev","visitFn","visit","printDocASTReducer","definitions","operation","varDefs","wrap","variableDefinitions","directives","selectionSet","variable","defaultValue","_ref2","block","selections","alias","_ref4","_ref5","_ref6","typeCondition","_ref7","_ref8","_ref9","_ref10","isDescription","escaped","indent","printBlockString","_ref11","_ref12","_ref13","values","_ref14","fields","_ref15","_ref16","_ref17","_ref18","_ref19","_ref20","operationTypes","_ref21","addDescription","_ref22","_ref23","interfaces","_ref24","every","_ref25","_ref26","_ref27","types","_ref28","_ref29","_ref30","_ref31","_ref32","_ref33","_ref34","_ref35","_ref36","_ref37","_ref38","cb","description","maybeArray","separator","array","maybeString","end","_typeof","inspect","invariant","condition","_defineProperty","classObject","syntaxError","blockStringValue","rawString","commonIndent","leadingWhitespace","_i","isBlank","createLexer","startOfFileToken","Tok","TokenKind","SOF","lastToken","lineStart","advance","advanceLexer","lookahead","EOF","readToken","COMMENT","toStringTag","freeze","BANG","DOLLAR","AMP","PAREN_L","PAREN_R","SPREAD","COLON","EQUALS","AT","BRACKET_L","BRACKET_R","BRACE_L","PIPE","BRACE_R","NAME","INT","FLOAT","STRING","BLOCK_STRING","getTokenDesc","printCharCode","lexer","bodyLength","startPosition","positionAfterWhitespace","col","readComment","readName","firstCode","isFloat","readDigits","readNumber","chunkStart","rawValue","readBlockString","d","char2hex","readString","unexpectedCharacterMessage","toJSON","Kind","DOCUMENT","OPERATION_DEFINITION","VARIABLE_DEFINITION","SELECTION_SET","FIELD","ARGUMENT","FRAGMENT_SPREAD","INLINE_FRAGMENT","FRAGMENT_DEFINITION","VARIABLE","BOOLEAN","NULL","ENUM","LIST","OBJECT","OBJECT_FIELD","DIRECTIVE","NAMED_TYPE","LIST_TYPE","NON_NULL_TYPE","SCHEMA_DEFINITION","OPERATION_TYPE_DEFINITION","SCALAR_TYPE_DEFINITION","OBJECT_TYPE_DEFINITION","FIELD_DEFINITION","INPUT_VALUE_DEFINITION","INTERFACE_TYPE_DEFINITION","UNION_TYPE_DEFINITION","ENUM_TYPE_DEFINITION","ENUM_VALUE_DEFINITION","INPUT_OBJECT_TYPE_DEFINITION","DIRECTIVE_DEFINITION","SCHEMA_EXTENSION","SCALAR_TYPE_EXTENSION","OBJECT_TYPE_EXTENSION","INTERFACE_TYPE_EXTENSION","UNION_TYPE_EXTENSION","ENUM_TYPE_EXTENSION","INPUT_OBJECT_TYPE_EXTENSION","DirectiveLocation","QUERY","MUTATION","SUBSCRIPTION","SCHEMA","SCALAR","ARGUMENT_DEFINITION","INTERFACE","UNION","ENUM_VALUE","INPUT_OBJECT","INPUT_FIELD_DEFINITION","sourceObj","many","parseDefinition","parseDocument","parseName","expect","peek","parseExecutableDefinition","parseTypeSystemDefinition","keywordToken","expectKeyword","parseDirectives","parseOperationTypeDefinition","unexpected","parseSchemaExtension","parseScalarTypeExtension","parseImplementsInterfaces","parseFieldsDefinition","parseObjectTypeExtension","parseInterfaceTypeExtension","parseUnionMemberTypes","parseUnionTypeExtension","parseEnumValuesDefinition","parseEnumTypeExtension","parseInputFieldsDefinition","parseInputObjectTypeExtension","parseTypeSystemExtension","peekDescription","parseOperationDefinition","experimentalFragmentVariables","parseFragmentName","parseVariableDefinitions","parseNamedType","parseSelectionSet","parseFragmentDefinition","parseOperationType","operationToken","parseVariableDefinition","experimentalVariableDefinitionDirectives","parseVariable","parseTypeReference","skip","parseValueLiteral","parseSelection","parseFragment","nameOrAlias","parseArguments","parseField","isConst","parseConstArgument","parseArgument","parseConstValue","parseValueValue","any","parseList","parseObjectField","parseObject","parseStringLiteral","parseDirective","parseSchemaDefinition","parseDescription","parseScalarTypeDefinition","parseObjectTypeDefinition","parseInterfaceTypeDefinition","parseUnionTypeDefinition","parseEnumTypeDefinition","parseInputObjectTypeDefinition","parseArgumentDefs","parseDirectiveLocation","parseDirectiveLocations","parseDirectiveDefinition","allowLegacySDLImplementsInterfaces","allowLegacySDLEmptyFields","parseFieldDefinition","parseInputValueDef","parseEnumValueDefinition","startToken","noLocation","Loc","endToken","atToken","openKind","parseFn","closeKind","GraphQLAPIClass","_api","Auth","Cache","API","otherOptions","opt","graphql_headers","warn","_headerBasedAuth","defaultAuthenticationType","aws_appsync_authenticationType","apiKey","federatedInfo","currentUser","session","aws_appsync_apiKey","Authorization","_ensureCredentials","currentAuthenticatedUser","currentSession","getAccessToken","getJwtToken","getGraphqlOperationType","doc","graphql","additionalHeaders","paramQuery","variables","authMode","_d","def","operationType","responsePromise","_graphql","_graphqlSubscribe","appSyncGraphqlEndpoint","customGraphqlEndpoint","customEndpointRegion","_e","_f","_g","_h","_j","err_1","errors","_k","_l","aws_appsync_region","aws_appsync_graphqlEndpoint","graphql_endpoint","graphql_endpoint_iam_region","authenticationType","provider","cred","shear","GraphQLAPI","constants_1","RawSha256","state","Int32Array","from","INIT","temp","bufferLength","bytesHashed","finished","update","MAX_HASHABLE_LENGTH","BLOCK_SIZE","hashBuffer","digest","bitsHashed","bufferView","byteOffset","undecoratedLength","setUint8","setUint32","floor","out","DIGEST_LENGTH","state0","state1","state2","state3","state4","state5","state6","state7","u","t1_1","t2_1","t1","KEY","t2","serializedParams","isURLSearchParams","isDate","hashmarkIndex","isAxiosError","fileName","lineNumber","columnNumber","isFunction","l","isArrayBuffer","isFormData","isArrayBufferView","isUndefined","isFile","isBlob","isStream","pipe","URLSearchParams","product","assignValue","tslib_1","RawSha256_1","util_utf8_browser_1","Sha256","secret","outer","inner","convertToBuffer","bufferHash","bufferFromSecret","toHash","isEmptyData","digestSync","fromUtf8","BYTES_PER_ELEMENT","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","define","innerFn","outerFn","tryLocsList","protoGenerator","Generator","Context","_invoke","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","abrupt","tryCatch","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","iter","object","reverse","skipTempReset","stop","rootRecord","rval","exception","handle","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","RestAPIClass","custom","apiInfo","getEndpointInfo","apiConfig","find","api","RestAPI","APIClass","_restApi","_graphqlApi","restAPIConfig","graphQLAPIConfig","_classCallCheck","Constructor","_defineProperties","target","props","descriptor","_createClass","protoProps","staticProps","hasSymbols","getSymbol","observable","SymbolIterator","SymbolObservable","SymbolSpecies","getMethod","getSpecies","isObservable","hostReportError","log","enqueue","cleanupSubscription","subscription","cleanup","_cleanup","closeSubscription","_observer","_queue","_state","notifySubscription","observer","onNotify","queue","flushSubscription","Subscription","subscriber","subscriptionObserver","SubscriptionObserver","_subscription","_subscriber","_this2","_this3","_this4","C","hasSeed","hasValue","seed","_this5","_len","sources","_key","startNext","_this6","subscriptions","completeIfDone","closed","_item","_len2","items","_key2","symbol","_extendStatics","AbstractPubSubProvider","getProviderName","getCategory","__extends","__","ClientsQueue","Map","clientFactory","delete","topicSymbol","_super","MqttOverWSProvider","uuid","_clientsQueue","_topicObservers","_clientIdObservers","aws_pubsub_endpoint","aws_appsync_dangerously_connect_to_http_endpoint_for_testing","getTopicForValue","onDisconnect","topicsToDelete_1","clientIdObservers","observerForTopic","observerTopic","size","newClient","payloadString","_onMessage","isSSLEnabled","clientsQueue","targetTopics","matchedTopicObservers_1","filterArray","topicArray","left","right","mqttTopicMatch","parsedMessage_1","observersForTopic","Set","add","observersForClientId","e_1","__spread","AWSAppSyncProvider","_topicClient","_topicAlias","_cleanUp","entries","_cleanUpForTopic","has","obs","mqttConnections","newSubscriptions","newAliases","elem","connectionInfoForTopic","some","origKey","MESSAGE_TYPES","SUBSCRIPTION_STATUS","SOCKET_STATUS","AMPLIFY_SYMBOL","NON_RETRYABLE_CODES","AWS_APPSYNC_REALTIME_HEADERS","accept","AWSAppSyncRealTimeProvider","socketStatus","CLOSED","keepAliveTimeout","subscriptionObserverMap","promiseArray","_topics","_msg","subscriptionId_1","_startSubscriptionWithAWSAppSyncRealTime","subscriptionId","subscriptionState","_waitForSubscriptionToBeConnected","CONNECTED","_sendUnsubscriptionMessage","_removeSubscriptionObserver","dataString","headerObj","subscriptionMessage","stringToAWSRealTime","err_2","subscriptionFailedCallback_1","subscriptionFailedCallback","subscriptionReadyCallback","PENDING","startAckTimeoutId","_awsRealTimeHeaderBasedAuth","canonicalUri","authorization","GQL_START","_initializeWebSocketConnection","_timeoutStartSubscriptionAck","awsRealTimeSocket","res","rej","OPEN","READY","unsubscribeMessage","GQL_STOP","_closeSocketIfRequired","bufferedAmount","keepAliveTimeoutId","tempSocket","_handleIncomingSubscriptionMessage","GQL_DATA","GQL_START_ACK","GQL_CONNECTION_KEEP_ALIVE","_errorDisconnect","TIMEOUT_DISCONNECT","GQL_ERROR","FAILED","Hub","dispatch","SUBSCRIPTION_ACK","clear","discoverableEndpoint","headerString","headerQs","payloadQs","awsRealTimeUrl","err_3","CONNECTING","_initializeRetryableHandshake","_initializeHandshake","err_4","errorType","newSocket","ackOk","connectionTimeoutMs","GQL_CONNECTION_ACK","CONNECTION_CLOSED","GQL_CONNECTION_ERROR","gqlInit","GQL_CONNECTION_INIT","includes","headerHandler","handler","API_KEY","_awsRealTimeApiKeyHeader","AWS_IAM","_awsRealTimeIAMHeader","OPENID_CONNECT","_awsRealTimeOPENIDHeader","AMAZON_COGNITO_USER_POOLS","_awsRealTimeCUPHeader","dt","dtStr","Signer","PubSub","PubSubClass","_pluggables","_awsAppSyncProvider","_awsAppSyncRealTimeProvider","pluggable","addPluggable","getProviderByName","providerName","awsAppSyncProvider","awsAppSyncRealTimeProvider","getProviders","ssr","providers","console","_error","settle","parseHeaders","isURLSameOrigin","createError","requestData","requestHeaders","XMLHttpRequest","auth","username","btoa","open","onreadystatechange","status","responseURL","responseHeaders","getAllResponseHeaders","responseText","statusText","onabort","ontimeout","cookies","xsrfValue","xsrfCookieName","xsrfHeaderName","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","abort","encrypt","src","signed_headers","canonical_request","url_info","key_val","reencoded_val","key_a","key_b","parse_service_info","credential_scope","d_str","string_to_sign","algorithm","dt_str","get_signing_key","service_info","k_date","k_region","k_service","get_signature","signing_key","str_to_sign","access_info","request_str","serviceInfo","signature","authorization_header","get_authorization_header","signUrl","urlOrRequest","accessInfo","expiration","urlToSign","today","signedHeaders","credentialScope","sessionTokenRequired","queryParams","canonicalRequest","stringToSign","additionalQueryParams","slashes","Uint32Array","pow","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","process","maxContentLength","validateStatus","__exportStar","Dash","user","useContext","IdentityContext","useState","loading","setLoading","todoData","setTodoData","todoTitleRef","useRef","addTodoMutation","todo","random","title","current","fetchTodos","useEffect","as","sx","textAlign","Navbar","ref","color","onClick","getTodos","ind","style","marginLeft","marginTop","fontSize","fontWeight","margin","preventDefault","todoId","App","Link","to","fns"],"mappings":"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","file":"component---src-pages-app-js-bfabbad140d2e016564f.js","sourcesContent":["'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};","'use strict';\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\n\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '') : baseURL;\n};","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\nmodule.exports = function isBuffer(obj) {\n  return obj != null && obj.constructor != null && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj);\n};","'use strict';\n\nvar utils = require('../utils');\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\n\n\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n  utils.forEach(['url', 'method', 'params', 'data'], function valueFromConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    }\n  });\n  utils.forEach(['headers', 'auth', 'proxy'], function mergeDeepProperties(prop) {\n    if (utils.isObject(config2[prop])) {\n      config[prop] = utils.deepMerge(config1[prop], config2[prop]);\n    } else if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (utils.isObject(config1[prop])) {\n      config[prop] = utils.deepMerge(config1[prop]);\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n  utils.forEach(['baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer', 'timeout', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName', 'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'maxContentLength', 'validateStatus', 'maxRedirects', 'httpAgent', 'httpsAgent', 'cancelToken', 'socketPath'], function defaultToConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n  return config;\n};","/**\n * Date & time utility functions to abstract the `aws-sdk` away from users.\n * (v2 => v3 modularization is a breaking change)\n *\n * @see https://github.com/aws/aws-sdk-js/blob/6edf586dcc1de7fe8fbfbbd9a0d2b1847921e6e1/lib/util.js#L262\n */\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar FIVE_MINUTES_IN_MS = 1000 * 60 * 5;\nexport var DateUtils = {\n  /**\n   * Milliseconds to offset the date to compensate for clock skew between device & services\n   */\n  clockOffset: 0,\n  getDateWithClockOffset: function getDateWithClockOffset() {\n    if (DateUtils.clockOffset) {\n      return new Date(new Date().getTime() + DateUtils.clockOffset);\n    } else {\n      return new Date();\n    }\n  },\n\n  /**\n   * @returns {number} Clock offset in milliseconds\n   */\n  getClockOffset: function getClockOffset() {\n    return DateUtils.clockOffset;\n  },\n  getHeaderStringFromDate: function getHeaderStringFromDate(date) {\n    if (date === void 0) {\n      date = DateUtils.getDateWithClockOffset();\n    }\n\n    return date.toISOString().replace(/[:\\-]|\\.\\d{3}/g, '');\n  },\n  getDateFromHeaderString: function getDateFromHeaderString(header) {\n    var _a = __read(header.match(/^(\\d{4})(\\d{2})(\\d{2})T(\\d{2})(\\d{2})(\\d{2}).+/), 7),\n        year = _a[1],\n        month = _a[2],\n        day = _a[3],\n        hour = _a[4],\n        minute = _a[5],\n        second = _a[6];\n\n    return new Date(Date.UTC(Number(year), Number(month) - 1, Number(day), Number(hour), Number(minute), Number(second)));\n  },\n  isClockSkewed: function isClockSkewed(serverDate) {\n    // API gateway permits client calls that are off by no more than 5 minutes\n    return Math.abs(serverDate.getTime() - DateUtils.getDateWithClockOffset().getTime()) >= FIVE_MINUTES_IN_MS;\n  },\n  isClockSkewError: function isClockSkewError(error) {\n    if (!error.response || !error.response.headers) {\n      return false;\n    }\n\n    var headers = error.response.headers;\n    return Boolean(headers['x-amzn-errortype'] === 'BadRequestException' && (headers.date || headers.Date));\n  },\n\n  /**\n   * @param {number} offset Clock offset in milliseconds\n   */\n  setClockOffset: function setClockOffset(offset) {\n    DateUtils.clockOffset = offset;\n  }\n};","import \"core-js/modules/es.array.reduce\";\n\n/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { ConsoleLogger as Logger, Credentials, DateUtils, Signer, Platform } from '@aws-amplify/core';\nimport axios from 'axios';\nimport { parse, format } from 'url';\nvar logger = new Logger('RestClient');\n/**\n* HTTP Client for REST requests. Send and receive JSON data.\n* Sign request with AWS credentials if available\n* Usage:\n<pre>\nconst restClient = new RestClient();\nrestClient.get('...')\n    .then(function(data) {\n        console.log(data);\n    })\n    .catch(err => console.log(err));\n</pre>\n*/\n\nvar RestClient =\n/** @class */\nfunction () {\n  /**\n   * @param {RestClientOptions} [options] - Instance options\n   */\n  function RestClient(options) {\n    this._region = 'us-east-1'; // this will be updated by endpoint function\n\n    this._service = 'execute-api'; // this can be updated by endpoint function\n\n    this._custom_header = undefined; // this can be updated by endpoint function\n\n    /**\n     * This weak map provides functionality to let clients cancel\n     * in-flight axios requests. https://github.com/axios/axios#cancellation\n     *\n     * 1. For every axios request, a unique cancel token is generated and added in the request.\n     * 2. Promise for fulfilling the request is then mapped to that unique cancel token.\n     * 3. The promise is returned to the client.\n     * 4. Clients can either wait for the promise to fulfill or call `API.cancel(promise)` to cancel the request.\n     * 5. If `API.cancel(promise)` is called, then the corresponding cancel token is retrieved from the map below.\n     * 6. Promise returned to the client will be in rejected state with the error provided during cancel.\n     * 7. Clients can check if the error is because of cancelling by calling `API.isCancel(error)`.\n     *\n     * For more details, see https://github.com/aws-amplify/amplify-js/pull/3769#issuecomment-552660025\n     */\n\n    this._cancelTokenMap = null;\n    this.Credentials = Credentials;\n    this._options = options;\n    logger.debug('API Options', this._options);\n\n    if (this._cancelTokenMap == null) {\n      this._cancelTokenMap = new WeakMap();\n    }\n  }\n  /**\n  * Update AWS credentials\n  * @param {AWSCredentials} credentials - AWS credentials\n  *\n  updateCredentials(credentials: AWSCredentials) {\n      this.options.credentials = credentials;\n  }\n  */\n\n  /**\n   * Basic HTTP request. Customizable\n   * @param {string | ApiInfo } urlOrApiInfo - Full request URL or Api information\n   * @param {string} method - Request HTTP method\n   * @param {json} [init] - Request extra params\n   * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n   */\n\n\n  RestClient.prototype.ajax = function (urlOrApiInfo, method, init) {\n    return __awaiter(this, void 0, void 0, function () {\n      var parsed_url, url, region, service, custom_header, params, libraryHeaders, userAgent, initParams, isAllResponse, custom_header_obj, _a, _b, search, parsedUrl;\n\n      var _this = this;\n\n      return __generator(this, function (_c) {\n        switch (_c.label) {\n          case 0:\n            logger.debug(method, urlOrApiInfo);\n            region = 'us-east-1';\n            service = 'execute-api';\n            custom_header = undefined;\n\n            if (typeof urlOrApiInfo === 'string') {\n              parsed_url = this._parseUrl(urlOrApiInfo);\n              url = urlOrApiInfo;\n            } else {\n              url = urlOrApiInfo.endpoint, custom_header = urlOrApiInfo.custom_header, region = urlOrApiInfo.region, service = urlOrApiInfo.service;\n              parsed_url = this._parseUrl(urlOrApiInfo.endpoint);\n            }\n\n            params = {\n              method: method,\n              url: url,\n              host: parsed_url.host,\n              path: parsed_url.path,\n              headers: {},\n              data: null,\n              responseType: 'json',\n              timeout: 0,\n              cancelToken: null\n            };\n            libraryHeaders = {};\n\n            if (Platform.isReactNative) {\n              userAgent = Platform.userAgent || 'aws-amplify/0.1.x';\n              libraryHeaders = {\n                'User-Agent': userAgent\n              };\n            }\n\n            initParams = Object.assign({}, init);\n            isAllResponse = initParams.response;\n\n            if (initParams.body) {\n              if (typeof FormData === 'function' && initParams.body instanceof FormData) {\n                libraryHeaders['Content-Type'] = 'multipart/form-data';\n                params.data = initParams.body;\n              } else {\n                libraryHeaders['Content-Type'] = 'application/json; charset=UTF-8';\n                params.data = JSON.stringify(initParams.body);\n              }\n            }\n\n            if (initParams.responseType) {\n              params.responseType = initParams.responseType;\n            }\n\n            if (initParams.withCredentials) {\n              params['withCredentials'] = initParams.withCredentials;\n            }\n\n            if (initParams.timeout) {\n              params.timeout = initParams.timeout;\n            }\n\n            if (initParams.cancellableToken) {\n              params.cancelToken = initParams.cancellableToken.token;\n            }\n\n            params['signerServiceInfo'] = initParams.signerServiceInfo;\n            if (!(typeof custom_header === 'function')) return [3\n            /*break*/\n            , 2];\n            return [4\n            /*yield*/\n            , custom_header()];\n\n          case 1:\n            _a = _c.sent();\n            return [3\n            /*break*/\n            , 3];\n\n          case 2:\n            _a = undefined;\n            _c.label = 3;\n\n          case 3:\n            custom_header_obj = _a;\n            params.headers = __assign(__assign(__assign({}, libraryHeaders), custom_header_obj), initParams.headers);\n            _b = parse(url, true, true), search = _b.search, parsedUrl = __rest(_b, [\"search\"]);\n            params.url = format(__assign(__assign({}, parsedUrl), {\n              query: __assign(__assign({}, parsedUrl.query), initParams.queryStringParameters || {})\n            })); // Do not sign the request if client has added 'Authorization' header,\n            // which means custom authorizer.\n\n            if (typeof params.headers['Authorization'] !== 'undefined') {\n              params.headers = Object.keys(params.headers).reduce(function (acc, k) {\n                if (params.headers[k]) {\n                  acc[k] = params.headers[k];\n                }\n\n                return acc; // tslint:disable-next-line:align\n              }, {});\n              return [2\n              /*return*/\n              , this._request(params, isAllResponse)];\n            } // Signing the request in case there credentials are available\n\n\n            return [2\n            /*return*/\n            , this.Credentials.get().then(function (credentials) {\n              return _this._signed(__assign({}, params), credentials, isAllResponse, {\n                region: region,\n                service: service\n              }).catch(function (error) {\n                if (DateUtils.isClockSkewError(error)) {\n                  var headers = error.response.headers;\n                  var dateHeader = headers && (headers.date || headers.Date);\n                  var responseDate = new Date(dateHeader);\n                  var requestDate = DateUtils.getDateFromHeaderString(params.headers['x-amz-date']);\n\n                  if (DateUtils.isClockSkewed(requestDate, responseDate)) {\n                    DateUtils.setClockOffset(responseDate.getTime() - requestDate.getTime());\n                    return _this.ajax(urlOrApiInfo, method, init);\n                  }\n                }\n\n                throw error;\n              });\n            }, function (err) {\n              logger.debug('No credentials available, the request will be unsigned');\n              return _this._request(params, isAllResponse);\n            })];\n        }\n      });\n    });\n  };\n  /**\n   * GET HTTP request\n   * @param {string | ApiInfo } urlOrApiInfo - Full request URL or Api information\n   * @param {JSON} init - Request extra params\n   * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n   */\n\n\n  RestClient.prototype.get = function (urlOrApiInfo, init) {\n    return this.ajax(urlOrApiInfo, 'GET', init);\n  };\n  /**\n   * PUT HTTP request\n   * @param {string | ApiInfo } urlOrApiInfo - Full request URL or Api information\n   * @param {json} init - Request extra params\n   * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n   */\n\n\n  RestClient.prototype.put = function (urlOrApiInfo, init) {\n    return this.ajax(urlOrApiInfo, 'PUT', init);\n  };\n  /**\n   * PATCH HTTP request\n   * @param {string | ApiInfo } urlOrApiInfo - Full request URL or Api information\n   * @param {json} init - Request extra params\n   * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n   */\n\n\n  RestClient.prototype.patch = function (urlOrApiInfo, init) {\n    return this.ajax(urlOrApiInfo, 'PATCH', init);\n  };\n  /**\n   * POST HTTP request\n   * @param {string | ApiInfo } urlOrApiInfo - Full request URL or Api information\n   * @param {json} init - Request extra params\n   * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n   */\n\n\n  RestClient.prototype.post = function (urlOrApiInfo, init) {\n    return this.ajax(urlOrApiInfo, 'POST', init);\n  };\n  /**\n   * DELETE HTTP request\n   * @param {string | ApiInfo } urlOrApiInfo - Full request URL or Api information\n   * @param {json} init - Request extra params\n   * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n   */\n\n\n  RestClient.prototype.del = function (urlOrApiInfo, init) {\n    return this.ajax(urlOrApiInfo, 'DELETE', init);\n  };\n  /**\n   * HEAD HTTP request\n   * @param {string | ApiInfo } urlOrApiInfo - Full request URL or Api information\n   * @param {json} init - Request extra params\n   * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n   */\n\n\n  RestClient.prototype.head = function (urlOrApiInfo, init) {\n    return this.ajax(urlOrApiInfo, 'HEAD', init);\n  };\n  /**\n   * Cancel an inflight API request\n   * @param {Promise<any>} request - The request promise to cancel\n   * @param {string} [message] - A message to include in the cancelation exception\n   */\n\n\n  RestClient.prototype.cancel = function (request, message) {\n    var source = this._cancelTokenMap.get(request);\n\n    if (source) {\n      source.cancel(message);\n    }\n\n    return true;\n  };\n  /**\n   * Checks to see if an error thrown is from an api request cancellation\n   * @param {any} error - Any error\n   * @return {boolean} - A boolean indicating if the error was from an api request cancellation\n   */\n\n\n  RestClient.prototype.isCancel = function (error) {\n    return axios.isCancel(error);\n  };\n  /**\n   * Retrieves a new and unique cancel token which can be\n   * provided in an axios request to be cancelled later.\n   */\n\n\n  RestClient.prototype.getCancellableToken = function () {\n    return axios.CancelToken.source();\n  };\n  /**\n   * Updates the weakmap with a response promise and its\n   * cancel token such that the cancel token can be easily\n   * retrieved (and used for cancelling the request)\n   */\n\n\n  RestClient.prototype.updateRequestToBeCancellable = function (promise, cancelTokenSource) {\n    this._cancelTokenMap.set(promise, cancelTokenSource);\n  };\n  /**\n   * Getting endpoint for API\n   * @param {string} apiName - The name of the api\n   * @return {string} - The endpoint of the api\n   */\n\n\n  RestClient.prototype.endpoint = function (apiName) {\n    var _this = this;\n\n    var cloud_logic_array = this._options.endpoints;\n    var response = '';\n\n    if (!Array.isArray(cloud_logic_array)) {\n      return response;\n    }\n\n    cloud_logic_array.forEach(function (v) {\n      if (v.name === apiName) {\n        response = v.endpoint;\n\n        if (typeof v.region === 'string') {\n          _this._region = v.region;\n        } else if (typeof _this._options.region === 'string') {\n          _this._region = _this._options.region;\n        }\n\n        if (typeof v.service === 'string') {\n          _this._service = v.service || 'execute-api';\n        } else {\n          _this._service = 'execute-api';\n        }\n\n        if (typeof v.custom_header === 'function') {\n          _this._custom_header = v.custom_header;\n        } else {\n          _this._custom_header = undefined;\n        }\n      }\n    });\n    return response;\n  };\n  /** private methods **/\n\n\n  RestClient.prototype._signed = function (params, credentials, isAllResponse, _a) {\n    var service = _a.service,\n        region = _a.region;\n\n    var signerServiceInfoParams = params.signerServiceInfo,\n        otherParams = __rest(params, [\"signerServiceInfo\"]);\n\n    var endpoint_region = region || this._region || this._options.region;\n    var endpoint_service = service || this._service || this._options.service;\n    var creds = {\n      secret_key: credentials.secretAccessKey,\n      access_key: credentials.accessKeyId,\n      session_token: credentials.sessionToken\n    };\n    var endpointInfo = {\n      region: endpoint_region,\n      service: endpoint_service\n    };\n    var signerServiceInfo = Object.assign(endpointInfo, signerServiceInfoParams);\n    var signed_params = Signer.sign(otherParams, creds, signerServiceInfo);\n\n    if (signed_params.data) {\n      signed_params.body = signed_params.data;\n    }\n\n    logger.debug('Signed Request: ', signed_params);\n    delete signed_params.headers['host'];\n    return axios(signed_params).then(function (response) {\n      return isAllResponse ? response : response.data;\n    }).catch(function (error) {\n      logger.debug(error);\n      throw error;\n    });\n  };\n\n  RestClient.prototype._request = function (params, isAllResponse) {\n    if (isAllResponse === void 0) {\n      isAllResponse = false;\n    }\n\n    return axios(params).then(function (response) {\n      return isAllResponse ? response : response.data;\n    }).catch(function (error) {\n      logger.debug(error);\n      throw error;\n    });\n  };\n\n  RestClient.prototype._parseUrl = function (url) {\n    var parts = url.split('/');\n    return {\n      host: parts[2],\n      path: '/' + parts.slice(3).join('/')\n    };\n  };\n\n  return RestClient;\n}();\n\nexport { RestClient };","module.exports = require('./lib/Observable.js').Observable;","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { Auth } from './Auth';\nimport { CognitoHostedUIIdentityProvider } from './types/Auth';\nimport { CognitoUser, CookieStorage, appendToCognitoUserAgent } from 'amazon-cognito-identity-js';\nimport { AuthErrorStrings } from './common/AuthErrorStrings';\n/**\n * @deprecated use named import\n */\n\nexport default Auth;\nexport { Auth, CognitoUser, CookieStorage, CognitoHostedUIIdentityProvider, appendToCognitoUserAgent, AuthErrorStrings };","/*\n * Copyright 2018-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n\n/**\n * This Symbol is used to reference an internal-only PubSub provider that\n * is used for AppSync/GraphQL subscriptions in the API category.\n */\nvar hasSymbol = typeof Symbol !== 'undefined' && typeof Symbol.for === 'function';\nexport var INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER = hasSymbol ? Symbol.for('INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER') : '@@INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER';\nexport var INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER = hasSymbol ? Symbol.for('INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER') : '@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER';\nexport var USER_AGENT_HEADER = 'x-amz-user-agent';","'use strict';\n\nvar utils = require('./../utils'); // Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\n\n\nvar ignoreDuplicateOf = ['age', 'authorization', 'content-length', 'content-type', 'etag', 'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since', 'last-modified', 'location', 'max-forwards', 'proxy-authorization', 'referer', 'retry-after', 'user-agent'];\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\n\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) {\n    return parsed;\n  }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n  return parsed;\n};","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = utils.isStandardBrowserEnv() ? // Standard browser envs have full support of the APIs needed to test\n// whether the request URL is of the same origin as current location.\nfunction standardBrowserEnv() {\n  var msie = /(msie|trident)/i.test(navigator.userAgent);\n  var urlParsingNode = document.createElement('a');\n  var originURL;\n  /**\n  * Parse a URL to discover it's components\n  *\n  * @param {String} url The URL to be parsed\n  * @returns {Object}\n  */\n\n  function resolveURL(url) {\n    var href = url;\n\n    if (msie) {\n      // IE needs attribute set twice to normalize properties\n      urlParsingNode.setAttribute('href', href);\n      href = urlParsingNode.href;\n    }\n\n    urlParsingNode.setAttribute('href', href); // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n\n    return {\n      href: urlParsingNode.href,\n      protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n      host: urlParsingNode.host,\n      search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n      hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n      hostname: urlParsingNode.hostname,\n      port: urlParsingNode.port,\n      pathname: urlParsingNode.pathname.charAt(0) === '/' ? urlParsingNode.pathname : '/' + urlParsingNode.pathname\n    };\n  }\n\n  originURL = resolveURL(window.location.href);\n  /**\n  * Determine if a URL shares the same origin as the current location\n  *\n  * @param {String} requestURL The URL to test\n  * @returns {boolean} True if URL shares the same origin, otherwise false\n  */\n\n  return function isURLSameOrigin(requestURL) {\n    var parsed = utils.isString(requestURL) ? resolveURL(requestURL) : requestURL;\n    return parsed.protocol === originURL.protocol && parsed.host === originURL.host;\n  };\n}() : // Non standard browser envs (web workers, react-native) lack needed support.\nfunction nonStandardBrowserEnv() {\n  return function isURLSameOrigin() {\n    return true;\n  };\n}();","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { Amplify } from './Amplify';\nimport { Platform } from './Platform';\nexport { AmplifyClass } from './Amplify';\nexport { ClientDevice } from './ClientDevice';\nexport { ConsoleLogger, ConsoleLogger as Logger } from './Logger';\nexport * from './Errors';\nexport { Hub } from './Hub';\nexport { I18n } from './I18n';\nexport * from './JS';\nexport { Signer } from './Signer';\nexport * from './Parser';\nexport { FacebookOAuth, GoogleOAuth } from './OAuthHelper';\nexport * from './RNComponents';\nexport { Credentials, CredentialsClass } from './Credentials';\nexport { ServiceWorker } from './ServiceWorker';\nexport { StorageHelper, MemoryStorage } from './StorageHelper';\nexport { UniversalStorage } from './UniversalStorage';\nexport { Platform, getAmplifyUserAgent } from './Platform';\nexport * from './constants';\nexport var Constants = {\n  userAgent: Platform.userAgent\n};\nexport * from './constants';\nexport * from './Util';\nexport { Amplify };\n/**\n * @deprecated use named import\n */\n\nexport default Amplify;","'use strict';\n\nvar Cancel = require('./Cancel');\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\n\n\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\n\n\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\n\n\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","'use strict';\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\n\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\nmodule.exports = Cancel;","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { ConsoleLogger as Logger } from '../Logger';\nvar logger = new Logger('I18n');\n/**\n * Language transition class\n */\n\nvar I18n =\n/** @class */\nfunction () {\n  /**\n   * @constructor\n   * Initialize with configurations\n   * @param {Object} options\n   */\n  function I18n(options) {\n    /**\n     * @private\n     */\n    this._options = null;\n    /**\n     * @private\n     */\n\n    this._lang = null;\n    /**\n     * @private\n     */\n\n    this._dict = {};\n    this._options = Object.assign({}, options);\n    this._lang = this._options.language;\n\n    if (!this._lang && typeof window !== 'undefined' && window && window.navigator) {\n      this._lang = window.navigator.language;\n    }\n\n    logger.debug(this._lang);\n  }\n  /**\n   * @method\n   * Explicitly setting language\n   * @param {String} lang\n   */\n\n\n  I18n.prototype.setLanguage = function (lang) {\n    this._lang = lang;\n  };\n  /**\n   * @method\n   * Get value\n   * @param {String} key\n   * @param {String} defVal - Default value\n   */\n\n\n  I18n.prototype.get = function (key, defVal) {\n    if (defVal === void 0) {\n      defVal = undefined;\n    }\n\n    if (!this._lang) {\n      return typeof defVal !== 'undefined' ? defVal : key;\n    }\n\n    var lang = this._lang;\n    var val = this.getByLanguage(key, lang);\n\n    if (val) {\n      return val;\n    }\n\n    if (lang.indexOf('-') > 0) {\n      val = this.getByLanguage(key, lang.split('-')[0]);\n    }\n\n    if (val) {\n      return val;\n    }\n\n    return typeof defVal !== 'undefined' ? defVal : key;\n  };\n  /**\n   * @method\n   * Get value according to specified language\n   * @param {String} key\n   * @param {String} language - Specified langurage to be used\n   * @param {String} defVal - Default value\n   */\n\n\n  I18n.prototype.getByLanguage = function (key, language, defVal) {\n    if (defVal === void 0) {\n      defVal = null;\n    }\n\n    if (!language) {\n      return defVal;\n    }\n\n    var lang_dict = this._dict[language];\n\n    if (!lang_dict) {\n      return defVal;\n    }\n\n    return lang_dict[key];\n  };\n  /**\n   * @method\n   * Add vocabularies for one language\n   * @param {String} language - Language of the dictionary\n   * @param {Object} vocabularies - Object that has key-value as dictionary entry\n   */\n\n\n  I18n.prototype.putVocabulariesForLanguage = function (language, vocabularies) {\n    var lang_dict = this._dict[language];\n\n    if (!lang_dict) {\n      lang_dict = this._dict[language] = {};\n    }\n\n    Object.assign(lang_dict, vocabularies);\n  };\n  /**\n   * @method\n   * Add vocabularies for one language\n   * @param {Object} vocabularies - Object that has language as key,\n   *                                vocabularies of each language as value\n   */\n\n\n  I18n.prototype.putVocabularies = function (vocabularies) {\n    var _this = this;\n\n    Object.keys(vocabularies).map(function (key) {\n      _this.putVocabulariesForLanguage(key, vocabularies[key]);\n    });\n  };\n\n  return I18n;\n}();\n\nexport { I18n };","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { I18n as I18nClass } from './I18n';\nimport { ConsoleLogger as Logger } from '../Logger';\nimport { Amplify } from '../Amplify';\nvar logger = new Logger('I18n');\nvar _config = null;\nvar _i18n = null;\n/**\n * Export I18n APIs\n */\n\nvar I18n =\n/** @class */\nfunction () {\n  function I18n() {}\n  /**\n   * @static\n   * @method\n   * Configure I18n part\n   * @param {Object} config - Configuration of the I18n\n   */\n\n\n  I18n.configure = function (config) {\n    logger.debug('configure I18n');\n\n    if (!config) {\n      return _config;\n    }\n\n    _config = Object.assign({}, _config, config.I18n || config);\n    I18n.createInstance();\n    return _config;\n  };\n\n  I18n.getModuleName = function () {\n    return 'I18n';\n  };\n  /**\n   * @static\n   * @method\n   * Create an instance of I18n for the library\n   */\n\n\n  I18n.createInstance = function () {\n    logger.debug('create I18n instance');\n\n    if (_i18n) {\n      return;\n    }\n\n    _i18n = new I18nClass(_config);\n  };\n  /**\n   * @static @method\n   * Explicitly setting language\n   * @param {String} lang\n   */\n\n\n  I18n.setLanguage = function (lang) {\n    I18n.checkConfig();\n    return _i18n.setLanguage(lang);\n  };\n  /**\n   * @static @method\n   * Get value\n   * @param {String} key\n   * @param {String} defVal - Default value\n   */\n\n\n  I18n.get = function (key, defVal) {\n    if (!I18n.checkConfig()) {\n      return typeof defVal === 'undefined' ? key : defVal;\n    }\n\n    return _i18n.get(key, defVal);\n  };\n  /**\n   * @static\n   * @method\n   * Add vocabularies for one language\n   * @param {String} langurage - Language of the dictionary\n   * @param {Object} vocabularies - Object that has key-value as dictionary entry\n   */\n\n\n  I18n.putVocabulariesForLanguage = function (language, vocabularies) {\n    I18n.checkConfig();\n    return _i18n.putVocabulariesForLanguage(language, vocabularies);\n  };\n  /**\n   * @static\n   * @method\n   * Add vocabularies for one language\n   * @param {Object} vocabularies - Object that has language as key,\n   *                                vocabularies of each language as value\n   */\n\n\n  I18n.putVocabularies = function (vocabularies) {\n    I18n.checkConfig();\n    return _i18n.putVocabularies(vocabularies);\n  };\n\n  I18n.checkConfig = function () {\n    if (!_i18n) {\n      _i18n = new I18nClass(_config);\n    }\n\n    return true;\n  };\n\n  return I18n;\n}();\n\nexport { I18n };\nAmplify.register(I18n);\n/**\n * @deprecated use named import\n */\n\nexport default I18n;","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\n\n\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\n\n\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\n\n\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;","'use strict';\n\nvar utils = require('./utils');\n\nvar bind = require('./helpers/bind');\n\nvar Axios = require('./core/Axios');\n\nvar mergeConfig = require('./core/mergeConfig');\n\nvar defaults = require('./defaults');\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\n\n\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context); // Copy axios.prototype to instance\n\n  utils.extend(instance, Axios.prototype, context); // Copy context to instance\n\n  utils.extend(instance, context);\n  return instance;\n} // Create the default instance to be exported\n\n\nvar axios = createInstance(defaults); // Expose Axios class to allow class inheritance\n\naxios.Axios = Axios; // Factory for creating new instances\n\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n}; // Expose Cancel & CancelToken\n\n\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel'); // Expose all/spread\n\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = require('./helpers/spread');\nmodule.exports = axios; // Allow use of default import syntax in TypeScript\n\nmodule.exports.default = axios;","/*******************************************************************************\n * Copyright (c) 2013 IBM Corp.\n *\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * and Eclipse Distribution License v1.0 which accompany this distribution.\n *\n * The Eclipse Public License is available at\n *    http://www.eclipse.org/legal/epl-v10.html\n * and the Eclipse Distribution License is available at\n *   http://www.eclipse.org/org/documents/edl-v10.php.\n *\n * Contributors:\n *    Andrew Banks - initial API and implementation and initial documentation\n *******************************************************************************/\n// Only expose a single object name in the global namespace.\n// Everything must go through this module. Global Paho module\n// only has a single public function, client, which returns\n// a Paho client object given connection details.\n\n/**\n * Send and receive messages using web browsers.\n * <p>\n * This programming interface lets a JavaScript client application use the MQTT V3.1 or\n * V3.1.1 protocol to connect to an MQTT-supporting messaging server.\n *\n * The function supported includes:\n * <ol>\n * <li>Connecting to and disconnecting from a server. The server is identified by its host name and port number.\n * <li>Specifying options that relate to the communications link with the server,\n * for example the frequency of keep-alive heartbeats, and whether SSL/TLS is required.\n * <li>Subscribing to and receiving messages from MQTT Topics.\n * <li>Publishing messages to MQTT Topics.\n * </ol>\n * <p>\n * The API consists of two main objects:\n * <dl>\n * <dt><b>{@link Paho.Client}</b></dt>\n * <dd>This contains methods that provide the functionality of the API,\n * including provision of callbacks that notify the application when a message\n * arrives from or is delivered to the messaging server,\n * or when the status of its connection to the messaging server changes.</dd>\n * <dt><b>{@link Paho.Message}</b></dt>\n * <dd>This encapsulates the payload of the message along with various attributes\n * associated with its delivery, in particular the destination to which it has\n * been (or is about to be) sent.</dd>\n * </dl>\n * <p>\n * The programming interface validates parameters passed to it, and will throw\n * an Error containing an error message intended for developer use, if it detects\n * an error with any parameter.\n * <p>\n * Example:\n *\n * <code><pre>\nvar client = new Paho.MQTT.Client(location.hostname, Number(location.port), \"clientId\");\nclient.onConnectionLost = onConnectionLost;\nclient.onMessageArrived = onMessageArrived;\nclient.connect({onSuccess:onConnect});\n\nfunction onConnect() {\n  // Once a connection has been made, make a subscription and send a message.\n  console.log(\"onConnect\");\n  client.subscribe(\"/World\");\n  var message = new Paho.MQTT.Message(\"Hello\");\n  message.destinationName = \"/World\";\n  client.send(message);\n};\nfunction onConnectionLost(responseObject) {\n  if (responseObject.errorCode !== 0)\n\tconsole.log(\"onConnectionLost:\"+responseObject.errorMessage);\n};\nfunction onMessageArrived(message) {\n  console.log(\"onMessageArrived:\"+message.payloadString);\n  client.disconnect();\n};\n * </pre></code>\n * @namespace Paho\n */\n\n/* jshint shadow:true */\n(function ExportLibrary(root, factory) {\n  if (typeof exports === \"object\" && typeof module === \"object\") {\n    module.exports = factory();\n  } else if (typeof define === \"function\" && define.amd) {\n    define(factory);\n  } else if (typeof exports === \"object\") {\n    exports = factory();\n  } else {\n    //if (typeof root.Paho === \"undefined\"){\n    //\troot.Paho = {};\n    //}\n    root.Paho = factory();\n  }\n})(this, function LibraryFactory() {\n  var PahoMQTT = function (global) {\n    // Private variables below, these are only visible inside the function closure\n    // which is used to define the module.\n    var version = \"@VERSION@-@BUILDLEVEL@\";\n    /**\n     * @private\n     */\n\n    var localStorage = global.localStorage || function () {\n      var data = {};\n      return {\n        setItem: function setItem(key, item) {\n          data[key] = item;\n        },\n        getItem: function getItem(key) {\n          return data[key];\n        },\n        removeItem: function removeItem(key) {\n          delete data[key];\n        }\n      };\n    }();\n    /**\n    * Unique message type identifiers, with associated\n    * associated integer values.\n    * @private\n    */\n\n\n    var MESSAGE_TYPE = {\n      CONNECT: 1,\n      CONNACK: 2,\n      PUBLISH: 3,\n      PUBACK: 4,\n      PUBREC: 5,\n      PUBREL: 6,\n      PUBCOMP: 7,\n      SUBSCRIBE: 8,\n      SUBACK: 9,\n      UNSUBSCRIBE: 10,\n      UNSUBACK: 11,\n      PINGREQ: 12,\n      PINGRESP: 13,\n      DISCONNECT: 14\n    }; // Collection of utility methods used to simplify module code\n    // and promote the DRY pattern.\n\n    /**\n    * Validate an object's parameter names to ensure they\n    * match a list of expected variables name for this option\n    * type. Used to ensure option object passed into the API don't\n    * contain erroneous parameters.\n    * @param {Object} obj - User options object\n    * @param {Object} keys - valid keys and types that may exist in obj.\n    * @throws {Error} Invalid option parameter found.\n    * @private\n    */\n\n    var validate = function validate(obj, keys) {\n      for (var key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          if (keys.hasOwnProperty(key)) {\n            if (typeof obj[key] !== keys[key]) throw new Error(format(ERROR.INVALID_TYPE, [typeof obj[key], key]));\n          } else {\n            var errorStr = \"Unknown property, \" + key + \". Valid properties are:\";\n\n            for (var validKey in keys) {\n              if (keys.hasOwnProperty(validKey)) errorStr = errorStr + \" \" + validKey;\n            }\n\n            throw new Error(errorStr);\n          }\n        }\n      }\n    };\n    /**\n    * Return a new function which runs the user function bound\n    * to a fixed scope.\n    * @param {function} User function\n    * @param {object} Function scope\n    * @return {function} User function bound to another scope\n    * @private\n    */\n\n\n    var scope = function scope(f, _scope) {\n      return function () {\n        return f.apply(_scope, arguments);\n      };\n    };\n    /**\n    * Unique message type identifiers, with associated\n    * associated integer values.\n    * @private\n    */\n\n\n    var ERROR = {\n      OK: {\n        code: 0,\n        text: \"AMQJSC0000I OK.\"\n      },\n      CONNECT_TIMEOUT: {\n        code: 1,\n        text: \"AMQJSC0001E Connect timed out.\"\n      },\n      SUBSCRIBE_TIMEOUT: {\n        code: 2,\n        text: \"AMQJS0002E Subscribe timed out.\"\n      },\n      UNSUBSCRIBE_TIMEOUT: {\n        code: 3,\n        text: \"AMQJS0003E Unsubscribe timed out.\"\n      },\n      PING_TIMEOUT: {\n        code: 4,\n        text: \"AMQJS0004E Ping timed out.\"\n      },\n      INTERNAL_ERROR: {\n        code: 5,\n        text: \"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}\"\n      },\n      CONNACK_RETURNCODE: {\n        code: 6,\n        text: \"AMQJS0006E Bad Connack return code:{0} {1}.\"\n      },\n      SOCKET_ERROR: {\n        code: 7,\n        text: \"AMQJS0007E Socket error:{0}.\"\n      },\n      SOCKET_CLOSE: {\n        code: 8,\n        text: \"AMQJS0008I Socket closed.\"\n      },\n      MALFORMED_UTF: {\n        code: 9,\n        text: \"AMQJS0009E Malformed UTF data:{0} {1} {2}.\"\n      },\n      UNSUPPORTED: {\n        code: 10,\n        text: \"AMQJS0010E {0} is not supported by this browser.\"\n      },\n      INVALID_STATE: {\n        code: 11,\n        text: \"AMQJS0011E Invalid state {0}.\"\n      },\n      INVALID_TYPE: {\n        code: 12,\n        text: \"AMQJS0012E Invalid type {0} for {1}.\"\n      },\n      INVALID_ARGUMENT: {\n        code: 13,\n        text: \"AMQJS0013E Invalid argument {0} for {1}.\"\n      },\n      UNSUPPORTED_OPERATION: {\n        code: 14,\n        text: \"AMQJS0014E Unsupported operation.\"\n      },\n      INVALID_STORED_DATA: {\n        code: 15,\n        text: \"AMQJS0015E Invalid data in local storage key={0} value={1}.\"\n      },\n      INVALID_MQTT_MESSAGE_TYPE: {\n        code: 16,\n        text: \"AMQJS0016E Invalid MQTT message type {0}.\"\n      },\n      MALFORMED_UNICODE: {\n        code: 17,\n        text: \"AMQJS0017E Malformed Unicode string:{0} {1}.\"\n      },\n      BUFFER_FULL: {\n        code: 18,\n        text: \"AMQJS0018E Message buffer is full, maximum buffer size: {0}.\"\n      }\n    };\n    /** CONNACK RC Meaning. */\n\n    var CONNACK_RC = {\n      0: \"Connection Accepted\",\n      1: \"Connection Refused: unacceptable protocol version\",\n      2: \"Connection Refused: identifier rejected\",\n      3: \"Connection Refused: server unavailable\",\n      4: \"Connection Refused: bad user name or password\",\n      5: \"Connection Refused: not authorized\"\n    };\n    /**\n     * Format an error message text.\n     * @private\n     * @param {error} ERROR value above.\n     * @param {substitutions} [array] substituted into the text.\n     * @return the text with the substitutions made.\n     */\n\n    var format = function format(error, substitutions) {\n      var text = error.text;\n\n      if (substitutions) {\n        var field, start;\n\n        for (var i = 0; i < substitutions.length; i++) {\n          field = \"{\" + i + \"}\";\n          start = text.indexOf(field);\n\n          if (start > 0) {\n            var part1 = text.substring(0, start);\n            var part2 = text.substring(start + field.length);\n            text = part1 + substitutions[i] + part2;\n          }\n        }\n      }\n\n      return text;\n    }; //MQTT protocol and version          6    M    Q    I    s    d    p    3\n\n\n    var MqttProtoIdentifierv3 = [0x00, 0x06, 0x4d, 0x51, 0x49, 0x73, 0x64, 0x70, 0x03]; //MQTT proto/version for 311         4    M    Q    T    T    4\n\n    var MqttProtoIdentifierv4 = [0x00, 0x04, 0x4d, 0x51, 0x54, 0x54, 0x04];\n    /**\n    * Construct an MQTT wire protocol message.\n    * @param type MQTT packet type.\n    * @param options optional wire message attributes.\n    *\n    * Optional properties\n    *\n    * messageIdentifier: message ID in the range [0..65535]\n    * payloadMessage:\tApplication Message - PUBLISH only\n    * connectStrings:\tarray of 0 or more Strings to be put into the CONNECT payload\n    * topics:\t\t\tarray of strings (SUBSCRIBE, UNSUBSCRIBE)\n    * requestQoS:\t\tarray of QoS values [0..2]\n    *\n    * \"Flag\" properties\n    * cleanSession:\ttrue if present / false if absent (CONNECT)\n    * willMessage:  \ttrue if present / false if absent (CONNECT)\n    * isRetained:\t\ttrue if present / false if absent (CONNECT)\n    * userName:\t\ttrue if present / false if absent (CONNECT)\n    * password:\t\ttrue if present / false if absent (CONNECT)\n    * keepAliveInterval:\tinteger [0..65535]  (CONNECT)\n    *\n    * @private\n    * @ignore\n    */\n\n    var WireMessage = function WireMessage(type, options) {\n      this.type = type;\n\n      for (var name in options) {\n        if (options.hasOwnProperty(name)) {\n          this[name] = options[name];\n        }\n      }\n    };\n\n    WireMessage.prototype.encode = function () {\n      // Compute the first byte of the fixed header\n      var first = (this.type & 0x0f) << 4;\n      /*\n      * Now calculate the length of the variable header + payload by adding up the lengths\n      * of all the component parts\n      */\n\n      var remLength = 0;\n      var topicStrLength = [];\n      var destinationNameLength = 0;\n      var willMessagePayloadBytes; // if the message contains a messageIdentifier then we need two bytes for that\n\n      if (this.messageIdentifier !== undefined) remLength += 2;\n\n      switch (this.type) {\n        // If this a Connect then we need to include 12 bytes for its header\n        case MESSAGE_TYPE.CONNECT:\n          switch (this.mqttVersion) {\n            case 3:\n              remLength += MqttProtoIdentifierv3.length + 3;\n              break;\n\n            case 4:\n              remLength += MqttProtoIdentifierv4.length + 3;\n              break;\n          }\n\n          remLength += UTF8Length(this.clientId) + 2;\n\n          if (this.willMessage !== undefined) {\n            remLength += UTF8Length(this.willMessage.destinationName) + 2; // Will message is always a string, sent as UTF-8 characters with a preceding length.\n\n            willMessagePayloadBytes = this.willMessage.payloadBytes;\n            if (!(willMessagePayloadBytes instanceof Uint8Array)) willMessagePayloadBytes = new Uint8Array(payloadBytes);\n            remLength += willMessagePayloadBytes.byteLength + 2;\n          }\n\n          if (this.userName !== undefined) remLength += UTF8Length(this.userName) + 2;\n          if (this.password !== undefined) remLength += UTF8Length(this.password) + 2;\n          break;\n        // Subscribe, Unsubscribe can both contain topic strings\n\n        case MESSAGE_TYPE.SUBSCRIBE:\n          first |= 0x02; // Qos = 1;\n\n          for (var i = 0; i < this.topics.length; i++) {\n            topicStrLength[i] = UTF8Length(this.topics[i]);\n            remLength += topicStrLength[i] + 2;\n          }\n\n          remLength += this.requestedQos.length; // 1 byte for each topic's Qos\n          // QoS on Subscribe only\n\n          break;\n\n        case MESSAGE_TYPE.UNSUBSCRIBE:\n          first |= 0x02; // Qos = 1;\n\n          for (var i = 0; i < this.topics.length; i++) {\n            topicStrLength[i] = UTF8Length(this.topics[i]);\n            remLength += topicStrLength[i] + 2;\n          }\n\n          break;\n\n        case MESSAGE_TYPE.PUBREL:\n          first |= 0x02; // Qos = 1;\n\n          break;\n\n        case MESSAGE_TYPE.PUBLISH:\n          if (this.payloadMessage.duplicate) first |= 0x08;\n          first = first |= this.payloadMessage.qos << 1;\n          if (this.payloadMessage.retained) first |= 0x01;\n          destinationNameLength = UTF8Length(this.payloadMessage.destinationName);\n          remLength += destinationNameLength + 2;\n          var payloadBytes = this.payloadMessage.payloadBytes;\n          remLength += payloadBytes.byteLength;\n          if (payloadBytes instanceof ArrayBuffer) payloadBytes = new Uint8Array(payloadBytes);else if (!(payloadBytes instanceof Uint8Array)) payloadBytes = new Uint8Array(payloadBytes.buffer);\n          break;\n\n        case MESSAGE_TYPE.DISCONNECT:\n          break;\n\n        default:\n          break;\n      } // Now we can allocate a buffer for the message\n\n\n      var mbi = encodeMBI(remLength); // Convert the length to MQTT MBI format\n\n      var pos = mbi.length + 1; // Offset of start of variable header\n\n      var buffer = new ArrayBuffer(remLength + pos);\n      var byteStream = new Uint8Array(buffer); // view it as a sequence of bytes\n      //Write the fixed header into the buffer\n\n      byteStream[0] = first;\n      byteStream.set(mbi, 1); // If this is a PUBLISH then the variable header starts with a topic\n\n      if (this.type == MESSAGE_TYPE.PUBLISH) pos = writeString(this.payloadMessage.destinationName, destinationNameLength, byteStream, pos); // If this is a CONNECT then the variable header contains the protocol name/version, flags and keepalive time\n      else if (this.type == MESSAGE_TYPE.CONNECT) {\n          switch (this.mqttVersion) {\n            case 3:\n              byteStream.set(MqttProtoIdentifierv3, pos);\n              pos += MqttProtoIdentifierv3.length;\n              break;\n\n            case 4:\n              byteStream.set(MqttProtoIdentifierv4, pos);\n              pos += MqttProtoIdentifierv4.length;\n              break;\n          }\n\n          var connectFlags = 0;\n          if (this.cleanSession) connectFlags = 0x02;\n\n          if (this.willMessage !== undefined) {\n            connectFlags |= 0x04;\n            connectFlags |= this.willMessage.qos << 3;\n\n            if (this.willMessage.retained) {\n              connectFlags |= 0x20;\n            }\n          }\n\n          if (this.userName !== undefined) connectFlags |= 0x80;\n          if (this.password !== undefined) connectFlags |= 0x40;\n          byteStream[pos++] = connectFlags;\n          pos = writeUint16(this.keepAliveInterval, byteStream, pos);\n        } // Output the messageIdentifier - if there is one\n\n      if (this.messageIdentifier !== undefined) pos = writeUint16(this.messageIdentifier, byteStream, pos);\n\n      switch (this.type) {\n        case MESSAGE_TYPE.CONNECT:\n          pos = writeString(this.clientId, UTF8Length(this.clientId), byteStream, pos);\n\n          if (this.willMessage !== undefined) {\n            pos = writeString(this.willMessage.destinationName, UTF8Length(this.willMessage.destinationName), byteStream, pos);\n            pos = writeUint16(willMessagePayloadBytes.byteLength, byteStream, pos);\n            byteStream.set(willMessagePayloadBytes, pos);\n            pos += willMessagePayloadBytes.byteLength;\n          }\n\n          if (this.userName !== undefined) pos = writeString(this.userName, UTF8Length(this.userName), byteStream, pos);\n          if (this.password !== undefined) pos = writeString(this.password, UTF8Length(this.password), byteStream, pos);\n          break;\n\n        case MESSAGE_TYPE.PUBLISH:\n          // PUBLISH has a text or binary payload, if text do not add a 2 byte length field, just the UTF characters.\n          byteStream.set(payloadBytes, pos);\n          break;\n        //    \t    case MESSAGE_TYPE.PUBREC:\n        //    \t    case MESSAGE_TYPE.PUBREL:\n        //    \t    case MESSAGE_TYPE.PUBCOMP:\n        //    \t    \tbreak;\n\n        case MESSAGE_TYPE.SUBSCRIBE:\n          // SUBSCRIBE has a list of topic strings and request QoS\n          for (var i = 0; i < this.topics.length; i++) {\n            pos = writeString(this.topics[i], topicStrLength[i], byteStream, pos);\n            byteStream[pos++] = this.requestedQos[i];\n          }\n\n          break;\n\n        case MESSAGE_TYPE.UNSUBSCRIBE:\n          // UNSUBSCRIBE has a list of topic strings\n          for (var i = 0; i < this.topics.length; i++) {\n            pos = writeString(this.topics[i], topicStrLength[i], byteStream, pos);\n          }\n\n          break;\n\n        default: // Do nothing.\n\n      }\n\n      return buffer;\n    };\n\n    function decodeMessage(input, pos) {\n      var startingPos = pos;\n      var first = input[pos];\n      var type = first >> 4;\n      var messageInfo = first &= 0x0f;\n      pos += 1; // Decode the remaining length (MBI format)\n\n      var digit;\n      var remLength = 0;\n      var multiplier = 1;\n\n      do {\n        if (pos == input.length) {\n          return [null, startingPos];\n        }\n\n        digit = input[pos++];\n        remLength += (digit & 0x7F) * multiplier;\n        multiplier *= 128;\n      } while ((digit & 0x80) !== 0);\n\n      var endPos = pos + remLength;\n\n      if (endPos > input.length) {\n        return [null, startingPos];\n      }\n\n      var wireMessage = new WireMessage(type);\n\n      switch (type) {\n        case MESSAGE_TYPE.CONNACK:\n          var connectAcknowledgeFlags = input[pos++];\n          if (connectAcknowledgeFlags & 0x01) wireMessage.sessionPresent = true;\n          wireMessage.returnCode = input[pos++];\n          break;\n\n        case MESSAGE_TYPE.PUBLISH:\n          var qos = messageInfo >> 1 & 0x03;\n          var len = readUint16(input, pos);\n          pos += 2;\n          var topicName = parseUTF8(input, pos, len);\n          pos += len; // If QoS 1 or 2 there will be a messageIdentifier\n\n          if (qos > 0) {\n            wireMessage.messageIdentifier = readUint16(input, pos);\n            pos += 2;\n          }\n\n          var message = new Message(input.subarray(pos, endPos));\n          if ((messageInfo & 0x01) == 0x01) message.retained = true;\n          if ((messageInfo & 0x08) == 0x08) message.duplicate = true;\n          message.qos = qos;\n          message.destinationName = topicName;\n          wireMessage.payloadMessage = message;\n          break;\n\n        case MESSAGE_TYPE.PUBACK:\n        case MESSAGE_TYPE.PUBREC:\n        case MESSAGE_TYPE.PUBREL:\n        case MESSAGE_TYPE.PUBCOMP:\n        case MESSAGE_TYPE.UNSUBACK:\n          wireMessage.messageIdentifier = readUint16(input, pos);\n          break;\n\n        case MESSAGE_TYPE.SUBACK:\n          wireMessage.messageIdentifier = readUint16(input, pos);\n          pos += 2;\n          wireMessage.returnCode = input.subarray(pos, endPos);\n          break;\n\n        default:\n          break;\n      }\n\n      return [wireMessage, endPos];\n    }\n\n    function writeUint16(input, buffer, offset) {\n      buffer[offset++] = input >> 8; //MSB\n\n      buffer[offset++] = input % 256; //LSB\n\n      return offset;\n    }\n\n    function writeString(input, utf8Length, buffer, offset) {\n      offset = writeUint16(utf8Length, buffer, offset);\n      stringToUTF8(input, buffer, offset);\n      return offset + utf8Length;\n    }\n\n    function readUint16(buffer, offset) {\n      return 256 * buffer[offset] + buffer[offset + 1];\n    }\n    /**\n    * Encodes an MQTT Multi-Byte Integer\n    * @private\n    */\n\n\n    function encodeMBI(number) {\n      var output = new Array(1);\n      var numBytes = 0;\n\n      do {\n        var digit = number % 128;\n        number = number >> 7;\n\n        if (number > 0) {\n          digit |= 0x80;\n        }\n\n        output[numBytes++] = digit;\n      } while (number > 0 && numBytes < 4);\n\n      return output;\n    }\n    /**\n    * Takes a String and calculates its length in bytes when encoded in UTF8.\n    * @private\n    */\n\n\n    function UTF8Length(input) {\n      var output = 0;\n\n      for (var i = 0; i < input.length; i++) {\n        var charCode = input.charCodeAt(i);\n\n        if (charCode > 0x7FF) {\n          // Surrogate pair means its a 4 byte character\n          if (0xD800 <= charCode && charCode <= 0xDBFF) {\n            i++;\n            output++;\n          }\n\n          output += 3;\n        } else if (charCode > 0x7F) output += 2;else output++;\n      }\n\n      return output;\n    }\n    /**\n    * Takes a String and writes it into an array as UTF8 encoded bytes.\n    * @private\n    */\n\n\n    function stringToUTF8(input, output, start) {\n      var pos = start;\n\n      for (var i = 0; i < input.length; i++) {\n        var charCode = input.charCodeAt(i); // Check for a surrogate pair.\n\n        if (0xD800 <= charCode && charCode <= 0xDBFF) {\n          var lowCharCode = input.charCodeAt(++i);\n\n          if (isNaN(lowCharCode)) {\n            throw new Error(format(ERROR.MALFORMED_UNICODE, [charCode, lowCharCode]));\n          }\n\n          charCode = (charCode - 0xD800 << 10) + (lowCharCode - 0xDC00) + 0x10000;\n        }\n\n        if (charCode <= 0x7F) {\n          output[pos++] = charCode;\n        } else if (charCode <= 0x7FF) {\n          output[pos++] = charCode >> 6 & 0x1F | 0xC0;\n          output[pos++] = charCode & 0x3F | 0x80;\n        } else if (charCode <= 0xFFFF) {\n          output[pos++] = charCode >> 12 & 0x0F | 0xE0;\n          output[pos++] = charCode >> 6 & 0x3F | 0x80;\n          output[pos++] = charCode & 0x3F | 0x80;\n        } else {\n          output[pos++] = charCode >> 18 & 0x07 | 0xF0;\n          output[pos++] = charCode >> 12 & 0x3F | 0x80;\n          output[pos++] = charCode >> 6 & 0x3F | 0x80;\n          output[pos++] = charCode & 0x3F | 0x80;\n        }\n      }\n\n      return output;\n    }\n\n    function parseUTF8(input, offset, length) {\n      var output = \"\";\n      var utf16;\n      var pos = offset;\n\n      while (pos < offset + length) {\n        var byte1 = input[pos++];\n        if (byte1 < 128) utf16 = byte1;else {\n          var byte2 = input[pos++] - 128;\n          if (byte2 < 0) throw new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16), \"\"]));\n          if (byte1 < 0xE0) // 2 byte character\n            utf16 = 64 * (byte1 - 0xC0) + byte2;else {\n            var byte3 = input[pos++] - 128;\n            if (byte3 < 0) throw new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16), byte3.toString(16)]));\n            if (byte1 < 0xF0) // 3 byte character\n              utf16 = 4096 * (byte1 - 0xE0) + 64 * byte2 + byte3;else {\n              var byte4 = input[pos++] - 128;\n              if (byte4 < 0) throw new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16), byte3.toString(16), byte4.toString(16)]));\n              if (byte1 < 0xF8) // 4 byte character\n                utf16 = 262144 * (byte1 - 0xF0) + 4096 * byte2 + 64 * byte3 + byte4;else // longer encodings are not supported\n                throw new Error(format(ERROR.MALFORMED_UTF, [byte1.toString(16), byte2.toString(16), byte3.toString(16), byte4.toString(16)]));\n            }\n          }\n        }\n\n        if (utf16 > 0xFFFF) // 4 byte character - express as a surrogate pair\n          {\n            utf16 -= 0x10000;\n            output += String.fromCharCode(0xD800 + (utf16 >> 10)); // lead character\n\n            utf16 = 0xDC00 + (utf16 & 0x3FF); // trail character\n          }\n\n        output += String.fromCharCode(utf16);\n      }\n\n      return output;\n    }\n    /**\n    * Repeat keepalive requests, monitor responses.\n    * @ignore\n    */\n\n\n    var Pinger = function Pinger(client, keepAliveInterval) {\n      this._client = client;\n      this._keepAliveInterval = keepAliveInterval * 1000;\n      this.isReset = false;\n      var pingReq = new WireMessage(MESSAGE_TYPE.PINGREQ).encode();\n\n      var doTimeout = function doTimeout(pinger) {\n        return function () {\n          return doPing.apply(pinger);\n        };\n      };\n      /** @ignore */\n\n\n      var doPing = function doPing() {\n        if (!this.isReset) {\n          this._client._trace(\"Pinger.doPing\", \"Timed out\");\n\n          this._client._disconnected(ERROR.PING_TIMEOUT.code, format(ERROR.PING_TIMEOUT));\n        } else {\n          this.isReset = false;\n\n          this._client._trace(\"Pinger.doPing\", \"send PINGREQ\");\n\n          this._client.socket.send(pingReq);\n\n          this.timeout = setTimeout(doTimeout(this), this._keepAliveInterval);\n        }\n      };\n\n      this.reset = function () {\n        this.isReset = true;\n        clearTimeout(this.timeout);\n        if (this._keepAliveInterval > 0) this.timeout = setTimeout(doTimeout(this), this._keepAliveInterval);\n      };\n\n      this.cancel = function () {\n        clearTimeout(this.timeout);\n      };\n    };\n    /**\n    * Monitor request completion.\n    * @ignore\n    */\n\n\n    var Timeout = function Timeout(client, timeoutSeconds, action, args) {\n      if (!timeoutSeconds) timeoutSeconds = 30;\n\n      var doTimeout = function doTimeout(action, client, args) {\n        return function () {\n          return action.apply(client, args);\n        };\n      };\n\n      this.timeout = setTimeout(doTimeout(action, client, args), timeoutSeconds * 1000);\n\n      this.cancel = function () {\n        clearTimeout(this.timeout);\n      };\n    };\n    /**\n     * Internal implementation of the Websockets MQTT V3.1 client.\n     *\n     * @name Paho.ClientImpl @constructor\n     * @param {String} host the DNS nameof the webSocket host.\n     * @param {Number} port the port number for that host.\n     * @param {String} clientId the MQ client identifier.\n     */\n\n\n    var ClientImpl = function ClientImpl(uri, host, port, path, clientId) {\n      // Check dependencies are satisfied in this browser.\n      if (!(\"WebSocket\" in global && global.WebSocket !== null)) {\n        throw new Error(format(ERROR.UNSUPPORTED, [\"WebSocket\"]));\n      }\n\n      if (!(\"ArrayBuffer\" in global && global.ArrayBuffer !== null)) {\n        throw new Error(format(ERROR.UNSUPPORTED, [\"ArrayBuffer\"]));\n      }\n\n      this._trace(\"Paho.Client\", uri, host, port, path, clientId);\n\n      this.host = host;\n      this.port = port;\n      this.path = path;\n      this.uri = uri;\n      this.clientId = clientId;\n      this._wsuri = null; // Local storagekeys are qualified with the following string.\n      // The conditional inclusion of path in the key is for backward\n      // compatibility to when the path was not configurable and assumed to\n      // be /mqtt\n\n      this._localKey = host + \":\" + port + (path != \"/mqtt\" ? \":\" + path : \"\") + \":\" + clientId + \":\"; // Create private instance-only message queue\n      // Internal queue of messages to be sent, in sending order.\n\n      this._msg_queue = [];\n      this._buffered_msg_queue = []; // Messages we have sent and are expecting a response for, indexed by their respective message ids.\n\n      this._sentMessages = {}; // Messages we have received and acknowleged and are expecting a confirm message for\n      // indexed by their respective message ids.\n\n      this._receivedMessages = {}; // Internal list of callbacks to be executed when messages\n      // have been successfully sent over web socket, e.g. disconnect\n      // when it doesn't have to wait for ACK, just message is dispatched.\n\n      this._notify_msg_sent = {}; // Unique identifier for SEND messages, incrementing\n      // counter as messages are sent.\n\n      this._message_identifier = 1; // Used to determine the transmission sequence of stored sent messages.\n\n      this._sequence = 0; // Load the local state, if any, from the saved version, only restore state relevant to this client.\n\n      for (var key in localStorage) {\n        if (key.indexOf(\"Sent:\" + this._localKey) === 0 || key.indexOf(\"Received:\" + this._localKey) === 0) this.restore(key);\n      }\n    }; // Messaging Client public instance members.\n\n\n    ClientImpl.prototype.host = null;\n    ClientImpl.prototype.port = null;\n    ClientImpl.prototype.path = null;\n    ClientImpl.prototype.uri = null;\n    ClientImpl.prototype.clientId = null; // Messaging Client private instance members.\n\n    ClientImpl.prototype.socket = null;\n    /* true once we have received an acknowledgement to a CONNECT packet. */\n\n    ClientImpl.prototype.connected = false;\n    /* The largest message identifier allowed, may not be larger than 2**16 but\n     * if set smaller reduces the maximum number of outbound messages allowed.\n     */\n\n    ClientImpl.prototype.maxMessageIdentifier = 65536;\n    ClientImpl.prototype.connectOptions = null;\n    ClientImpl.prototype.hostIndex = null;\n    ClientImpl.prototype.onConnected = null;\n    ClientImpl.prototype.onConnectionLost = null;\n    ClientImpl.prototype.onMessageDelivered = null;\n    ClientImpl.prototype.onMessageArrived = null;\n    ClientImpl.prototype.traceFunction = null;\n    ClientImpl.prototype._msg_queue = null;\n    ClientImpl.prototype._buffered_msg_queue = null;\n    ClientImpl.prototype._connectTimeout = null;\n    /* The sendPinger monitors how long we allow before we send data to prove to the server that we are alive. */\n\n    ClientImpl.prototype.sendPinger = null;\n    /* The receivePinger monitors how long we allow before we require evidence that the server is alive. */\n\n    ClientImpl.prototype.receivePinger = null;\n    ClientImpl.prototype._reconnectInterval = 1; // Reconnect Delay, starts at 1 second\n\n    ClientImpl.prototype._reconnecting = false;\n    ClientImpl.prototype._reconnectTimeout = null;\n    ClientImpl.prototype.disconnectedPublishing = false;\n    ClientImpl.prototype.disconnectedBufferSize = 5000;\n    ClientImpl.prototype.receiveBuffer = null;\n    ClientImpl.prototype._traceBuffer = null;\n    ClientImpl.prototype._MAX_TRACE_ENTRIES = 100;\n\n    ClientImpl.prototype.connect = function (connectOptions) {\n      var connectOptionsMasked = this._traceMask(connectOptions, \"password\");\n\n      this._trace(\"Client.connect\", connectOptionsMasked, this.socket, this.connected);\n\n      if (this.connected) throw new Error(format(ERROR.INVALID_STATE, [\"already connected\"]));\n      if (this.socket) throw new Error(format(ERROR.INVALID_STATE, [\"already connected\"]));\n\n      if (this._reconnecting) {\n        // connect() function is called while reconnect is in progress.\n        // Terminate the auto reconnect process to use new connect options.\n        this._reconnectTimeout.cancel();\n\n        this._reconnectTimeout = null;\n        this._reconnecting = false;\n      }\n\n      this.connectOptions = connectOptions;\n      this._reconnectInterval = 1;\n      this._reconnecting = false;\n\n      if (connectOptions.uris) {\n        this.hostIndex = 0;\n\n        this._doConnect(connectOptions.uris[0]);\n      } else {\n        this._doConnect(this.uri);\n      }\n    };\n\n    ClientImpl.prototype.subscribe = function (filter, subscribeOptions) {\n      this._trace(\"Client.subscribe\", filter, subscribeOptions);\n\n      if (!this.connected) throw new Error(format(ERROR.INVALID_STATE, [\"not connected\"]));\n      var wireMessage = new WireMessage(MESSAGE_TYPE.SUBSCRIBE);\n      wireMessage.topics = filter.constructor === Array ? filter : [filter];\n      if (subscribeOptions.qos === undefined) subscribeOptions.qos = 0;\n      wireMessage.requestedQos = [];\n\n      for (var i = 0; i < wireMessage.topics.length; i++) {\n        wireMessage.requestedQos[i] = subscribeOptions.qos;\n      }\n\n      if (subscribeOptions.onSuccess) {\n        wireMessage.onSuccess = function (grantedQos) {\n          subscribeOptions.onSuccess({\n            invocationContext: subscribeOptions.invocationContext,\n            grantedQos: grantedQos\n          });\n        };\n      }\n\n      if (subscribeOptions.onFailure) {\n        wireMessage.onFailure = function (errorCode) {\n          subscribeOptions.onFailure({\n            invocationContext: subscribeOptions.invocationContext,\n            errorCode: errorCode,\n            errorMessage: format(errorCode)\n          });\n        };\n      }\n\n      if (subscribeOptions.timeout) {\n        wireMessage.timeOut = new Timeout(this, subscribeOptions.timeout, subscribeOptions.onFailure, [{\n          invocationContext: subscribeOptions.invocationContext,\n          errorCode: ERROR.SUBSCRIBE_TIMEOUT.code,\n          errorMessage: format(ERROR.SUBSCRIBE_TIMEOUT)\n        }]);\n      } // All subscriptions return a SUBACK.\n\n\n      this._requires_ack(wireMessage);\n\n      this._schedule_message(wireMessage);\n    };\n    /** @ignore */\n\n\n    ClientImpl.prototype.unsubscribe = function (filter, unsubscribeOptions) {\n      this._trace(\"Client.unsubscribe\", filter, unsubscribeOptions);\n\n      if (!this.connected) throw new Error(format(ERROR.INVALID_STATE, [\"not connected\"]));\n      var wireMessage = new WireMessage(MESSAGE_TYPE.UNSUBSCRIBE);\n      wireMessage.topics = filter.constructor === Array ? filter : [filter];\n\n      if (unsubscribeOptions.onSuccess) {\n        wireMessage.callback = function () {\n          unsubscribeOptions.onSuccess({\n            invocationContext: unsubscribeOptions.invocationContext\n          });\n        };\n      }\n\n      if (unsubscribeOptions.timeout) {\n        wireMessage.timeOut = new Timeout(this, unsubscribeOptions.timeout, unsubscribeOptions.onFailure, [{\n          invocationContext: unsubscribeOptions.invocationContext,\n          errorCode: ERROR.UNSUBSCRIBE_TIMEOUT.code,\n          errorMessage: format(ERROR.UNSUBSCRIBE_TIMEOUT)\n        }]);\n      } // All unsubscribes return a SUBACK.\n\n\n      this._requires_ack(wireMessage);\n\n      this._schedule_message(wireMessage);\n    };\n\n    ClientImpl.prototype.send = function (message) {\n      this._trace(\"Client.send\", message);\n\n      var wireMessage = new WireMessage(MESSAGE_TYPE.PUBLISH);\n      wireMessage.payloadMessage = message;\n\n      if (this.connected) {\n        // Mark qos 1 & 2 message as \"ACK required\"\n        // For qos 0 message, invoke onMessageDelivered callback if there is one.\n        // Then schedule the message.\n        if (message.qos > 0) {\n          this._requires_ack(wireMessage);\n        } else if (this.onMessageDelivered) {\n          this._notify_msg_sent[wireMessage] = this.onMessageDelivered(wireMessage.payloadMessage);\n        }\n\n        this._schedule_message(wireMessage);\n      } else {\n        // Currently disconnected, will not schedule this message\n        // Check if reconnecting is in progress and disconnected publish is enabled.\n        if (this._reconnecting && this.disconnectedPublishing) {\n          // Check the limit which include the \"required ACK\" messages\n          var messageCount = Object.keys(this._sentMessages).length + this._buffered_msg_queue.length;\n\n          if (messageCount > this.disconnectedBufferSize) {\n            throw new Error(format(ERROR.BUFFER_FULL, [this.disconnectedBufferSize]));\n          } else {\n            if (message.qos > 0) {\n              // Mark this message as \"ACK required\"\n              this._requires_ack(wireMessage);\n            } else {\n              wireMessage.sequence = ++this._sequence; // Add messages in fifo order to array, by adding to start\n\n              this._buffered_msg_queue.unshift(wireMessage);\n            }\n          }\n        } else {\n          throw new Error(format(ERROR.INVALID_STATE, [\"not connected\"]));\n        }\n      }\n    };\n\n    ClientImpl.prototype.disconnect = function () {\n      this._trace(\"Client.disconnect\");\n\n      if (this._reconnecting) {\n        // disconnect() function is called while reconnect is in progress.\n        // Terminate the auto reconnect process.\n        this._reconnectTimeout.cancel();\n\n        this._reconnectTimeout = null;\n        this._reconnecting = false;\n      }\n\n      if (!this.socket) throw new Error(format(ERROR.INVALID_STATE, [\"not connecting or connected\"]));\n      var wireMessage = new WireMessage(MESSAGE_TYPE.DISCONNECT); // Run the disconnected call back as soon as the message has been sent,\n      // in case of a failure later on in the disconnect processing.\n      // as a consequence, the _disconected call back may be run several times.\n\n      this._notify_msg_sent[wireMessage] = scope(this._disconnected, this);\n\n      this._schedule_message(wireMessage);\n    };\n\n    ClientImpl.prototype.getTraceLog = function () {\n      if (this._traceBuffer !== null) {\n        this._trace(\"Client.getTraceLog\", new Date());\n\n        this._trace(\"Client.getTraceLog in flight messages\", this._sentMessages.length);\n\n        for (var key in this._sentMessages) {\n          this._trace(\"_sentMessages \", key, this._sentMessages[key]);\n        }\n\n        for (var key in this._receivedMessages) {\n          this._trace(\"_receivedMessages \", key, this._receivedMessages[key]);\n        }\n\n        return this._traceBuffer;\n      }\n    };\n\n    ClientImpl.prototype.startTrace = function () {\n      if (this._traceBuffer === null) {\n        this._traceBuffer = [];\n      }\n\n      this._trace(\"Client.startTrace\", new Date(), version);\n    };\n\n    ClientImpl.prototype.stopTrace = function () {\n      delete this._traceBuffer;\n    };\n\n    ClientImpl.prototype._doConnect = function (wsurl) {\n      // When the socket is open, this client will send the CONNECT WireMessage using the saved parameters.\n      if (this.connectOptions.useSSL) {\n        var uriParts = wsurl.split(\":\");\n        uriParts[0] = \"wss\";\n        wsurl = uriParts.join(\":\");\n      }\n\n      this._wsuri = wsurl;\n      this.connected = false;\n\n      if (this.connectOptions.mqttVersion < 4) {\n        this.socket = new WebSocket(wsurl, [\"mqttv3.1\"]);\n      } else {\n        this.socket = new WebSocket(wsurl, [\"mqtt\"]);\n      }\n\n      this.socket.binaryType = \"arraybuffer\";\n      this.socket.onopen = scope(this._on_socket_open, this);\n      this.socket.onmessage = scope(this._on_socket_message, this);\n      this.socket.onerror = scope(this._on_socket_error, this);\n      this.socket.onclose = scope(this._on_socket_close, this);\n      this.sendPinger = new Pinger(this, this.connectOptions.keepAliveInterval);\n      this.receivePinger = new Pinger(this, this.connectOptions.keepAliveInterval);\n\n      if (this._connectTimeout) {\n        this._connectTimeout.cancel();\n\n        this._connectTimeout = null;\n      }\n\n      this._connectTimeout = new Timeout(this, this.connectOptions.timeout, this._disconnected, [ERROR.CONNECT_TIMEOUT.code, format(ERROR.CONNECT_TIMEOUT)]);\n    }; // Schedule a new message to be sent over the WebSockets\n    // connection. CONNECT messages cause WebSocket connection\n    // to be started. All other messages are queued internally\n    // until this has happened. When WS connection starts, process\n    // all outstanding messages.\n\n\n    ClientImpl.prototype._schedule_message = function (message) {\n      // Add messages in fifo order to array, by adding to start\n      this._msg_queue.unshift(message); // Process outstanding messages in the queue if we have an  open socket, and have received CONNACK.\n\n\n      if (this.connected) {\n        this._process_queue();\n      }\n    };\n\n    ClientImpl.prototype.store = function (prefix, wireMessage) {\n      var storedMessage = {\n        type: wireMessage.type,\n        messageIdentifier: wireMessage.messageIdentifier,\n        version: 1\n      };\n\n      switch (wireMessage.type) {\n        case MESSAGE_TYPE.PUBLISH:\n          if (wireMessage.pubRecReceived) storedMessage.pubRecReceived = true; // Convert the payload to a hex string.\n\n          storedMessage.payloadMessage = {};\n          var hex = \"\";\n          var messageBytes = wireMessage.payloadMessage.payloadBytes;\n\n          for (var i = 0; i < messageBytes.length; i++) {\n            if (messageBytes[i] <= 0xF) hex = hex + \"0\" + messageBytes[i].toString(16);else hex = hex + messageBytes[i].toString(16);\n          }\n\n          storedMessage.payloadMessage.payloadHex = hex;\n          storedMessage.payloadMessage.qos = wireMessage.payloadMessage.qos;\n          storedMessage.payloadMessage.destinationName = wireMessage.payloadMessage.destinationName;\n          if (wireMessage.payloadMessage.duplicate) storedMessage.payloadMessage.duplicate = true;\n          if (wireMessage.payloadMessage.retained) storedMessage.payloadMessage.retained = true; // Add a sequence number to sent messages.\n\n          if (prefix.indexOf(\"Sent:\") === 0) {\n            if (wireMessage.sequence === undefined) wireMessage.sequence = ++this._sequence;\n            storedMessage.sequence = wireMessage.sequence;\n          }\n\n          break;\n\n        default:\n          throw Error(format(ERROR.INVALID_STORED_DATA, [prefix + this._localKey + wireMessage.messageIdentifier, storedMessage]));\n      }\n\n      localStorage.setItem(prefix + this._localKey + wireMessage.messageIdentifier, JSON.stringify(storedMessage));\n    };\n\n    ClientImpl.prototype.restore = function (key) {\n      var value = localStorage.getItem(key);\n      var storedMessage = JSON.parse(value);\n      var wireMessage = new WireMessage(storedMessage.type, storedMessage);\n\n      switch (storedMessage.type) {\n        case MESSAGE_TYPE.PUBLISH:\n          // Replace the payload message with a Message object.\n          var hex = storedMessage.payloadMessage.payloadHex;\n          var buffer = new ArrayBuffer(hex.length / 2);\n          var byteStream = new Uint8Array(buffer);\n          var i = 0;\n\n          while (hex.length >= 2) {\n            var x = parseInt(hex.substring(0, 2), 16);\n            hex = hex.substring(2, hex.length);\n            byteStream[i++] = x;\n          }\n\n          var payloadMessage = new Message(byteStream);\n          payloadMessage.qos = storedMessage.payloadMessage.qos;\n          payloadMessage.destinationName = storedMessage.payloadMessage.destinationName;\n          if (storedMessage.payloadMessage.duplicate) payloadMessage.duplicate = true;\n          if (storedMessage.payloadMessage.retained) payloadMessage.retained = true;\n          wireMessage.payloadMessage = payloadMessage;\n          break;\n\n        default:\n          throw Error(format(ERROR.INVALID_STORED_DATA, [key, value]));\n      }\n\n      if (key.indexOf(\"Sent:\" + this._localKey) === 0) {\n        wireMessage.payloadMessage.duplicate = true;\n        this._sentMessages[wireMessage.messageIdentifier] = wireMessage;\n      } else if (key.indexOf(\"Received:\" + this._localKey) === 0) {\n        this._receivedMessages[wireMessage.messageIdentifier] = wireMessage;\n      }\n    };\n\n    ClientImpl.prototype._process_queue = function () {\n      var message = null; // Send all queued messages down socket connection\n\n      while (message = this._msg_queue.pop()) {\n        this._socket_send(message); // Notify listeners that message was successfully sent\n\n\n        if (this._notify_msg_sent[message]) {\n          this._notify_msg_sent[message]();\n\n          delete this._notify_msg_sent[message];\n        }\n      }\n    };\n    /**\n    * Expect an ACK response for this message. Add message to the set of in progress\n    * messages and set an unused identifier in this message.\n    * @ignore\n    */\n\n\n    ClientImpl.prototype._requires_ack = function (wireMessage) {\n      var messageCount = Object.keys(this._sentMessages).length;\n      if (messageCount > this.maxMessageIdentifier) throw Error(\"Too many messages:\" + messageCount);\n\n      while (this._sentMessages[this._message_identifier] !== undefined) {\n        this._message_identifier++;\n      }\n\n      wireMessage.messageIdentifier = this._message_identifier;\n      this._sentMessages[wireMessage.messageIdentifier] = wireMessage;\n\n      if (wireMessage.type === MESSAGE_TYPE.PUBLISH) {\n        this.store(\"Sent:\", wireMessage);\n      }\n\n      if (this._message_identifier === this.maxMessageIdentifier) {\n        this._message_identifier = 1;\n      }\n    };\n    /**\n    * Called when the underlying websocket has been opened.\n    * @ignore\n    */\n\n\n    ClientImpl.prototype._on_socket_open = function () {\n      // Create the CONNECT message object.\n      var wireMessage = new WireMessage(MESSAGE_TYPE.CONNECT, this.connectOptions);\n      wireMessage.clientId = this.clientId;\n\n      this._socket_send(wireMessage);\n    };\n    /**\n    * Called when the underlying websocket has received a complete packet.\n    * @ignore\n    */\n\n\n    ClientImpl.prototype._on_socket_message = function (event) {\n      this._trace(\"Client._on_socket_message\", event.data);\n\n      var messages = this._deframeMessages(event.data);\n\n      for (var i = 0; i < messages.length; i += 1) {\n        this._handleMessage(messages[i]);\n      }\n    };\n\n    ClientImpl.prototype._deframeMessages = function (data) {\n      var byteArray = new Uint8Array(data);\n      var messages = [];\n\n      if (this.receiveBuffer) {\n        var newData = new Uint8Array(this.receiveBuffer.length + byteArray.length);\n        newData.set(this.receiveBuffer);\n        newData.set(byteArray, this.receiveBuffer.length);\n        byteArray = newData;\n        delete this.receiveBuffer;\n      }\n\n      try {\n        var offset = 0;\n\n        while (offset < byteArray.length) {\n          var result = decodeMessage(byteArray, offset);\n          var wireMessage = result[0];\n          offset = result[1];\n\n          if (wireMessage !== null) {\n            messages.push(wireMessage);\n          } else {\n            break;\n          }\n        }\n\n        if (offset < byteArray.length) {\n          this.receiveBuffer = byteArray.subarray(offset);\n        }\n      } catch (error) {\n        var errorStack = error.hasOwnProperty(\"stack\") == \"undefined\" ? error.stack.toString() : \"No Error Stack Available\";\n\n        this._disconnected(ERROR.INTERNAL_ERROR.code, format(ERROR.INTERNAL_ERROR, [error.message, errorStack]));\n\n        return;\n      }\n\n      return messages;\n    };\n\n    ClientImpl.prototype._handleMessage = function (wireMessage) {\n      this._trace(\"Client._handleMessage\", wireMessage);\n\n      try {\n        switch (wireMessage.type) {\n          case MESSAGE_TYPE.CONNACK:\n            this._connectTimeout.cancel();\n\n            if (this._reconnectTimeout) this._reconnectTimeout.cancel(); // If we have started using clean session then clear up the local state.\n\n            if (this.connectOptions.cleanSession) {\n              for (var key in this._sentMessages) {\n                var sentMessage = this._sentMessages[key];\n                localStorage.removeItem(\"Sent:\" + this._localKey + sentMessage.messageIdentifier);\n              }\n\n              this._sentMessages = {};\n\n              for (var key in this._receivedMessages) {\n                var receivedMessage = this._receivedMessages[key];\n                localStorage.removeItem(\"Received:\" + this._localKey + receivedMessage.messageIdentifier);\n              }\n\n              this._receivedMessages = {};\n            } // Client connected and ready for business.\n\n\n            if (wireMessage.returnCode === 0) {\n              this.connected = true; // Jump to the end of the list of uris and stop looking for a good host.\n\n              if (this.connectOptions.uris) this.hostIndex = this.connectOptions.uris.length;\n            } else {\n              this._disconnected(ERROR.CONNACK_RETURNCODE.code, format(ERROR.CONNACK_RETURNCODE, [wireMessage.returnCode, CONNACK_RC[wireMessage.returnCode]]));\n\n              break;\n            } // Resend messages.\n\n\n            var sequencedMessages = [];\n\n            for (var msgId in this._sentMessages) {\n              if (this._sentMessages.hasOwnProperty(msgId)) sequencedMessages.push(this._sentMessages[msgId]);\n            } // Also schedule qos 0 buffered messages if any\n\n\n            if (this._buffered_msg_queue.length > 0) {\n              var msg = null;\n\n              while (msg = this._buffered_msg_queue.pop()) {\n                sequencedMessages.push(msg);\n                if (this.onMessageDelivered) this._notify_msg_sent[msg] = this.onMessageDelivered(msg.payloadMessage);\n              }\n            } // Sort sentMessages into the original sent order.\n\n\n            var sequencedMessages = sequencedMessages.sort(function (a, b) {\n              return a.sequence - b.sequence;\n            });\n\n            for (var i = 0, len = sequencedMessages.length; i < len; i++) {\n              var sentMessage = sequencedMessages[i];\n\n              if (sentMessage.type == MESSAGE_TYPE.PUBLISH && sentMessage.pubRecReceived) {\n                var pubRelMessage = new WireMessage(MESSAGE_TYPE.PUBREL, {\n                  messageIdentifier: sentMessage.messageIdentifier\n                });\n\n                this._schedule_message(pubRelMessage);\n              } else {\n                this._schedule_message(sentMessage);\n              }\n            } // Execute the connectOptions.onSuccess callback if there is one.\n            // Will also now return if this connection was the result of an automatic\n            // reconnect and which URI was successfully connected to.\n\n\n            if (this.connectOptions.onSuccess) {\n              this.connectOptions.onSuccess({\n                invocationContext: this.connectOptions.invocationContext\n              });\n            }\n\n            var reconnected = false;\n\n            if (this._reconnecting) {\n              reconnected = true;\n              this._reconnectInterval = 1;\n              this._reconnecting = false;\n            } // Execute the onConnected callback if there is one.\n\n\n            this._connected(reconnected, this._wsuri); // Process all queued messages now that the connection is established.\n\n\n            this._process_queue();\n\n            break;\n\n          case MESSAGE_TYPE.PUBLISH:\n            this._receivePublish(wireMessage);\n\n            break;\n\n          case MESSAGE_TYPE.PUBACK:\n            var sentMessage = this._sentMessages[wireMessage.messageIdentifier]; // If this is a re flow of a PUBACK after we have restarted receivedMessage will not exist.\n\n            if (sentMessage) {\n              delete this._sentMessages[wireMessage.messageIdentifier];\n              localStorage.removeItem(\"Sent:\" + this._localKey + wireMessage.messageIdentifier);\n              if (this.onMessageDelivered) this.onMessageDelivered(sentMessage.payloadMessage);\n            }\n\n            break;\n\n          case MESSAGE_TYPE.PUBREC:\n            var sentMessage = this._sentMessages[wireMessage.messageIdentifier]; // If this is a re flow of a PUBREC after we have restarted receivedMessage will not exist.\n\n            if (sentMessage) {\n              sentMessage.pubRecReceived = true;\n              var pubRelMessage = new WireMessage(MESSAGE_TYPE.PUBREL, {\n                messageIdentifier: wireMessage.messageIdentifier\n              });\n              this.store(\"Sent:\", sentMessage);\n\n              this._schedule_message(pubRelMessage);\n            }\n\n            break;\n\n          case MESSAGE_TYPE.PUBREL:\n            var receivedMessage = this._receivedMessages[wireMessage.messageIdentifier];\n            localStorage.removeItem(\"Received:\" + this._localKey + wireMessage.messageIdentifier); // If this is a re flow of a PUBREL after we have restarted receivedMessage will not exist.\n\n            if (receivedMessage) {\n              this._receiveMessage(receivedMessage);\n\n              delete this._receivedMessages[wireMessage.messageIdentifier];\n            } // Always flow PubComp, we may have previously flowed PubComp but the server lost it and restarted.\n\n\n            var pubCompMessage = new WireMessage(MESSAGE_TYPE.PUBCOMP, {\n              messageIdentifier: wireMessage.messageIdentifier\n            });\n\n            this._schedule_message(pubCompMessage);\n\n            break;\n\n          case MESSAGE_TYPE.PUBCOMP:\n            var sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n            delete this._sentMessages[wireMessage.messageIdentifier];\n            localStorage.removeItem(\"Sent:\" + this._localKey + wireMessage.messageIdentifier);\n            if (this.onMessageDelivered) this.onMessageDelivered(sentMessage.payloadMessage);\n            break;\n\n          case MESSAGE_TYPE.SUBACK:\n            var sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\n            if (sentMessage) {\n              if (sentMessage.timeOut) sentMessage.timeOut.cancel(); // This will need to be fixed when we add multiple topic support\n\n              if (wireMessage.returnCode[0] === 0x80) {\n                if (sentMessage.onFailure) {\n                  sentMessage.onFailure(wireMessage.returnCode);\n                }\n              } else if (sentMessage.onSuccess) {\n                sentMessage.onSuccess(wireMessage.returnCode);\n              }\n\n              delete this._sentMessages[wireMessage.messageIdentifier];\n            }\n\n            break;\n\n          case MESSAGE_TYPE.UNSUBACK:\n            var sentMessage = this._sentMessages[wireMessage.messageIdentifier];\n\n            if (sentMessage) {\n              if (sentMessage.timeOut) sentMessage.timeOut.cancel();\n\n              if (sentMessage.callback) {\n                sentMessage.callback();\n              }\n\n              delete this._sentMessages[wireMessage.messageIdentifier];\n            }\n\n            break;\n\n          case MESSAGE_TYPE.PINGRESP:\n            /* The sendPinger or receivePinger may have sent a ping, the receivePinger has already been reset. */\n            this.sendPinger.reset();\n            break;\n\n          case MESSAGE_TYPE.DISCONNECT:\n            // Clients do not expect to receive disconnect packets.\n            this._disconnected(ERROR.INVALID_MQTT_MESSAGE_TYPE.code, format(ERROR.INVALID_MQTT_MESSAGE_TYPE, [wireMessage.type]));\n\n            break;\n\n          default:\n            this._disconnected(ERROR.INVALID_MQTT_MESSAGE_TYPE.code, format(ERROR.INVALID_MQTT_MESSAGE_TYPE, [wireMessage.type]));\n\n        }\n      } catch (error) {\n        var errorStack = error.hasOwnProperty(\"stack\") == \"undefined\" ? error.stack.toString() : \"No Error Stack Available\";\n\n        this._disconnected(ERROR.INTERNAL_ERROR.code, format(ERROR.INTERNAL_ERROR, [error.message, errorStack]));\n\n        return;\n      }\n    };\n    /** @ignore */\n\n\n    ClientImpl.prototype._on_socket_error = function (error) {\n      if (!this._reconnecting) {\n        this._disconnected(ERROR.SOCKET_ERROR.code, format(ERROR.SOCKET_ERROR, [error.data]));\n      }\n    };\n    /** @ignore */\n\n\n    ClientImpl.prototype._on_socket_close = function () {\n      if (!this._reconnecting) {\n        this._disconnected(ERROR.SOCKET_CLOSE.code, format(ERROR.SOCKET_CLOSE));\n      }\n    };\n    /** @ignore */\n\n\n    ClientImpl.prototype._socket_send = function (wireMessage) {\n      if (wireMessage.type == 1) {\n        var wireMessageMasked = this._traceMask(wireMessage, \"password\");\n\n        this._trace(\"Client._socket_send\", wireMessageMasked);\n      } else this._trace(\"Client._socket_send\", wireMessage);\n\n      this.socket.send(wireMessage.encode());\n      /* We have proved to the server we are alive. */\n\n      this.sendPinger.reset();\n    };\n    /** @ignore */\n\n\n    ClientImpl.prototype._receivePublish = function (wireMessage) {\n      switch (wireMessage.payloadMessage.qos) {\n        case \"undefined\":\n        case 0:\n          this._receiveMessage(wireMessage);\n\n          break;\n\n        case 1:\n          var pubAckMessage = new WireMessage(MESSAGE_TYPE.PUBACK, {\n            messageIdentifier: wireMessage.messageIdentifier\n          });\n\n          this._schedule_message(pubAckMessage);\n\n          this._receiveMessage(wireMessage);\n\n          break;\n\n        case 2:\n          this._receivedMessages[wireMessage.messageIdentifier] = wireMessage;\n          this.store(\"Received:\", wireMessage);\n          var pubRecMessage = new WireMessage(MESSAGE_TYPE.PUBREC, {\n            messageIdentifier: wireMessage.messageIdentifier\n          });\n\n          this._schedule_message(pubRecMessage);\n\n          break;\n\n        default:\n          throw Error(\"Invaild qos=\" + wireMessage.payloadMessage.qos);\n      }\n    };\n    /** @ignore */\n\n\n    ClientImpl.prototype._receiveMessage = function (wireMessage) {\n      if (this.onMessageArrived) {\n        this.onMessageArrived(wireMessage.payloadMessage);\n      }\n    };\n    /**\n    * Client has connected.\n    * @param {reconnect} [boolean] indicate if this was a result of reconnect operation.\n    * @param {uri} [string] fully qualified WebSocket URI of the server.\n    */\n\n\n    ClientImpl.prototype._connected = function (reconnect, uri) {\n      // Execute the onConnected callback if there is one.\n      if (this.onConnected) this.onConnected(reconnect, uri);\n    };\n    /**\n    * Attempts to reconnect the client to the server.\n     * For each reconnect attempt, will double the reconnect interval\n     * up to 128 seconds.\n    */\n\n\n    ClientImpl.prototype._reconnect = function () {\n      this._trace(\"Client._reconnect\");\n\n      if (!this.connected) {\n        this._reconnecting = true;\n        this.sendPinger.cancel();\n        this.receivePinger.cancel();\n        if (this._reconnectInterval < 128) this._reconnectInterval = this._reconnectInterval * 2;\n\n        if (this.connectOptions.uris) {\n          this.hostIndex = 0;\n\n          this._doConnect(this.connectOptions.uris[0]);\n        } else {\n          this._doConnect(this.uri);\n        }\n      }\n    };\n    /**\n    * Client has disconnected either at its own request or because the server\n    * or network disconnected it. Remove all non-durable state.\n    * @param {errorCode} [number] the error number.\n    * @param {errorText} [string] the error text.\n    * @ignore\n    */\n\n\n    ClientImpl.prototype._disconnected = function (errorCode, errorText) {\n      this._trace(\"Client._disconnected\", errorCode, errorText);\n\n      if (errorCode !== undefined && this._reconnecting) {\n        //Continue automatic reconnect process\n        this._reconnectTimeout = new Timeout(this, this._reconnectInterval, this._reconnect);\n        return;\n      }\n\n      this.sendPinger.cancel();\n      this.receivePinger.cancel();\n\n      if (this._connectTimeout) {\n        this._connectTimeout.cancel();\n\n        this._connectTimeout = null;\n      } // Clear message buffers.\n\n\n      this._msg_queue = [];\n      this._buffered_msg_queue = [];\n      this._notify_msg_sent = {};\n\n      if (this.socket) {\n        // Cancel all socket callbacks so that they cannot be driven again by this socket.\n        this.socket.onopen = null;\n        this.socket.onmessage = null;\n        this.socket.onerror = null;\n        this.socket.onclose = null;\n        if (this.socket.readyState === 1) this.socket.close();\n        delete this.socket;\n      }\n\n      if (this.connectOptions.uris && this.hostIndex < this.connectOptions.uris.length - 1) {\n        // Try the next host.\n        this.hostIndex++;\n\n        this._doConnect(this.connectOptions.uris[this.hostIndex]);\n      } else {\n        if (errorCode === undefined) {\n          errorCode = ERROR.OK.code;\n          errorText = format(ERROR.OK);\n        } // Run any application callbacks last as they may attempt to reconnect and hence create a new socket.\n\n\n        if (this.connected) {\n          this.connected = false; // Execute the connectionLostCallback if there is one, and we were connected.\n\n          if (this.onConnectionLost) {\n            this.onConnectionLost({\n              errorCode: errorCode,\n              errorMessage: errorText,\n              reconnect: this.connectOptions.reconnect,\n              uri: this._wsuri\n            });\n          }\n\n          if (errorCode !== ERROR.OK.code && this.connectOptions.reconnect) {\n            // Start automatic reconnect process for the very first time since last successful connect.\n            this._reconnectInterval = 1;\n\n            this._reconnect();\n\n            return;\n          }\n        } else {\n          // Otherwise we never had a connection, so indicate that the connect has failed.\n          if (this.connectOptions.mqttVersion === 4 && this.connectOptions.mqttVersionExplicit === false) {\n            this._trace(\"Failed to connect V4, dropping back to V3\");\n\n            this.connectOptions.mqttVersion = 3;\n\n            if (this.connectOptions.uris) {\n              this.hostIndex = 0;\n\n              this._doConnect(this.connectOptions.uris[0]);\n            } else {\n              this._doConnect(this.uri);\n            }\n          } else if (this.connectOptions.onFailure) {\n            this.connectOptions.onFailure({\n              invocationContext: this.connectOptions.invocationContext,\n              errorCode: errorCode,\n              errorMessage: errorText\n            });\n          }\n        }\n      }\n    };\n    /** @ignore */\n\n\n    ClientImpl.prototype._trace = function () {\n      // Pass trace message back to client's callback function\n      if (this.traceFunction) {\n        var args = Array.prototype.slice.call(arguments);\n\n        for (var i in args) {\n          if (typeof args[i] !== \"undefined\") args.splice(i, 1, JSON.stringify(args[i]));\n        }\n\n        var record = args.join(\"\");\n        this.traceFunction({\n          severity: \"Debug\",\n          message: record\n        });\n      } //buffer style trace\n\n\n      if (this._traceBuffer !== null) {\n        for (var i = 0, max = arguments.length; i < max; i++) {\n          if (this._traceBuffer.length == this._MAX_TRACE_ENTRIES) {\n            this._traceBuffer.shift();\n          }\n\n          if (i === 0) this._traceBuffer.push(arguments[i]);else if (typeof arguments[i] === \"undefined\") this._traceBuffer.push(arguments[i]);else this._traceBuffer.push(\"  \" + JSON.stringify(arguments[i]));\n        }\n      }\n    };\n    /** @ignore */\n\n\n    ClientImpl.prototype._traceMask = function (traceObject, masked) {\n      var traceObjectMasked = {};\n\n      for (var attr in traceObject) {\n        if (traceObject.hasOwnProperty(attr)) {\n          if (attr == masked) traceObjectMasked[attr] = \"******\";else traceObjectMasked[attr] = traceObject[attr];\n        }\n      }\n\n      return traceObjectMasked;\n    }; // ------------------------------------------------------------------------\n    // Public Programming interface.\n    // ------------------------------------------------------------------------\n\n    /**\n    * The JavaScript application communicates to the server using a {@link Paho.Client} object.\n    * <p>\n    * Most applications will create just one Client object and then call its connect() method,\n    * however applications can create more than one Client object if they wish.\n    * In this case the combination of host, port and clientId attributes must be different for each Client object.\n    * <p>\n    * The send, subscribe and unsubscribe methods are implemented as asynchronous JavaScript methods\n    * (even though the underlying protocol exchange might be synchronous in nature).\n    * This means they signal their completion by calling back to the application,\n    * via Success or Failure callback functions provided by the application on the method in question.\n    * Such callbacks are called at most once per method invocation and do not persist beyond the lifetime\n    * of the script that made the invocation.\n    * <p>\n    * In contrast there are some callback functions, most notably <i>onMessageArrived</i>,\n    * that are defined on the {@link Paho.Client} object.\n    * These may get called multiple times, and aren't directly related to specific method invocations made by the client.\n    *\n    * @name Paho.Client\n    *\n    * @constructor\n    *\n    * @param {string} host - the address of the messaging server, as a fully qualified WebSocket URI, as a DNS name or dotted decimal IP address.\n    * @param {number} port - the port number to connect to - only required if host is not a URI\n    * @param {string} path - the path on the host to connect to - only used if host is not a URI. Default: '/mqtt'.\n    * @param {string} clientId - the Messaging client identifier, between 1 and 23 characters in length.\n    *\n    * @property {string} host - <i>read only</i> the server's DNS hostname or dotted decimal IP address.\n    * @property {number} port - <i>read only</i> the server's port.\n    * @property {string} path - <i>read only</i> the server's path.\n    * @property {string} clientId - <i>read only</i> used when connecting to the server.\n    * @property {function} onConnectionLost - called when a connection has been lost.\n    *                            after a connect() method has succeeded.\n    *                            Establish the call back used when a connection has been lost. The connection may be\n    *                            lost because the client initiates a disconnect or because the server or network\n    *                            cause the client to be disconnected. The disconnect call back may be called without\n    *                            the connectionComplete call back being invoked if, for example the client fails to\n    *                            connect.\n    *                            A single response object parameter is passed to the onConnectionLost callback containing the following fields:\n    *                            <ol>\n    *                            <li>errorCode\n    *                            <li>errorMessage\n    *                            </ol>\n    * @property {function} onMessageDelivered - called when a message has been delivered.\n    *                            All processing that this Client will ever do has been completed. So, for example,\n    *                            in the case of a Qos=2 message sent by this client, the PubComp flow has been received from the server\n    *                            and the message has been removed from persistent storage before this callback is invoked.\n    *                            Parameters passed to the onMessageDelivered callback are:\n    *                            <ol>\n    *                            <li>{@link Paho.Message} that was delivered.\n    *                            </ol>\n    * @property {function} onMessageArrived - called when a message has arrived in this Paho.client.\n    *                            Parameters passed to the onMessageArrived callback are:\n    *                            <ol>\n    *                            <li>{@link Paho.Message} that has arrived.\n    *                            </ol>\n    * @property {function} onConnected - called when a connection is successfully made to the server.\n    *                                  after a connect() method.\n    *                                  Parameters passed to the onConnected callback are:\n    *                                  <ol>\n    *                                  <li>reconnect (boolean) - If true, the connection was the result of a reconnect.</li>\n    *                                  <li>URI (string) - The URI used to connect to the server.</li>\n    *                                  </ol>\n    * @property {boolean} disconnectedPublishing - if set, will enable disconnected publishing in\n    *                                            in the event that the connection to the server is lost.\n    * @property {number} disconnectedBufferSize - Used to set the maximum number of messages that the disconnected\n    *                                             buffer will hold before rejecting new messages. Default size: 5000 messages\n    * @property {function} trace - called whenever trace is called. TODO\n    */\n\n\n    var Client = function Client(host, port, path, clientId) {\n      var uri;\n      if (typeof host !== \"string\") throw new Error(format(ERROR.INVALID_TYPE, [typeof host, \"host\"]));\n\n      if (arguments.length == 2) {\n        // host: must be full ws:// uri\n        // port: clientId\n        clientId = port;\n        uri = host;\n        var match = uri.match(/^(wss?):\\/\\/((\\[(.+)\\])|([^\\/]+?))(:(\\d+))?(\\/.*)$/);\n\n        if (match) {\n          host = match[4] || match[2];\n          port = parseInt(match[7]);\n          path = match[8];\n        } else {\n          throw new Error(format(ERROR.INVALID_ARGUMENT, [host, \"host\"]));\n        }\n      } else {\n        if (arguments.length == 3) {\n          clientId = path;\n          path = \"/mqtt\";\n        }\n\n        if (typeof port !== \"number\" || port < 0) throw new Error(format(ERROR.INVALID_TYPE, [typeof port, \"port\"]));\n        if (typeof path !== \"string\") throw new Error(format(ERROR.INVALID_TYPE, [typeof path, \"path\"]));\n        var ipv6AddSBracket = host.indexOf(\":\") !== -1 && host.slice(0, 1) !== \"[\" && host.slice(-1) !== \"]\";\n        uri = \"ws://\" + (ipv6AddSBracket ? \"[\" + host + \"]\" : host) + \":\" + port + path;\n      }\n\n      var clientIdLength = 0;\n\n      for (var i = 0; i < clientId.length; i++) {\n        var charCode = clientId.charCodeAt(i);\n\n        if (0xD800 <= charCode && charCode <= 0xDBFF) {\n          i++; // Surrogate pair.\n        }\n\n        clientIdLength++;\n      }\n\n      if (typeof clientId !== \"string\" || clientIdLength > 65535) throw new Error(format(ERROR.INVALID_ARGUMENT, [clientId, \"clientId\"]));\n      var client = new ClientImpl(uri, host, port, path, clientId); //Public Properties\n\n      Object.defineProperties(this, {\n        \"host\": {\n          get: function get() {\n            return host;\n          },\n          set: function set() {\n            throw new Error(format(ERROR.UNSUPPORTED_OPERATION));\n          }\n        },\n        \"port\": {\n          get: function get() {\n            return port;\n          },\n          set: function set() {\n            throw new Error(format(ERROR.UNSUPPORTED_OPERATION));\n          }\n        },\n        \"path\": {\n          get: function get() {\n            return path;\n          },\n          set: function set() {\n            throw new Error(format(ERROR.UNSUPPORTED_OPERATION));\n          }\n        },\n        \"uri\": {\n          get: function get() {\n            return uri;\n          },\n          set: function set() {\n            throw new Error(format(ERROR.UNSUPPORTED_OPERATION));\n          }\n        },\n        \"clientId\": {\n          get: function get() {\n            return client.clientId;\n          },\n          set: function set() {\n            throw new Error(format(ERROR.UNSUPPORTED_OPERATION));\n          }\n        },\n        \"onConnected\": {\n          get: function get() {\n            return client.onConnected;\n          },\n          set: function set(newOnConnected) {\n            if (typeof newOnConnected === \"function\") client.onConnected = newOnConnected;else throw new Error(format(ERROR.INVALID_TYPE, [typeof newOnConnected, \"onConnected\"]));\n          }\n        },\n        \"disconnectedPublishing\": {\n          get: function get() {\n            return client.disconnectedPublishing;\n          },\n          set: function set(newDisconnectedPublishing) {\n            client.disconnectedPublishing = newDisconnectedPublishing;\n          }\n        },\n        \"disconnectedBufferSize\": {\n          get: function get() {\n            return client.disconnectedBufferSize;\n          },\n          set: function set(newDisconnectedBufferSize) {\n            client.disconnectedBufferSize = newDisconnectedBufferSize;\n          }\n        },\n        \"onConnectionLost\": {\n          get: function get() {\n            return client.onConnectionLost;\n          },\n          set: function set(newOnConnectionLost) {\n            if (typeof newOnConnectionLost === \"function\") client.onConnectionLost = newOnConnectionLost;else throw new Error(format(ERROR.INVALID_TYPE, [typeof newOnConnectionLost, \"onConnectionLost\"]));\n          }\n        },\n        \"onMessageDelivered\": {\n          get: function get() {\n            return client.onMessageDelivered;\n          },\n          set: function set(newOnMessageDelivered) {\n            if (typeof newOnMessageDelivered === \"function\") client.onMessageDelivered = newOnMessageDelivered;else throw new Error(format(ERROR.INVALID_TYPE, [typeof newOnMessageDelivered, \"onMessageDelivered\"]));\n          }\n        },\n        \"onMessageArrived\": {\n          get: function get() {\n            return client.onMessageArrived;\n          },\n          set: function set(newOnMessageArrived) {\n            if (typeof newOnMessageArrived === \"function\") client.onMessageArrived = newOnMessageArrived;else throw new Error(format(ERROR.INVALID_TYPE, [typeof newOnMessageArrived, \"onMessageArrived\"]));\n          }\n        },\n        \"trace\": {\n          get: function get() {\n            return client.traceFunction;\n          },\n          set: function set(trace) {\n            if (typeof trace === \"function\") {\n              client.traceFunction = trace;\n            } else {\n              throw new Error(format(ERROR.INVALID_TYPE, [typeof trace, \"onTrace\"]));\n            }\n          }\n        }\n      });\n      /**\n      * Connect this Messaging client to its server.\n      *\n      * @name Paho.Client#connect\n      * @function\n      * @param {object} connectOptions - Attributes used with the connection.\n      * @param {number} connectOptions.timeout - If the connect has not succeeded within this\n      *                    number of seconds, it is deemed to have failed.\n      *                    The default is 30 seconds.\n      * @param {string} connectOptions.userName - Authentication username for this connection.\n      * @param {string} connectOptions.password - Authentication password for this connection.\n      * @param {Paho.Message} connectOptions.willMessage - sent by the server when the client\n      *                    disconnects abnormally.\n      * @param {number} connectOptions.keepAliveInterval - the server disconnects this client if\n      *                    there is no activity for this number of seconds.\n      *                    The default value of 60 seconds is assumed if not set.\n      * @param {boolean} connectOptions.cleanSession - if true(default) the client and server\n      *                    persistent state is deleted on successful connect.\n      * @param {boolean} connectOptions.useSSL - if present and true, use an SSL Websocket connection.\n      * @param {object} connectOptions.invocationContext - passed to the onSuccess callback or onFailure callback.\n      * @param {function} connectOptions.onSuccess - called when the connect acknowledgement\n      *                    has been received from the server.\n      * A single response object parameter is passed to the onSuccess callback containing the following fields:\n      * <ol>\n      * <li>invocationContext as passed in to the onSuccess method in the connectOptions.\n      * </ol>\n      * @param {function} connectOptions.onFailure - called when the connect request has failed or timed out.\n      * A single response object parameter is passed to the onFailure callback containing the following fields:\n      * <ol>\n      * <li>invocationContext as passed in to the onFailure method in the connectOptions.\n      * <li>errorCode a number indicating the nature of the error.\n      * <li>errorMessage text describing the error.\n      * </ol>\n      * @param {array} connectOptions.hosts - If present this contains either a set of hostnames or fully qualified\n      * WebSocket URIs (ws://iot.eclipse.org:80/ws), that are tried in order in place\n      * of the host and port paramater on the construtor. The hosts are tried one at at time in order until\n      * one of then succeeds.\n      * @param {array} connectOptions.ports - If present the set of ports matching the hosts. If hosts contains URIs, this property\n      * is not used.\n      * @param {boolean} connectOptions.reconnect - Sets whether the client will automatically attempt to reconnect\n      * to the server if the connection is lost.\n      *<ul>\n      *<li>If set to false, the client will not attempt to automatically reconnect to the server in the event that the\n      * connection is lost.</li>\n      *<li>If set to true, in the event that the connection is lost, the client will attempt to reconnect to the server.\n      * It will initially wait 1 second before it attempts to reconnect, for every failed reconnect attempt, the delay\n      * will double until it is at 2 minutes at which point the delay will stay at 2 minutes.</li>\n      *</ul>\n      * @param {number} connectOptions.mqttVersion - The version of MQTT to use to connect to the MQTT Broker.\n      *<ul>\n      *<li>3 - MQTT V3.1</li>\n      *<li>4 - MQTT V3.1.1</li>\n      *</ul>\n      * @param {boolean} connectOptions.mqttVersionExplicit - If set to true, will force the connection to use the\n      * selected MQTT Version or will fail to connect.\n      * @param {array} connectOptions.uris - If present, should contain a list of fully qualified WebSocket uris\n      * (e.g. ws://iot.eclipse.org:80/ws), that are tried in order in place of the host and port parameter of the construtor.\n      * The uris are tried one at a time in order until one of them succeeds. Do not use this in conjunction with hosts as\n      * the hosts array will be converted to uris and will overwrite this property.\n      * @throws {InvalidState} If the client is not in disconnected state. The client must have received connectionLost\n      * or disconnected before calling connect for a second or subsequent time.\n      */\n\n      this.connect = function (connectOptions) {\n        connectOptions = connectOptions || {};\n        validate(connectOptions, {\n          timeout: \"number\",\n          userName: \"string\",\n          password: \"string\",\n          willMessage: \"object\",\n          keepAliveInterval: \"number\",\n          cleanSession: \"boolean\",\n          useSSL: \"boolean\",\n          invocationContext: \"object\",\n          onSuccess: \"function\",\n          onFailure: \"function\",\n          hosts: \"object\",\n          ports: \"object\",\n          reconnect: \"boolean\",\n          mqttVersion: \"number\",\n          mqttVersionExplicit: \"boolean\",\n          uris: \"object\"\n        }); // If no keep alive interval is set, assume 60 seconds.\n\n        if (connectOptions.keepAliveInterval === undefined) connectOptions.keepAliveInterval = 60;\n\n        if (connectOptions.mqttVersion > 4 || connectOptions.mqttVersion < 3) {\n          throw new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.mqttVersion, \"connectOptions.mqttVersion\"]));\n        }\n\n        if (connectOptions.mqttVersion === undefined) {\n          connectOptions.mqttVersionExplicit = false;\n          connectOptions.mqttVersion = 4;\n        } else {\n          connectOptions.mqttVersionExplicit = true;\n        } //Check that if password is set, so is username\n\n\n        if (connectOptions.password !== undefined && connectOptions.userName === undefined) throw new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.password, \"connectOptions.password\"]));\n\n        if (connectOptions.willMessage) {\n          if (!(connectOptions.willMessage instanceof Message)) throw new Error(format(ERROR.INVALID_TYPE, [connectOptions.willMessage, \"connectOptions.willMessage\"])); // The will message must have a payload that can be represented as a string.\n          // Cause the willMessage to throw an exception if this is not the case.\n\n          connectOptions.willMessage.stringPayload = null;\n          if (typeof connectOptions.willMessage.destinationName === \"undefined\") throw new Error(format(ERROR.INVALID_TYPE, [typeof connectOptions.willMessage.destinationName, \"connectOptions.willMessage.destinationName\"]));\n        }\n\n        if (typeof connectOptions.cleanSession === \"undefined\") connectOptions.cleanSession = true;\n\n        if (connectOptions.hosts) {\n          if (!(connectOptions.hosts instanceof Array)) throw new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts, \"connectOptions.hosts\"]));\n          if (connectOptions.hosts.length < 1) throw new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts, \"connectOptions.hosts\"]));\n          var usingURIs = false;\n\n          for (var i = 0; i < connectOptions.hosts.length; i++) {\n            if (typeof connectOptions.hosts[i] !== \"string\") throw new Error(format(ERROR.INVALID_TYPE, [typeof connectOptions.hosts[i], \"connectOptions.hosts[\" + i + \"]\"]));\n\n            if (/^(wss?):\\/\\/((\\[(.+)\\])|([^\\/]+?))(:(\\d+))?(\\/.*)$/.test(connectOptions.hosts[i])) {\n              if (i === 0) {\n                usingURIs = true;\n              } else if (!usingURIs) {\n                throw new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts[i], \"connectOptions.hosts[\" + i + \"]\"]));\n              }\n            } else if (usingURIs) {\n              throw new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.hosts[i], \"connectOptions.hosts[\" + i + \"]\"]));\n            }\n          }\n\n          if (!usingURIs) {\n            if (!connectOptions.ports) throw new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.ports, \"connectOptions.ports\"]));\n            if (!(connectOptions.ports instanceof Array)) throw new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.ports, \"connectOptions.ports\"]));\n            if (connectOptions.hosts.length !== connectOptions.ports.length) throw new Error(format(ERROR.INVALID_ARGUMENT, [connectOptions.ports, \"connectOptions.ports\"]));\n            connectOptions.uris = [];\n\n            for (var i = 0; i < connectOptions.hosts.length; i++) {\n              if (typeof connectOptions.ports[i] !== \"number\" || connectOptions.ports[i] < 0) throw new Error(format(ERROR.INVALID_TYPE, [typeof connectOptions.ports[i], \"connectOptions.ports[\" + i + \"]\"]));\n              var host = connectOptions.hosts[i];\n              var port = connectOptions.ports[i];\n              var ipv6 = host.indexOf(\":\") !== -1;\n              uri = \"ws://\" + (ipv6 ? \"[\" + host + \"]\" : host) + \":\" + port + path;\n              connectOptions.uris.push(uri);\n            }\n          } else {\n            connectOptions.uris = connectOptions.hosts;\n          }\n        }\n\n        client.connect(connectOptions);\n      };\n      /**\n      * Subscribe for messages, request receipt of a copy of messages sent to the destinations described by the filter.\n      *\n      * @name Paho.Client#subscribe\n      * @function\n      * @param {string} filter describing the destinations to receive messages from.\n      * <br>\n      * @param {object} subscribeOptions - used to control the subscription\n      *\n      * @param {number} subscribeOptions.qos - the maximum qos of any publications sent\n      *                                  as a result of making this subscription.\n      * @param {object} subscribeOptions.invocationContext - passed to the onSuccess callback\n      *                                  or onFailure callback.\n      * @param {function} subscribeOptions.onSuccess - called when the subscribe acknowledgement\n      *                                  has been received from the server.\n      *                                  A single response object parameter is passed to the onSuccess callback containing the following fields:\n      *                                  <ol>\n      *                                  <li>invocationContext if set in the subscribeOptions.\n      *                                  </ol>\n      * @param {function} subscribeOptions.onFailure - called when the subscribe request has failed or timed out.\n      *                                  A single response object parameter is passed to the onFailure callback containing the following fields:\n      *                                  <ol>\n      *                                  <li>invocationContext - if set in the subscribeOptions.\n      *                                  <li>errorCode - a number indicating the nature of the error.\n      *                                  <li>errorMessage - text describing the error.\n      *                                  </ol>\n      * @param {number} subscribeOptions.timeout - which, if present, determines the number of\n      *                                  seconds after which the onFailure calback is called.\n      *                                  The presence of a timeout does not prevent the onSuccess\n      *                                  callback from being called when the subscribe completes.\n      * @throws {InvalidState} if the client is not in connected state.\n      */\n\n\n      this.subscribe = function (filter, subscribeOptions) {\n        if (typeof filter !== \"string\" && filter.constructor !== Array) throw new Error(\"Invalid argument:\" + filter);\n        subscribeOptions = subscribeOptions || {};\n        validate(subscribeOptions, {\n          qos: \"number\",\n          invocationContext: \"object\",\n          onSuccess: \"function\",\n          onFailure: \"function\",\n          timeout: \"number\"\n        });\n        if (subscribeOptions.timeout && !subscribeOptions.onFailure) throw new Error(\"subscribeOptions.timeout specified with no onFailure callback.\");\n        if (typeof subscribeOptions.qos !== \"undefined\" && !(subscribeOptions.qos === 0 || subscribeOptions.qos === 1 || subscribeOptions.qos === 2)) throw new Error(format(ERROR.INVALID_ARGUMENT, [subscribeOptions.qos, \"subscribeOptions.qos\"]));\n        client.subscribe(filter, subscribeOptions);\n      };\n      /**\n       * Unsubscribe for messages, stop receiving messages sent to destinations described by the filter.\n       *\n       * @name Paho.Client#unsubscribe\n       * @function\n       * @param {string} filter - describing the destinations to receive messages from.\n       * @param {object} unsubscribeOptions - used to control the subscription\n       * @param {object} unsubscribeOptions.invocationContext - passed to the onSuccess callback\n      \t\t\t\t\t\t\t\t\t  or onFailure callback.\n       * @param {function} unsubscribeOptions.onSuccess - called when the unsubscribe acknowledgement has been received from the server.\n       *                                    A single response object parameter is passed to the\n       *                                    onSuccess callback containing the following fields:\n       *                                    <ol>\n       *                                    <li>invocationContext - if set in the unsubscribeOptions.\n       *                                    </ol>\n       * @param {function} unsubscribeOptions.onFailure called when the unsubscribe request has failed or timed out.\n       *                                    A single response object parameter is passed to the onFailure callback containing the following fields:\n       *                                    <ol>\n       *                                    <li>invocationContext - if set in the unsubscribeOptions.\n       *                                    <li>errorCode - a number indicating the nature of the error.\n       *                                    <li>errorMessage - text describing the error.\n       *                                    </ol>\n       * @param {number} unsubscribeOptions.timeout - which, if present, determines the number of seconds\n       *                                    after which the onFailure callback is called. The presence of\n       *                                    a timeout does not prevent the onSuccess callback from being\n       *                                    called when the unsubscribe completes\n       * @throws {InvalidState} if the client is not in connected state.\n       */\n\n\n      this.unsubscribe = function (filter, unsubscribeOptions) {\n        if (typeof filter !== \"string\" && filter.constructor !== Array) throw new Error(\"Invalid argument:\" + filter);\n        unsubscribeOptions = unsubscribeOptions || {};\n        validate(unsubscribeOptions, {\n          invocationContext: \"object\",\n          onSuccess: \"function\",\n          onFailure: \"function\",\n          timeout: \"number\"\n        });\n        if (unsubscribeOptions.timeout && !unsubscribeOptions.onFailure) throw new Error(\"unsubscribeOptions.timeout specified with no onFailure callback.\");\n        client.unsubscribe(filter, unsubscribeOptions);\n      };\n      /**\n      * Send a message to the consumers of the destination in the Message.\n      *\n      * @name Paho.Client#send\n      * @function\n      * @param {string|Paho.Message} topic - <b>mandatory</b> The name of the destination to which the message is to be sent.\n      * \t\t\t\t\t   - If it is the only parameter, used as Paho.Message object.\n      * @param {String|ArrayBuffer} payload - The message data to be sent.\n      * @param {number} qos The Quality of Service used to deliver the message.\n      * \t\t<dl>\n      * \t\t\t<dt>0 Best effort (default).\n      *     \t\t\t<dt>1 At least once.\n      *     \t\t\t<dt>2 Exactly once.\n      * \t\t</dl>\n      * @param {Boolean} retained If true, the message is to be retained by the server and delivered\n      *                     to both current and future subscriptions.\n      *                     If false the server only delivers the message to current subscribers, this is the default for new Messages.\n      *                     A received message has the retained boolean set to true if the message was published\n      *                     with the retained boolean set to true\n      *                     and the subscrption was made after the message has been published.\n      * @throws {InvalidState} if the client is not connected.\n      */\n\n\n      this.send = function (topic, payload, qos, retained) {\n        var message;\n\n        if (arguments.length === 0) {\n          throw new Error(\"Invalid argument.\" + \"length\");\n        } else if (arguments.length == 1) {\n          if (!(topic instanceof Message) && typeof topic !== \"string\") throw new Error(\"Invalid argument:\" + typeof topic);\n          message = topic;\n          if (typeof message.destinationName === \"undefined\") throw new Error(format(ERROR.INVALID_ARGUMENT, [message.destinationName, \"Message.destinationName\"]));\n          client.send(message);\n        } else {\n          //parameter checking in Message object\n          message = new Message(payload);\n          message.destinationName = topic;\n          if (arguments.length >= 3) message.qos = qos;\n          if (arguments.length >= 4) message.retained = retained;\n          client.send(message);\n        }\n      };\n      /**\n      * Publish a message to the consumers of the destination in the Message.\n      * Synonym for Paho.Mqtt.Client#send\n      *\n      * @name Paho.Client#publish\n      * @function\n      * @param {string|Paho.Message} topic - <b>mandatory</b> The name of the topic to which the message is to be published.\n      * \t\t\t\t\t   - If it is the only parameter, used as Paho.Message object.\n      * @param {String|ArrayBuffer} payload - The message data to be published.\n      * @param {number} qos The Quality of Service used to deliver the message.\n      * \t\t<dl>\n      * \t\t\t<dt>0 Best effort (default).\n      *     \t\t\t<dt>1 At least once.\n      *     \t\t\t<dt>2 Exactly once.\n      * \t\t</dl>\n      * @param {Boolean} retained If true, the message is to be retained by the server and delivered\n      *                     to both current and future subscriptions.\n      *                     If false the server only delivers the message to current subscribers, this is the default for new Messages.\n      *                     A received message has the retained boolean set to true if the message was published\n      *                     with the retained boolean set to true\n      *                     and the subscrption was made after the message has been published.\n      * @throws {InvalidState} if the client is not connected.\n      */\n\n\n      this.publish = function (topic, payload, qos, retained) {\n        var message;\n\n        if (arguments.length === 0) {\n          throw new Error(\"Invalid argument.\" + \"length\");\n        } else if (arguments.length == 1) {\n          if (!(topic instanceof Message) && typeof topic !== \"string\") throw new Error(\"Invalid argument:\" + typeof topic);\n          message = topic;\n          if (typeof message.destinationName === \"undefined\") throw new Error(format(ERROR.INVALID_ARGUMENT, [message.destinationName, \"Message.destinationName\"]));\n          client.send(message);\n        } else {\n          //parameter checking in Message object\n          message = new Message(payload);\n          message.destinationName = topic;\n          if (arguments.length >= 3) message.qos = qos;\n          if (arguments.length >= 4) message.retained = retained;\n          client.send(message);\n        }\n      };\n      /**\n      * Normal disconnect of this Messaging client from its server.\n      *\n      * @name Paho.Client#disconnect\n      * @function\n      * @throws {InvalidState} if the client is already disconnected.\n      */\n\n\n      this.disconnect = function () {\n        client.disconnect();\n      };\n      /**\n      * Get the contents of the trace log.\n      *\n      * @name Paho.Client#getTraceLog\n      * @function\n      * @return {Object[]} tracebuffer containing the time ordered trace records.\n      */\n\n\n      this.getTraceLog = function () {\n        return client.getTraceLog();\n      };\n      /**\n      * Start tracing.\n      *\n      * @name Paho.Client#startTrace\n      * @function\n      */\n\n\n      this.startTrace = function () {\n        client.startTrace();\n      };\n      /**\n      * Stop tracing.\n      *\n      * @name Paho.Client#stopTrace\n      * @function\n      */\n\n\n      this.stopTrace = function () {\n        client.stopTrace();\n      };\n\n      this.isConnected = function () {\n        return client.connected;\n      };\n    };\n    /**\n    * An application message, sent or received.\n    * <p>\n    * All attributes may be null, which implies the default values.\n    *\n    * @name Paho.Message\n    * @constructor\n    * @param {String|ArrayBuffer} payload The message data to be sent.\n    * <p>\n    * @property {string} payloadString <i>read only</i> The payload as a string if the payload consists of valid UTF-8 characters.\n    * @property {ArrayBuffer} payloadBytes <i>read only</i> The payload as an ArrayBuffer.\n    * <p>\n    * @property {string} destinationName <b>mandatory</b> The name of the destination to which the message is to be sent\n    *                    (for messages about to be sent) or the name of the destination from which the message has been received.\n    *                    (for messages received by the onMessage function).\n    * <p>\n    * @property {number} qos The Quality of Service used to deliver the message.\n    * <dl>\n    *     <dt>0 Best effort (default).\n    *     <dt>1 At least once.\n    *     <dt>2 Exactly once.\n    * </dl>\n    * <p>\n    * @property {Boolean} retained If true, the message is to be retained by the server and delivered\n    *                     to both current and future subscriptions.\n    *                     If false the server only delivers the message to current subscribers, this is the default for new Messages.\n    *                     A received message has the retained boolean set to true if the message was published\n    *                     with the retained boolean set to true\n    *                     and the subscrption was made after the message has been published.\n    * <p>\n    * @property {Boolean} duplicate <i>read only</i> If true, this message might be a duplicate of one which has already been received.\n    *                     This is only set on messages received from the server.\n    *\n    */\n\n\n    var Message = function Message(newPayload) {\n      var payload;\n\n      if (typeof newPayload === \"string\" || newPayload instanceof ArrayBuffer || ArrayBuffer.isView(newPayload) && !(newPayload instanceof DataView)) {\n        payload = newPayload;\n      } else {\n        throw format(ERROR.INVALID_ARGUMENT, [newPayload, \"newPayload\"]);\n      }\n\n      var destinationName;\n      var qos = 0;\n      var retained = false;\n      var duplicate = false;\n      Object.defineProperties(this, {\n        \"payloadString\": {\n          enumerable: true,\n          get: function get() {\n            if (typeof payload === \"string\") return payload;else return parseUTF8(payload, 0, payload.length);\n          }\n        },\n        \"payloadBytes\": {\n          enumerable: true,\n          get: function get() {\n            if (typeof payload === \"string\") {\n              var buffer = new ArrayBuffer(UTF8Length(payload));\n              var byteStream = new Uint8Array(buffer);\n              stringToUTF8(payload, byteStream, 0);\n              return byteStream;\n            } else {\n              return payload;\n            }\n          }\n        },\n        \"destinationName\": {\n          enumerable: true,\n          get: function get() {\n            return destinationName;\n          },\n          set: function set(newDestinationName) {\n            if (typeof newDestinationName === \"string\") destinationName = newDestinationName;else throw new Error(format(ERROR.INVALID_ARGUMENT, [newDestinationName, \"newDestinationName\"]));\n          }\n        },\n        \"qos\": {\n          enumerable: true,\n          get: function get() {\n            return qos;\n          },\n          set: function set(newQos) {\n            if (newQos === 0 || newQos === 1 || newQos === 2) qos = newQos;else throw new Error(\"Invalid argument:\" + newQos);\n          }\n        },\n        \"retained\": {\n          enumerable: true,\n          get: function get() {\n            return retained;\n          },\n          set: function set(newRetained) {\n            if (typeof newRetained === \"boolean\") retained = newRetained;else throw new Error(format(ERROR.INVALID_ARGUMENT, [newRetained, \"newRetained\"]));\n          }\n        },\n        \"topic\": {\n          enumerable: true,\n          get: function get() {\n            return destinationName;\n          },\n          set: function set(newTopic) {\n            destinationName = newTopic;\n          }\n        },\n        \"duplicate\": {\n          enumerable: true,\n          get: function get() {\n            return duplicate;\n          },\n          set: function set(newDuplicate) {\n            duplicate = newDuplicate;\n          }\n        }\n      });\n    }; // Module contents.\n\n\n    return {\n      Client: Client,\n      Message: Message\n    }; // eslint-disable-next-line no-nested-ternary\n  }(typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {});\n\n  return PahoMQTT;\n});","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = utils.isStandardBrowserEnv() ? // Standard browser envs support document.cookie\nfunction standardBrowserEnv() {\n  return {\n    write: function write(name, value, expires, path, domain, secure) {\n      var cookie = [];\n      cookie.push(name + '=' + encodeURIComponent(value));\n\n      if (utils.isNumber(expires)) {\n        cookie.push('expires=' + new Date(expires).toGMTString());\n      }\n\n      if (utils.isString(path)) {\n        cookie.push('path=' + path);\n      }\n\n      if (utils.isString(domain)) {\n        cookie.push('domain=' + domain);\n      }\n\n      if (secure === true) {\n        cookie.push('secure');\n      }\n\n      document.cookie = cookie.join('; ');\n    },\n    read: function read(name) {\n      var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return match ? decodeURIComponent(match[3]) : null;\n    },\n    remove: function remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  };\n}() : // Non standard browser env (web workers, react-native) lack needed support.\nfunction nonStandardBrowserEnv() {\n  return {\n    write: function write() {},\n    read: function read() {\n      return null;\n    },\n    remove: function remove() {}\n  };\n}();","'use strict';\n\nvar utils = require('./../utils');\n\nvar buildURL = require('../helpers/buildURL');\n\nvar InterceptorManager = require('./InterceptorManager');\n\nvar dispatchRequest = require('./dispatchRequest');\n\nvar mergeConfig = require('./mergeConfig');\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\n\n\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\n\n\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n  config.method = config.method ? config.method.toLowerCase() : 'get'; // Hook up interceptors middleware\n\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n}; // Provide aliases for supported request methods\n\n\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function (url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function (url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\nmodule.exports = Axios;","'use strict';\n\nvar utils = require('./../utils');\n\nvar transformData = require('./transformData');\n\nvar isCancel = require('../cancel/isCancel');\n\nvar defaults = require('../defaults');\n\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\n\nvar combineURLs = require('./../helpers/combineURLs');\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\n\n\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\n\n\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config); // Support baseURL config\n\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  } // Ensure headers exist\n\n\n  config.headers = config.headers || {}; // Transform request data\n\n  config.data = transformData(config.data, config.headers, config.transformRequest); // Flatten headers\n\n  config.headers = utils.merge(config.headers.common || {}, config.headers[config.method] || {}, config.headers || {});\n  utils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch', 'common'], function cleanHeaderConfig(method) {\n    delete config.headers[method];\n  });\n  var adapter = config.adapter || defaults.adapter;\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config); // Transform response data\n\n    response.data = transformData(response.data, response.headers, config.transformResponse);\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config); // Transform response data\n\n      if (reason && reason.response) {\n        reason.response.data = transformData(reason.response.data, reason.response.headers, config.transformResponse);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};","/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { PubSub } from './PubSub';\nexport * from './Providers';\nvar CONTROL_MSG;\n\n(function (CONTROL_MSG) {\n  CONTROL_MSG[\"CONNECTION_CLOSED\"] = \"Connection closed\";\n  CONTROL_MSG[\"TIMEOUT_DISCONNECT\"] = \"Timeout disconnect\";\n  CONTROL_MSG[\"SUBSCRIPTION_ACK\"] = \"Subscription ack\";\n})(CONTROL_MSG || (CONTROL_MSG = {}));\n\nexport { PubSub, CONTROL_MSG };\n/**\n * @deprecated use named import\n */\n\nexport default PubSub;","'use strict';\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\n\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};","'use strict';\n\nvar enhanceError = require('./enhanceError');\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\n\n\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\n/**\n * Represents a location in a Source.\n */\n\n/**\n * Takes a Source and a UTF-8 character offset, and returns the corresponding\n * line and column as a SourceLocation.\n */\nexport function getLocation(source, position) {\n  var lineRegexp = /\\r\\n|[\\n\\r]/g;\n  var line = 1;\n  var column = position + 1;\n  var match;\n\n  while ((match = lineRegexp.exec(source.body)) && match.index < position) {\n    line += 1;\n    column = position + 1 - (match.index + match[0].length);\n  }\n\n  return {\n    line: line,\n    column: column\n  };\n}","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\nimport { getLocation } from '../language/location';\n/**\n * Prints a GraphQLError to a string, representing useful location information\n * about the error's position in the source.\n */\n\nexport function printError(error) {\n  var printedLocations = [];\n\n  if (error.nodes) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = error.nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var node = _step.value;\n\n        if (node.loc) {\n          printedLocations.push(highlightSourceAtLocation(node.loc.source, getLocation(node.loc.source, node.loc.start)));\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  } else if (error.source && error.locations) {\n    var source = error.source;\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = error.locations[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var location = _step2.value;\n        printedLocations.push(highlightSourceAtLocation(source, location));\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n          _iterator2.return();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  }\n\n  return printedLocations.length === 0 ? error.message : [error.message].concat(printedLocations).join('\\n\\n') + '\\n';\n}\n/**\n * Render a helpful description of the location of the error in the GraphQL\n * Source document.\n */\n\nfunction highlightSourceAtLocation(source, location) {\n  var firstLineColumnOffset = source.locationOffset.column - 1;\n  var body = whitespace(firstLineColumnOffset) + source.body;\n  var lineIndex = location.line - 1;\n  var lineOffset = source.locationOffset.line - 1;\n  var lineNum = location.line + lineOffset;\n  var columnOffset = location.line === 1 ? firstLineColumnOffset : 0;\n  var columnNum = location.column + columnOffset;\n  var lines = body.split(/\\r\\n|[\\n\\r]/g);\n  return \"\".concat(source.name, \" (\").concat(lineNum, \":\").concat(columnNum, \")\\n\") + printPrefixedLines([// Lines specified like this: [\"prefix\", \"string\"],\n  [\"\".concat(lineNum - 1, \": \"), lines[lineIndex - 1]], [\"\".concat(lineNum, \": \"), lines[lineIndex]], ['', whitespace(columnNum - 1) + '^'], [\"\".concat(lineNum + 1, \": \"), lines[lineIndex + 1]]]);\n}\n\nfunction printPrefixedLines(lines) {\n  var existingLines = lines.filter(function (_ref) {\n    var _ = _ref[0],\n        line = _ref[1];\n    return line !== undefined;\n  });\n  var padLen = 0;\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = existingLines[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var _ref4 = _step3.value;\n      var prefix = _ref4[0];\n      padLen = Math.max(padLen, prefix.length);\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n        _iterator3.return();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  return existingLines.map(function (_ref3) {\n    var prefix = _ref3[0],\n        line = _ref3[1];\n    return lpad(padLen, prefix) + line;\n  }).join('\\n');\n}\n\nfunction whitespace(len) {\n  return Array(len + 1).join(' ');\n}\n\nfunction lpad(len, str) {\n  return whitespace(len - str.length) + str;\n}","import \"core-js/modules/es.array.reduce\";\n\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\nimport { printError } from './printError';\nimport { getLocation } from '../language/location';\nexport function GraphQLError( // eslint-disable-line no-redeclare\nmessage, nodes, source, positions, path, originalError, extensions) {\n  // Compute list of blame nodes.\n  var _nodes = Array.isArray(nodes) ? nodes.length !== 0 ? nodes : undefined : nodes ? [nodes] : undefined; // Compute locations in the source for the given nodes/positions.\n\n\n  var _source = source;\n\n  if (!_source && _nodes) {\n    var node = _nodes[0];\n    _source = node && node.loc && node.loc.source;\n  }\n\n  var _positions = positions;\n\n  if (!_positions && _nodes) {\n    _positions = _nodes.reduce(function (list, node) {\n      if (node.loc) {\n        list.push(node.loc.start);\n      }\n\n      return list;\n    }, []);\n  }\n\n  if (_positions && _positions.length === 0) {\n    _positions = undefined;\n  }\n\n  var _locations;\n\n  if (positions && source) {\n    _locations = positions.map(function (pos) {\n      return getLocation(source, pos);\n    });\n  } else if (_nodes) {\n    _locations = _nodes.reduce(function (list, node) {\n      if (node.loc) {\n        list.push(getLocation(node.loc.source, node.loc.start));\n      }\n\n      return list;\n    }, []);\n  }\n\n  var _extensions = extensions || originalError && originalError.extensions;\n\n  Object.defineProperties(this, {\n    message: {\n      value: message,\n      // By being enumerable, JSON.stringify will include `message` in the\n      // resulting output. This ensures that the simplest possible GraphQL\n      // service adheres to the spec.\n      enumerable: true,\n      writable: true\n    },\n    locations: {\n      // Coercing falsey values to undefined ensures they will not be included\n      // in JSON.stringify() when not provided.\n      value: _locations || undefined,\n      // By being enumerable, JSON.stringify will include `locations` in the\n      // resulting output. This ensures that the simplest possible GraphQL\n      // service adheres to the spec.\n      enumerable: Boolean(_locations)\n    },\n    path: {\n      // Coercing falsey values to undefined ensures they will not be included\n      // in JSON.stringify() when not provided.\n      value: path || undefined,\n      // By being enumerable, JSON.stringify will include `path` in the\n      // resulting output. This ensures that the simplest possible GraphQL\n      // service adheres to the spec.\n      enumerable: Boolean(path)\n    },\n    nodes: {\n      value: _nodes || undefined\n    },\n    source: {\n      value: _source || undefined\n    },\n    positions: {\n      value: _positions || undefined\n    },\n    originalError: {\n      value: originalError\n    },\n    extensions: {\n      // Coercing falsey values to undefined ensures they will not be included\n      // in JSON.stringify() when not provided.\n      value: _extensions || undefined,\n      // By being enumerable, JSON.stringify will include `path` in the\n      // resulting output. This ensures that the simplest possible GraphQL\n      // service adheres to the spec.\n      enumerable: Boolean(_extensions)\n    }\n  }); // Include (non-enumerable) stack trace.\n\n  if (originalError && originalError.stack) {\n    Object.defineProperty(this, 'stack', {\n      value: originalError.stack,\n      writable: true,\n      configurable: true\n    });\n  } else if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, GraphQLError);\n  } else {\n    Object.defineProperty(this, 'stack', {\n      value: Error().stack,\n      writable: true,\n      configurable: true\n    });\n  }\n}\nGraphQLError.prototype = Object.create(Error.prototype, {\n  constructor: {\n    value: GraphQLError\n  },\n  name: {\n    value: 'GraphQLError'\n  },\n  toString: {\n    value: function toString() {\n      return printError(this);\n    }\n  }\n});","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\n/**\n * A visitor is provided to visit, it contains the collection of\n * relevant functions to be called during the visitor's traversal.\n */\n\n/**\n * A visitor is comprised of visit functions, which are called on each node\n * during the visitor's traversal.\n */\n\n/**\n * A KeyMap describes each the traversable properties of each kind of node.\n */\nexport var QueryDocumentKeys = {\n  Name: [],\n  Document: ['definitions'],\n  OperationDefinition: ['name', 'variableDefinitions', 'directives', 'selectionSet'],\n  VariableDefinition: ['variable', 'type', 'defaultValue', 'directives'],\n  Variable: ['name'],\n  SelectionSet: ['selections'],\n  Field: ['alias', 'name', 'arguments', 'directives', 'selectionSet'],\n  Argument: ['name', 'value'],\n  FragmentSpread: ['name', 'directives'],\n  InlineFragment: ['typeCondition', 'directives', 'selectionSet'],\n  FragmentDefinition: ['name', // Note: fragment variable definitions are experimental and may be changed\n  // or removed in the future.\n  'variableDefinitions', 'typeCondition', 'directives', 'selectionSet'],\n  IntValue: [],\n  FloatValue: [],\n  StringValue: [],\n  BooleanValue: [],\n  NullValue: [],\n  EnumValue: [],\n  ListValue: ['values'],\n  ObjectValue: ['fields'],\n  ObjectField: ['name', 'value'],\n  Directive: ['name', 'arguments'],\n  NamedType: ['name'],\n  ListType: ['type'],\n  NonNullType: ['type'],\n  SchemaDefinition: ['directives', 'operationTypes'],\n  OperationTypeDefinition: ['type'],\n  ScalarTypeDefinition: ['description', 'name', 'directives'],\n  ObjectTypeDefinition: ['description', 'name', 'interfaces', 'directives', 'fields'],\n  FieldDefinition: ['description', 'name', 'arguments', 'type', 'directives'],\n  InputValueDefinition: ['description', 'name', 'type', 'defaultValue', 'directives'],\n  InterfaceTypeDefinition: ['description', 'name', 'directives', 'fields'],\n  UnionTypeDefinition: ['description', 'name', 'directives', 'types'],\n  EnumTypeDefinition: ['description', 'name', 'directives', 'values'],\n  EnumValueDefinition: ['description', 'name', 'directives'],\n  InputObjectTypeDefinition: ['description', 'name', 'directives', 'fields'],\n  DirectiveDefinition: ['description', 'name', 'arguments', 'locations'],\n  SchemaExtension: ['directives', 'operationTypes'],\n  ScalarTypeExtension: ['name', 'directives'],\n  ObjectTypeExtension: ['name', 'interfaces', 'directives', 'fields'],\n  InterfaceTypeExtension: ['name', 'directives', 'fields'],\n  UnionTypeExtension: ['name', 'directives', 'types'],\n  EnumTypeExtension: ['name', 'directives', 'values'],\n  InputObjectTypeExtension: ['name', 'directives', 'fields']\n};\nexport var BREAK = {};\n/**\n * visit() will walk through an AST using a depth first traversal, calling\n * the visitor's enter function at each node in the traversal, and calling the\n * leave function after visiting that node and all of its child nodes.\n *\n * By returning different values from the enter and leave functions, the\n * behavior of the visitor can be altered, including skipping over a sub-tree of\n * the AST (by returning false), editing the AST by returning a value or null\n * to remove the value, or to stop the whole traversal by returning BREAK.\n *\n * When using visit() to edit an AST, the original AST will not be modified, and\n * a new version of the AST with the changes applied will be returned from the\n * visit function.\n *\n *     const editedAST = visit(ast, {\n *       enter(node, key, parent, path, ancestors) {\n *         // @return\n *         //   undefined: no action\n *         //   false: skip visiting this node\n *         //   visitor.BREAK: stop visiting altogether\n *         //   null: delete this node\n *         //   any value: replace this node with the returned value\n *       },\n *       leave(node, key, parent, path, ancestors) {\n *         // @return\n *         //   undefined: no action\n *         //   false: no action\n *         //   visitor.BREAK: stop visiting altogether\n *         //   null: delete this node\n *         //   any value: replace this node with the returned value\n *       }\n *     });\n *\n * Alternatively to providing enter() and leave() functions, a visitor can\n * instead provide functions named the same as the kinds of AST nodes, or\n * enter/leave visitors at a named key, leading to four permutations of\n * visitor API:\n *\n * 1) Named visitors triggered when entering a node a specific kind.\n *\n *     visit(ast, {\n *       Kind(node) {\n *         // enter the \"Kind\" node\n *       }\n *     })\n *\n * 2) Named visitors that trigger upon entering and leaving a node of\n *    a specific kind.\n *\n *     visit(ast, {\n *       Kind: {\n *         enter(node) {\n *           // enter the \"Kind\" node\n *         }\n *         leave(node) {\n *           // leave the \"Kind\" node\n *         }\n *       }\n *     })\n *\n * 3) Generic visitors that trigger upon entering and leaving any node.\n *\n *     visit(ast, {\n *       enter(node) {\n *         // enter any node\n *       },\n *       leave(node) {\n *         // leave any node\n *       }\n *     })\n *\n * 4) Parallel visitors for entering and leaving nodes of a specific kind.\n *\n *     visit(ast, {\n *       enter: {\n *         Kind(node) {\n *           // enter the \"Kind\" node\n *         }\n *       },\n *       leave: {\n *         Kind(node) {\n *           // leave the \"Kind\" node\n *         }\n *       }\n *     })\n */\n\nexport function visit(root, visitor) {\n  var visitorKeys = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : QueryDocumentKeys;\n  /* eslint-disable no-undef-init */\n\n  var stack = undefined;\n  var inArray = Array.isArray(root);\n  var keys = [root];\n  var index = -1;\n  var edits = [];\n  var node = undefined;\n  var key = undefined;\n  var parent = undefined;\n  var path = [];\n  var ancestors = [];\n  var newRoot = root;\n  /* eslint-enable no-undef-init */\n\n  do {\n    index++;\n    var isLeaving = index === keys.length;\n    var isEdited = isLeaving && edits.length !== 0;\n\n    if (isLeaving) {\n      key = ancestors.length === 0 ? undefined : path[path.length - 1];\n      node = parent;\n      parent = ancestors.pop();\n\n      if (isEdited) {\n        if (inArray) {\n          node = node.slice();\n        } else {\n          var clone = {};\n\n          for (var k in node) {\n            if (node.hasOwnProperty(k)) {\n              clone[k] = node[k];\n            }\n          }\n\n          node = clone;\n        }\n\n        var editOffset = 0;\n\n        for (var ii = 0; ii < edits.length; ii++) {\n          var editKey = edits[ii][0];\n          var editValue = edits[ii][1];\n\n          if (inArray) {\n            editKey -= editOffset;\n          }\n\n          if (inArray && editValue === null) {\n            node.splice(editKey, 1);\n            editOffset++;\n          } else {\n            node[editKey] = editValue;\n          }\n        }\n      }\n\n      index = stack.index;\n      keys = stack.keys;\n      edits = stack.edits;\n      inArray = stack.inArray;\n      stack = stack.prev;\n    } else {\n      key = parent ? inArray ? index : keys[index] : undefined;\n      node = parent ? parent[key] : newRoot;\n\n      if (node === null || node === undefined) {\n        continue;\n      }\n\n      if (parent) {\n        path.push(key);\n      }\n    }\n\n    var result = void 0;\n\n    if (!Array.isArray(node)) {\n      if (!isNode(node)) {\n        throw new Error('Invalid AST Node: ' + JSON.stringify(node));\n      }\n\n      var visitFn = getVisitFn(visitor, node.kind, isLeaving);\n\n      if (visitFn) {\n        result = visitFn.call(visitor, node, key, parent, path, ancestors);\n\n        if (result === BREAK) {\n          break;\n        }\n\n        if (result === false) {\n          if (!isLeaving) {\n            path.pop();\n            continue;\n          }\n        } else if (result !== undefined) {\n          edits.push([key, result]);\n\n          if (!isLeaving) {\n            if (isNode(result)) {\n              node = result;\n            } else {\n              path.pop();\n              continue;\n            }\n          }\n        }\n      }\n    }\n\n    if (result === undefined && isEdited) {\n      edits.push([key, node]);\n    }\n\n    if (isLeaving) {\n      path.pop();\n    } else {\n      stack = {\n        inArray: inArray,\n        index: index,\n        keys: keys,\n        edits: edits,\n        prev: stack\n      };\n      inArray = Array.isArray(node);\n      keys = inArray ? node : visitorKeys[node.kind] || [];\n      index = -1;\n      edits = [];\n\n      if (parent) {\n        ancestors.push(parent);\n      }\n\n      parent = node;\n    }\n  } while (stack !== undefined);\n\n  if (edits.length !== 0) {\n    newRoot = edits[edits.length - 1][1];\n  }\n\n  return newRoot;\n}\n\nfunction isNode(maybeNode) {\n  return Boolean(maybeNode && typeof maybeNode.kind === 'string');\n}\n/**\n * Creates a new visitor instance which delegates to many visitors to run in\n * parallel. Each visitor will be visited for each node before moving on.\n *\n * If a prior visitor edits a node, no following visitors will see that node.\n */\n\n\nexport function visitInParallel(visitors) {\n  var skipping = new Array(visitors.length);\n  return {\n    enter: function enter(node) {\n      for (var i = 0; i < visitors.length; i++) {\n        if (!skipping[i]) {\n          var fn = getVisitFn(visitors[i], node.kind,\n          /* isLeaving */\n          false);\n\n          if (fn) {\n            var result = fn.apply(visitors[i], arguments);\n\n            if (result === false) {\n              skipping[i] = node;\n            } else if (result === BREAK) {\n              skipping[i] = BREAK;\n            } else if (result !== undefined) {\n              return result;\n            }\n          }\n        }\n      }\n    },\n    leave: function leave(node) {\n      for (var i = 0; i < visitors.length; i++) {\n        if (!skipping[i]) {\n          var fn = getVisitFn(visitors[i], node.kind,\n          /* isLeaving */\n          true);\n\n          if (fn) {\n            var result = fn.apply(visitors[i], arguments);\n\n            if (result === BREAK) {\n              skipping[i] = BREAK;\n            } else if (result !== undefined && result !== false) {\n              return result;\n            }\n          }\n        } else if (skipping[i] === node) {\n          skipping[i] = null;\n        }\n      }\n    }\n  };\n}\n/**\n * Creates a new visitor instance which maintains a provided TypeInfo instance\n * along with visiting visitor.\n */\n\nexport function visitWithTypeInfo(typeInfo, visitor) {\n  return {\n    enter: function enter(node) {\n      typeInfo.enter(node);\n      var fn = getVisitFn(visitor, node.kind,\n      /* isLeaving */\n      false);\n\n      if (fn) {\n        var result = fn.apply(visitor, arguments);\n\n        if (result !== undefined) {\n          typeInfo.leave(node);\n\n          if (isNode(result)) {\n            typeInfo.enter(result);\n          }\n        }\n\n        return result;\n      }\n    },\n    leave: function leave(node) {\n      var fn = getVisitFn(visitor, node.kind,\n      /* isLeaving */\n      true);\n      var result;\n\n      if (fn) {\n        result = fn.apply(visitor, arguments);\n      }\n\n      typeInfo.leave(node);\n      return result;\n    }\n  };\n}\n/**\n * Given a visitor instance, if it is leaving or not, and a node kind, return\n * the function the visitor runtime should call.\n */\n\nexport function getVisitFn(visitor, kind, isLeaving) {\n  var kindVisitor = visitor[kind];\n\n  if (kindVisitor) {\n    if (!isLeaving && typeof kindVisitor === 'function') {\n      // { Kind() {} }\n      return kindVisitor;\n    }\n\n    var kindSpecificVisitor = isLeaving ? kindVisitor.leave : kindVisitor.enter;\n\n    if (typeof kindSpecificVisitor === 'function') {\n      // { Kind: { enter() {}, leave() {} } }\n      return kindSpecificVisitor;\n    }\n  } else {\n    var specificVisitor = isLeaving ? visitor.leave : visitor.enter;\n\n    if (specificVisitor) {\n      if (typeof specificVisitor === 'function') {\n        // { enter() {}, leave() {} }\n        return specificVisitor;\n      }\n\n      var specificKindVisitor = specificVisitor[kind];\n\n      if (typeof specificKindVisitor === 'function') {\n        // { enter: { Kind() {} }, leave: { Kind() {} } }\n        return specificKindVisitor;\n      }\n    }\n  }\n}","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport { visit } from './visitor';\n/**\n * Converts an AST into a string, using one set of reasonable\n * formatting rules.\n */\n\nexport function print(ast) {\n  return visit(ast, {\n    leave: printDocASTReducer\n  });\n}\nvar printDocASTReducer = {\n  Name: function Name(node) {\n    return node.value;\n  },\n  Variable: function Variable(node) {\n    return '$' + node.name;\n  },\n  // Document\n  Document: function Document(node) {\n    return join(node.definitions, '\\n\\n') + '\\n';\n  },\n  OperationDefinition: function OperationDefinition(node) {\n    var op = node.operation;\n    var name = node.name;\n    var varDefs = wrap('(', join(node.variableDefinitions, ', '), ')');\n    var directives = join(node.directives, ' ');\n    var selectionSet = node.selectionSet; // Anonymous queries with no directives or variable definitions can use\n    // the query short form.\n\n    return !name && !directives && !varDefs && op === 'query' ? selectionSet : join([op, join([name, varDefs]), directives, selectionSet], ' ');\n  },\n  VariableDefinition: function VariableDefinition(_ref) {\n    var variable = _ref.variable,\n        type = _ref.type,\n        defaultValue = _ref.defaultValue,\n        directives = _ref.directives;\n    return variable + ': ' + type + wrap(' = ', defaultValue) + wrap(' ', join(directives, ' '));\n  },\n  SelectionSet: function SelectionSet(_ref2) {\n    var selections = _ref2.selections;\n    return block(selections);\n  },\n  Field: function Field(_ref3) {\n    var alias = _ref3.alias,\n        name = _ref3.name,\n        args = _ref3.arguments,\n        directives = _ref3.directives,\n        selectionSet = _ref3.selectionSet;\n    return join([wrap('', alias, ': ') + name + wrap('(', join(args, ', '), ')'), join(directives, ' '), selectionSet], ' ');\n  },\n  Argument: function Argument(_ref4) {\n    var name = _ref4.name,\n        value = _ref4.value;\n    return name + ': ' + value;\n  },\n  // Fragments\n  FragmentSpread: function FragmentSpread(_ref5) {\n    var name = _ref5.name,\n        directives = _ref5.directives;\n    return '...' + name + wrap(' ', join(directives, ' '));\n  },\n  InlineFragment: function InlineFragment(_ref6) {\n    var typeCondition = _ref6.typeCondition,\n        directives = _ref6.directives,\n        selectionSet = _ref6.selectionSet;\n    return join(['...', wrap('on ', typeCondition), join(directives, ' '), selectionSet], ' ');\n  },\n  FragmentDefinition: function FragmentDefinition(_ref7) {\n    var name = _ref7.name,\n        typeCondition = _ref7.typeCondition,\n        variableDefinitions = _ref7.variableDefinitions,\n        directives = _ref7.directives,\n        selectionSet = _ref7.selectionSet;\n    return (// Note: fragment variable definitions are experimental and may be changed\n      // or removed in the future.\n      \"fragment \".concat(name).concat(wrap('(', join(variableDefinitions, ', '), ')'), \" \") + \"on \".concat(typeCondition, \" \").concat(wrap('', join(directives, ' '), ' ')) + selectionSet\n    );\n  },\n  // Value\n  IntValue: function IntValue(_ref8) {\n    var value = _ref8.value;\n    return value;\n  },\n  FloatValue: function FloatValue(_ref9) {\n    var value = _ref9.value;\n    return value;\n  },\n  StringValue: function StringValue(_ref10, key) {\n    var value = _ref10.value,\n        isBlockString = _ref10.block;\n    return isBlockString ? printBlockString(value, key === 'description') : JSON.stringify(value);\n  },\n  BooleanValue: function BooleanValue(_ref11) {\n    var value = _ref11.value;\n    return value ? 'true' : 'false';\n  },\n  NullValue: function NullValue() {\n    return 'null';\n  },\n  EnumValue: function EnumValue(_ref12) {\n    var value = _ref12.value;\n    return value;\n  },\n  ListValue: function ListValue(_ref13) {\n    var values = _ref13.values;\n    return '[' + join(values, ', ') + ']';\n  },\n  ObjectValue: function ObjectValue(_ref14) {\n    var fields = _ref14.fields;\n    return '{' + join(fields, ', ') + '}';\n  },\n  ObjectField: function ObjectField(_ref15) {\n    var name = _ref15.name,\n        value = _ref15.value;\n    return name + ': ' + value;\n  },\n  // Directive\n  Directive: function Directive(_ref16) {\n    var name = _ref16.name,\n        args = _ref16.arguments;\n    return '@' + name + wrap('(', join(args, ', '), ')');\n  },\n  // Type\n  NamedType: function NamedType(_ref17) {\n    var name = _ref17.name;\n    return name;\n  },\n  ListType: function ListType(_ref18) {\n    var type = _ref18.type;\n    return '[' + type + ']';\n  },\n  NonNullType: function NonNullType(_ref19) {\n    var type = _ref19.type;\n    return type + '!';\n  },\n  // Type System Definitions\n  SchemaDefinition: function SchemaDefinition(_ref20) {\n    var directives = _ref20.directives,\n        operationTypes = _ref20.operationTypes;\n    return join(['schema', join(directives, ' '), block(operationTypes)], ' ');\n  },\n  OperationTypeDefinition: function OperationTypeDefinition(_ref21) {\n    var operation = _ref21.operation,\n        type = _ref21.type;\n    return operation + ': ' + type;\n  },\n  ScalarTypeDefinition: addDescription(function (_ref22) {\n    var name = _ref22.name,\n        directives = _ref22.directives;\n    return join(['scalar', name, join(directives, ' ')], ' ');\n  }),\n  ObjectTypeDefinition: addDescription(function (_ref23) {\n    var name = _ref23.name,\n        interfaces = _ref23.interfaces,\n        directives = _ref23.directives,\n        fields = _ref23.fields;\n    return join(['type', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  }),\n  FieldDefinition: addDescription(function (_ref24) {\n    var name = _ref24.name,\n        args = _ref24.arguments,\n        type = _ref24.type,\n        directives = _ref24.directives;\n    return name + (args.every(function (arg) {\n      return arg.indexOf('\\n') === -1;\n    }) ? wrap('(', join(args, ', '), ')') : wrap('(\\n', indent(join(args, '\\n')), '\\n)')) + ': ' + type + wrap(' ', join(directives, ' '));\n  }),\n  InputValueDefinition: addDescription(function (_ref25) {\n    var name = _ref25.name,\n        type = _ref25.type,\n        defaultValue = _ref25.defaultValue,\n        directives = _ref25.directives;\n    return join([name + ': ' + type, wrap('= ', defaultValue), join(directives, ' ')], ' ');\n  }),\n  InterfaceTypeDefinition: addDescription(function (_ref26) {\n    var name = _ref26.name,\n        directives = _ref26.directives,\n        fields = _ref26.fields;\n    return join(['interface', name, join(directives, ' '), block(fields)], ' ');\n  }),\n  UnionTypeDefinition: addDescription(function (_ref27) {\n    var name = _ref27.name,\n        directives = _ref27.directives,\n        types = _ref27.types;\n    return join(['union', name, join(directives, ' '), types && types.length !== 0 ? '= ' + join(types, ' | ') : ''], ' ');\n  }),\n  EnumTypeDefinition: addDescription(function (_ref28) {\n    var name = _ref28.name,\n        directives = _ref28.directives,\n        values = _ref28.values;\n    return join(['enum', name, join(directives, ' '), block(values)], ' ');\n  }),\n  EnumValueDefinition: addDescription(function (_ref29) {\n    var name = _ref29.name,\n        directives = _ref29.directives;\n    return join([name, join(directives, ' ')], ' ');\n  }),\n  InputObjectTypeDefinition: addDescription(function (_ref30) {\n    var name = _ref30.name,\n        directives = _ref30.directives,\n        fields = _ref30.fields;\n    return join(['input', name, join(directives, ' '), block(fields)], ' ');\n  }),\n  DirectiveDefinition: addDescription(function (_ref31) {\n    var name = _ref31.name,\n        args = _ref31.arguments,\n        locations = _ref31.locations;\n    return 'directive @' + name + (args.every(function (arg) {\n      return arg.indexOf('\\n') === -1;\n    }) ? wrap('(', join(args, ', '), ')') : wrap('(\\n', indent(join(args, '\\n')), '\\n)')) + ' on ' + join(locations, ' | ');\n  }),\n  SchemaExtension: function SchemaExtension(_ref32) {\n    var directives = _ref32.directives,\n        operationTypes = _ref32.operationTypes;\n    return join(['extend schema', join(directives, ' '), block(operationTypes)], ' ');\n  },\n  ScalarTypeExtension: function ScalarTypeExtension(_ref33) {\n    var name = _ref33.name,\n        directives = _ref33.directives;\n    return join(['extend scalar', name, join(directives, ' ')], ' ');\n  },\n  ObjectTypeExtension: function ObjectTypeExtension(_ref34) {\n    var name = _ref34.name,\n        interfaces = _ref34.interfaces,\n        directives = _ref34.directives,\n        fields = _ref34.fields;\n    return join(['extend type', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  },\n  InterfaceTypeExtension: function InterfaceTypeExtension(_ref35) {\n    var name = _ref35.name,\n        directives = _ref35.directives,\n        fields = _ref35.fields;\n    return join(['extend interface', name, join(directives, ' '), block(fields)], ' ');\n  },\n  UnionTypeExtension: function UnionTypeExtension(_ref36) {\n    var name = _ref36.name,\n        directives = _ref36.directives,\n        types = _ref36.types;\n    return join(['extend union', name, join(directives, ' '), types && types.length !== 0 ? '= ' + join(types, ' | ') : ''], ' ');\n  },\n  EnumTypeExtension: function EnumTypeExtension(_ref37) {\n    var name = _ref37.name,\n        directives = _ref37.directives,\n        values = _ref37.values;\n    return join(['extend enum', name, join(directives, ' '), block(values)], ' ');\n  },\n  InputObjectTypeExtension: function InputObjectTypeExtension(_ref38) {\n    var name = _ref38.name,\n        directives = _ref38.directives,\n        fields = _ref38.fields;\n    return join(['extend input', name, join(directives, ' '), block(fields)], ' ');\n  }\n};\n\nfunction addDescription(cb) {\n  return function (node) {\n    return join([node.description, cb(node)], '\\n');\n  };\n}\n/**\n * Given maybeArray, print an empty string if it is null or empty, otherwise\n * print all items together separated by separator if provided\n */\n\n\nfunction join(maybeArray, separator) {\n  return maybeArray ? maybeArray.filter(function (x) {\n    return x;\n  }).join(separator || '') : '';\n}\n/**\n * Given array, print each item on its own line, wrapped in an\n * indented \"{ }\" block.\n */\n\n\nfunction block(array) {\n  return array && array.length !== 0 ? '{\\n' + indent(join(array, '\\n')) + '\\n}' : '';\n}\n/**\n * If maybeString is not null or empty, then wrap with start and end, otherwise\n * print an empty string.\n */\n\n\nfunction wrap(start, maybeString, end) {\n  return maybeString ? start + maybeString + (end || '') : '';\n}\n\nfunction indent(maybeString) {\n  return maybeString && '  ' + maybeString.replace(/\\n/g, '\\n  ');\n}\n/**\n * Print a block string in the indented block form by adding a leading and\n * trailing blank line. However, if a block string starts with whitespace and is\n * a single-line, adding a leading blank line would strip that whitespace.\n */\n\n\nfunction printBlockString(value, isDescription) {\n  var escaped = value.replace(/\"\"\"/g, '\\\\\"\"\"');\n  return (value[0] === ' ' || value[0] === '\\t') && value.indexOf('\\n') === -1 ? \"\\\"\\\"\\\"\".concat(escaped.replace(/\"$/, '\"\\n'), \"\\\"\\\"\\\"\") : \"\\\"\\\"\\\"\\n\".concat(isDescription ? escaped : indent(escaped), \"\\n\\\"\\\"\\\"\");\n}","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\n/**\n * Used to print values in error messages.\n */\n\n\nexport default function inspect(value) {\n  return value && _typeof(value) === 'object' ? typeof value.inspect === 'function' ? value.inspect() : Array.isArray(value) ? '[' + value.map(inspect).join(', ') + ']' : '{' + Object.keys(value).map(function (k) {\n    return \"\".concat(k, \": \").concat(inspect(value[k]));\n  }).join(', ') + '}' : typeof value === 'string' ? '\"' + value + '\"' : typeof value === 'function' ? \"[function \".concat(value.name, \"]\") : String(value);\n}","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\nexport default function invariant(condition, message) {\n  /* istanbul ignore else */\n  if (!condition) {\n    throw new Error(message);\n  }\n}","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\n\nimport invariant from '../jsutils/invariant';\nimport defineToStringTag from '../jsutils/defineToStringTag';\n/**\n * A representation of source input to GraphQL.\n * `name` and `locationOffset` are optional. They are useful for clients who\n * store GraphQL documents in source files; for example, if the GraphQL input\n * starts at line 40 in a file named Foo.graphql, it might be useful for name to\n * be \"Foo.graphql\" and location to be `{ line: 40, column: 0 }`.\n * line and column in locationOffset are 1-indexed\n */\n\nexport var Source = function Source(body, name, locationOffset) {\n  _defineProperty(this, \"body\", void 0);\n\n  _defineProperty(this, \"name\", void 0);\n\n  _defineProperty(this, \"locationOffset\", void 0);\n\n  this.body = body;\n  this.name = name || 'GraphQL request';\n  this.locationOffset = locationOffset || {\n    line: 1,\n    column: 1\n  };\n  !(this.locationOffset.line > 0) ? invariant(0, 'line in locationOffset is 1-indexed and must be positive') : void 0;\n  !(this.locationOffset.column > 0) ? invariant(0, 'column in locationOffset is 1-indexed and must be positive') : void 0;\n}; // Conditionally apply `[Symbol.toStringTag]` if `Symbol`s are supported\n\ndefineToStringTag(Source);","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\n/**\n * The `applyToStringTag()` function checks first to see if the runtime\n * supports the `Symbol` class and then if the `Symbol.toStringTag` constant\n * is defined as a `Symbol` instance. If both conditions are met, the\n * Symbol.toStringTag property is defined as a getter that returns the\n * supplied class constructor's name.\n *\n * @method applyToStringTag\n *\n * @param {Class<any>} classObject a class such as Object, String, Number but\n * typically one of your own creation through the class keyword; `class A {}`,\n * for example.\n */\nexport default function applyToStringTag(classObject) {\n  if (typeof Symbol === 'function' && Symbol.toStringTag) {\n    Object.defineProperty(classObject.prototype, Symbol.toStringTag, {\n      get: function get() {\n        return this.constructor.name;\n      }\n    });\n  }\n}","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\nimport { GraphQLError } from './GraphQLError';\n/**\n * Produces a GraphQLError representing a syntax error, containing useful\n * descriptive information about the syntax error's position in the source.\n */\n\nexport function syntaxError(source, position, description) {\n  return new GraphQLError(\"Syntax Error: \".concat(description), undefined, source, [position]);\n}","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\n/**\n * Produces the value of a block string from its parsed raw value, similar to\n * Coffeescript's block string, Python's docstring trim or Ruby's strip_heredoc.\n *\n * This implements the GraphQL spec's BlockStringValue() static algorithm.\n */\nexport default function blockStringValue(rawString) {\n  // Expand a block string's raw value into independent lines.\n  var lines = rawString.split(/\\r\\n|[\\n\\r]/g); // Remove common indentation from all lines but first.\n\n  var commonIndent = null;\n\n  for (var i = 1; i < lines.length; i++) {\n    var line = lines[i];\n    var indent = leadingWhitespace(line);\n\n    if (indent < line.length && (commonIndent === null || indent < commonIndent)) {\n      commonIndent = indent;\n\n      if (commonIndent === 0) {\n        break;\n      }\n    }\n  }\n\n  if (commonIndent) {\n    for (var _i = 1; _i < lines.length; _i++) {\n      lines[_i] = lines[_i].slice(commonIndent);\n    }\n  } // Remove leading and trailing blank lines.\n\n\n  while (lines.length > 0 && isBlank(lines[0])) {\n    lines.shift();\n  }\n\n  while (lines.length > 0 && isBlank(lines[lines.length - 1])) {\n    lines.pop();\n  } // Return a string of the lines joined with U+000A.\n\n\n  return lines.join('\\n');\n}\n\nfunction leadingWhitespace(str) {\n  var i = 0;\n\n  while (i < str.length && (str[i] === ' ' || str[i] === '\\t')) {\n    i++;\n  }\n\n  return i;\n}\n\nfunction isBlank(str) {\n  return leadingWhitespace(str) === str.length;\n}","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\nimport { syntaxError } from '../error';\nimport blockStringValue from './blockStringValue';\n/**\n * Given a Source object, this returns a Lexer for that source.\n * A Lexer is a stateful stream generator in that every time\n * it is advanced, it returns the next token in the Source. Assuming the\n * source lexes, the final Token emitted by the lexer will be of kind\n * EOF, after which the lexer will repeatedly return the same EOF token\n * whenever called.\n */\n\nexport function createLexer(source, options) {\n  var startOfFileToken = new Tok(TokenKind.SOF, 0, 0, 0, 0, null);\n  var lexer = {\n    source: source,\n    options: options,\n    lastToken: startOfFileToken,\n    token: startOfFileToken,\n    line: 1,\n    lineStart: 0,\n    advance: advanceLexer,\n    lookahead: lookahead\n  };\n  return lexer;\n}\n\nfunction advanceLexer() {\n  this.lastToken = this.token;\n  var token = this.token = this.lookahead();\n  return token;\n}\n\nfunction lookahead() {\n  var token = this.token;\n\n  if (token.kind !== TokenKind.EOF) {\n    do {\n      // Note: next is only mutable during parsing, so we cast to allow this.\n      token = token.next || (token.next = readToken(this, token));\n    } while (token.kind === TokenKind.COMMENT);\n  }\n\n  return token;\n}\n/**\n * The return type of createLexer.\n */\n\n/**\n * An exported enum describing the different kinds of tokens that the\n * lexer emits.\n */\n\n\nexport var TokenKind = Object.freeze({\n  SOF: '<SOF>',\n  EOF: '<EOF>',\n  BANG: '!',\n  DOLLAR: '$',\n  AMP: '&',\n  PAREN_L: '(',\n  PAREN_R: ')',\n  SPREAD: '...',\n  COLON: ':',\n  EQUALS: '=',\n  AT: '@',\n  BRACKET_L: '[',\n  BRACKET_R: ']',\n  BRACE_L: '{',\n  PIPE: '|',\n  BRACE_R: '}',\n  NAME: 'Name',\n  INT: 'Int',\n  FLOAT: 'Float',\n  STRING: 'String',\n  BLOCK_STRING: 'BlockString',\n  COMMENT: 'Comment'\n});\n/**\n * The enum type representing the token kinds values.\n */\n\n/**\n * A helper function to describe a token as a string for debugging\n */\n\nexport function getTokenDesc(token) {\n  var value = token.value;\n  return value ? \"\".concat(token.kind, \" \\\"\").concat(value, \"\\\"\") : token.kind;\n}\nvar charCodeAt = String.prototype.charCodeAt;\nvar slice = String.prototype.slice;\n/**\n * Helper function for constructing the Token object.\n */\n\nfunction Tok(kind, start, end, line, column, prev, value) {\n  this.kind = kind;\n  this.start = start;\n  this.end = end;\n  this.line = line;\n  this.column = column;\n  this.value = value;\n  this.prev = prev;\n  this.next = null;\n} // Print a simplified form when appearing in JSON/util.inspect.\n\n\nTok.prototype.toJSON = Tok.prototype.inspect = function toJSON() {\n  return {\n    kind: this.kind,\n    value: this.value,\n    line: this.line,\n    column: this.column\n  };\n};\n\nfunction printCharCode(code) {\n  return (// NaN/undefined represents access beyond the end of the file.\n    isNaN(code) ? TokenKind.EOF : // Trust JSON for ASCII.\n    code < 0x007f ? JSON.stringify(String.fromCharCode(code)) : // Otherwise print the escaped form.\n    \"\\\"\\\\u\".concat(('00' + code.toString(16).toUpperCase()).slice(-4), \"\\\"\")\n  );\n}\n/**\n * Gets the next token from the source starting at the given position.\n *\n * This skips over whitespace and comments until it finds the next lexable\n * token, then lexes punctuators immediately or calls the appropriate helper\n * function for more complicated tokens.\n */\n\n\nfunction readToken(lexer, prev) {\n  var source = lexer.source;\n  var body = source.body;\n  var bodyLength = body.length;\n  var pos = positionAfterWhitespace(body, prev.end, lexer);\n  var line = lexer.line;\n  var col = 1 + pos - lexer.lineStart;\n\n  if (pos >= bodyLength) {\n    return new Tok(TokenKind.EOF, bodyLength, bodyLength, line, col, prev);\n  }\n\n  var code = charCodeAt.call(body, pos); // SourceCharacter\n\n  switch (code) {\n    // !\n    case 33:\n      return new Tok(TokenKind.BANG, pos, pos + 1, line, col, prev);\n    // #\n\n    case 35:\n      return readComment(source, pos, line, col, prev);\n    // $\n\n    case 36:\n      return new Tok(TokenKind.DOLLAR, pos, pos + 1, line, col, prev);\n    // &\n\n    case 38:\n      return new Tok(TokenKind.AMP, pos, pos + 1, line, col, prev);\n    // (\n\n    case 40:\n      return new Tok(TokenKind.PAREN_L, pos, pos + 1, line, col, prev);\n    // )\n\n    case 41:\n      return new Tok(TokenKind.PAREN_R, pos, pos + 1, line, col, prev);\n    // .\n\n    case 46:\n      if (charCodeAt.call(body, pos + 1) === 46 && charCodeAt.call(body, pos + 2) === 46) {\n        return new Tok(TokenKind.SPREAD, pos, pos + 3, line, col, prev);\n      }\n\n      break;\n    // :\n\n    case 58:\n      return new Tok(TokenKind.COLON, pos, pos + 1, line, col, prev);\n    // =\n\n    case 61:\n      return new Tok(TokenKind.EQUALS, pos, pos + 1, line, col, prev);\n    // @\n\n    case 64:\n      return new Tok(TokenKind.AT, pos, pos + 1, line, col, prev);\n    // [\n\n    case 91:\n      return new Tok(TokenKind.BRACKET_L, pos, pos + 1, line, col, prev);\n    // ]\n\n    case 93:\n      return new Tok(TokenKind.BRACKET_R, pos, pos + 1, line, col, prev);\n    // {\n\n    case 123:\n      return new Tok(TokenKind.BRACE_L, pos, pos + 1, line, col, prev);\n    // |\n\n    case 124:\n      return new Tok(TokenKind.PIPE, pos, pos + 1, line, col, prev);\n    // }\n\n    case 125:\n      return new Tok(TokenKind.BRACE_R, pos, pos + 1, line, col, prev);\n    // A-Z _ a-z\n\n    case 65:\n    case 66:\n    case 67:\n    case 68:\n    case 69:\n    case 70:\n    case 71:\n    case 72:\n    case 73:\n    case 74:\n    case 75:\n    case 76:\n    case 77:\n    case 78:\n    case 79:\n    case 80:\n    case 81:\n    case 82:\n    case 83:\n    case 84:\n    case 85:\n    case 86:\n    case 87:\n    case 88:\n    case 89:\n    case 90:\n    case 95:\n    case 97:\n    case 98:\n    case 99:\n    case 100:\n    case 101:\n    case 102:\n    case 103:\n    case 104:\n    case 105:\n    case 106:\n    case 107:\n    case 108:\n    case 109:\n    case 110:\n    case 111:\n    case 112:\n    case 113:\n    case 114:\n    case 115:\n    case 116:\n    case 117:\n    case 118:\n    case 119:\n    case 120:\n    case 121:\n    case 122:\n      return readName(source, pos, line, col, prev);\n    // - 0-9\n\n    case 45:\n    case 48:\n    case 49:\n    case 50:\n    case 51:\n    case 52:\n    case 53:\n    case 54:\n    case 55:\n    case 56:\n    case 57:\n      return readNumber(source, pos, code, line, col, prev);\n    // \"\n\n    case 34:\n      if (charCodeAt.call(body, pos + 1) === 34 && charCodeAt.call(body, pos + 2) === 34) {\n        return readBlockString(source, pos, line, col, prev);\n      }\n\n      return readString(source, pos, line, col, prev);\n  }\n\n  throw syntaxError(source, pos, unexpectedCharacterMessage(code));\n}\n/**\n * Report a message that an unexpected character was encountered.\n */\n\n\nfunction unexpectedCharacterMessage(code) {\n  if (code < 0x0020 && code !== 0x0009 && code !== 0x000a && code !== 0x000d) {\n    return \"Cannot contain the invalid character \".concat(printCharCode(code), \".\");\n  }\n\n  if (code === 39) {\n    // '\n    return \"Unexpected single quote character ('), did you mean to use \" + 'a double quote (\")?';\n  }\n\n  return \"Cannot parse the unexpected character \".concat(printCharCode(code), \".\");\n}\n/**\n * Reads from body starting at startPosition until it finds a non-whitespace\n * or commented character, then returns the position of that character for\n * lexing.\n */\n\n\nfunction positionAfterWhitespace(body, startPosition, lexer) {\n  var bodyLength = body.length;\n  var position = startPosition;\n\n  while (position < bodyLength) {\n    var code = charCodeAt.call(body, position); // tab | space | comma | BOM\n\n    if (code === 9 || code === 32 || code === 44 || code === 0xfeff) {\n      ++position;\n    } else if (code === 10) {\n      // new line\n      ++position;\n      ++lexer.line;\n      lexer.lineStart = position;\n    } else if (code === 13) {\n      // carriage return\n      if (charCodeAt.call(body, position + 1) === 10) {\n        position += 2;\n      } else {\n        ++position;\n      }\n\n      ++lexer.line;\n      lexer.lineStart = position;\n    } else {\n      break;\n    }\n  }\n\n  return position;\n}\n/**\n * Reads a comment token from the source file.\n *\n * #[\\u0009\\u0020-\\uFFFF]*\n */\n\n\nfunction readComment(source, start, line, col, prev) {\n  var body = source.body;\n  var code;\n  var position = start;\n\n  do {\n    code = charCodeAt.call(body, ++position);\n  } while (code !== null && ( // SourceCharacter but not LineTerminator\n  code > 0x001f || code === 0x0009));\n\n  return new Tok(TokenKind.COMMENT, start, position, line, col, prev, slice.call(body, start + 1, position));\n}\n/**\n * Reads a number token from the source file, either a float\n * or an int depending on whether a decimal point appears.\n *\n * Int:   -?(0|[1-9][0-9]*)\n * Float: -?(0|[1-9][0-9]*)(\\.[0-9]+)?((E|e)(+|-)?[0-9]+)?\n */\n\n\nfunction readNumber(source, start, firstCode, line, col, prev) {\n  var body = source.body;\n  var code = firstCode;\n  var position = start;\n  var isFloat = false;\n\n  if (code === 45) {\n    // -\n    code = charCodeAt.call(body, ++position);\n  }\n\n  if (code === 48) {\n    // 0\n    code = charCodeAt.call(body, ++position);\n\n    if (code >= 48 && code <= 57) {\n      throw syntaxError(source, position, \"Invalid number, unexpected digit after 0: \".concat(printCharCode(code), \".\"));\n    }\n  } else {\n    position = readDigits(source, position, code);\n    code = charCodeAt.call(body, position);\n  }\n\n  if (code === 46) {\n    // .\n    isFloat = true;\n    code = charCodeAt.call(body, ++position);\n    position = readDigits(source, position, code);\n    code = charCodeAt.call(body, position);\n  }\n\n  if (code === 69 || code === 101) {\n    // E e\n    isFloat = true;\n    code = charCodeAt.call(body, ++position);\n\n    if (code === 43 || code === 45) {\n      // + -\n      code = charCodeAt.call(body, ++position);\n    }\n\n    position = readDigits(source, position, code);\n  }\n\n  return new Tok(isFloat ? TokenKind.FLOAT : TokenKind.INT, start, position, line, col, prev, slice.call(body, start, position));\n}\n/**\n * Returns the new position in the source after reading digits.\n */\n\n\nfunction readDigits(source, start, firstCode) {\n  var body = source.body;\n  var position = start;\n  var code = firstCode;\n\n  if (code >= 48 && code <= 57) {\n    // 0 - 9\n    do {\n      code = charCodeAt.call(body, ++position);\n    } while (code >= 48 && code <= 57); // 0 - 9\n\n\n    return position;\n  }\n\n  throw syntaxError(source, position, \"Invalid number, expected digit but got: \".concat(printCharCode(code), \".\"));\n}\n/**\n * Reads a string token from the source file.\n *\n * \"([^\"\\\\\\u000A\\u000D]|(\\\\(u[0-9a-fA-F]{4}|[\"\\\\/bfnrt])))*\"\n */\n\n\nfunction readString(source, start, line, col, prev) {\n  var body = source.body;\n  var position = start + 1;\n  var chunkStart = position;\n  var code = 0;\n  var value = '';\n\n  while (position < body.length && (code = charCodeAt.call(body, position)) !== null && // not LineTerminator\n  code !== 0x000a && code !== 0x000d) {\n    // Closing Quote (\")\n    if (code === 34) {\n      value += slice.call(body, chunkStart, position);\n      return new Tok(TokenKind.STRING, start, position + 1, line, col, prev, value);\n    } // SourceCharacter\n\n\n    if (code < 0x0020 && code !== 0x0009) {\n      throw syntaxError(source, position, \"Invalid character within String: \".concat(printCharCode(code), \".\"));\n    }\n\n    ++position;\n\n    if (code === 92) {\n      // \\\n      value += slice.call(body, chunkStart, position - 1);\n      code = charCodeAt.call(body, position);\n\n      switch (code) {\n        case 34:\n          value += '\"';\n          break;\n\n        case 47:\n          value += '/';\n          break;\n\n        case 92:\n          value += '\\\\';\n          break;\n\n        case 98:\n          value += '\\b';\n          break;\n\n        case 102:\n          value += '\\f';\n          break;\n\n        case 110:\n          value += '\\n';\n          break;\n\n        case 114:\n          value += '\\r';\n          break;\n\n        case 116:\n          value += '\\t';\n          break;\n\n        case 117:\n          // u\n          var charCode = uniCharCode(charCodeAt.call(body, position + 1), charCodeAt.call(body, position + 2), charCodeAt.call(body, position + 3), charCodeAt.call(body, position + 4));\n\n          if (charCode < 0) {\n            throw syntaxError(source, position, 'Invalid character escape sequence: ' + \"\\\\u\".concat(body.slice(position + 1, position + 5), \".\"));\n          }\n\n          value += String.fromCharCode(charCode);\n          position += 4;\n          break;\n\n        default:\n          throw syntaxError(source, position, \"Invalid character escape sequence: \\\\\".concat(String.fromCharCode(code), \".\"));\n      }\n\n      ++position;\n      chunkStart = position;\n    }\n  }\n\n  throw syntaxError(source, position, 'Unterminated string.');\n}\n/**\n * Reads a block string token from the source file.\n *\n * \"\"\"(\"?\"?(\\\\\"\"\"|\\\\(?!=\"\"\")|[^\"\\\\]))*\"\"\"\n */\n\n\nfunction readBlockString(source, start, line, col, prev) {\n  var body = source.body;\n  var position = start + 3;\n  var chunkStart = position;\n  var code = 0;\n  var rawValue = '';\n\n  while (position < body.length && (code = charCodeAt.call(body, position)) !== null) {\n    // Closing Triple-Quote (\"\"\")\n    if (code === 34 && charCodeAt.call(body, position + 1) === 34 && charCodeAt.call(body, position + 2) === 34) {\n      rawValue += slice.call(body, chunkStart, position);\n      return new Tok(TokenKind.BLOCK_STRING, start, position + 3, line, col, prev, blockStringValue(rawValue));\n    } // SourceCharacter\n\n\n    if (code < 0x0020 && code !== 0x0009 && code !== 0x000a && code !== 0x000d) {\n      throw syntaxError(source, position, \"Invalid character within String: \".concat(printCharCode(code), \".\"));\n    } // Escape Triple-Quote (\\\"\"\")\n\n\n    if (code === 92 && charCodeAt.call(body, position + 1) === 34 && charCodeAt.call(body, position + 2) === 34 && charCodeAt.call(body, position + 3) === 34) {\n      rawValue += slice.call(body, chunkStart, position) + '\"\"\"';\n      position += 4;\n      chunkStart = position;\n    } else {\n      ++position;\n    }\n  }\n\n  throw syntaxError(source, position, 'Unterminated string.');\n}\n/**\n * Converts four hexidecimal chars to the integer that the\n * string represents. For example, uniCharCode('0','0','0','f')\n * will return 15, and uniCharCode('0','0','f','f') returns 255.\n *\n * Returns a negative number on error, if a char was invalid.\n *\n * This is implemented by noting that char2hex() returns -1 on error,\n * which means the result of ORing the char2hex() will also be negative.\n */\n\n\nfunction uniCharCode(a, b, c, d) {\n  return char2hex(a) << 12 | char2hex(b) << 8 | char2hex(c) << 4 | char2hex(d);\n}\n/**\n * Converts a hex character to its integer value.\n * '0' becomes 0, '9' becomes 9\n * 'A' becomes 10, 'F' becomes 15\n * 'a' becomes 10, 'f' becomes 15\n *\n * Returns -1 on error.\n */\n\n\nfunction char2hex(a) {\n  return a >= 48 && a <= 57 ? a - 48 // 0-9\n  : a >= 65 && a <= 70 ? a - 55 // A-F\n  : a >= 97 && a <= 102 ? a - 87 // a-f\n  : -1;\n}\n/**\n * Reads an alphanumeric + underscore name from the source.\n *\n * [_A-Za-z][_0-9A-Za-z]*\n */\n\n\nfunction readName(source, start, line, col, prev) {\n  var body = source.body;\n  var bodyLength = body.length;\n  var position = start + 1;\n  var code = 0;\n\n  while (position !== bodyLength && (code = charCodeAt.call(body, position)) !== null && (code === 95 || // _\n  code >= 48 && code <= 57 || // 0-9\n  code >= 65 && code <= 90 || // A-Z\n  code >= 97 && code <= 122) // a-z\n  ) {\n    ++position;\n  }\n\n  return new Tok(TokenKind.NAME, start, position, line, col, prev, slice.call(body, start, position));\n}","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\n/**\n * The set of allowed kind values for AST nodes.\n */\nexport var Kind = Object.freeze({\n  // Name\n  NAME: 'Name',\n  // Document\n  DOCUMENT: 'Document',\n  OPERATION_DEFINITION: 'OperationDefinition',\n  VARIABLE_DEFINITION: 'VariableDefinition',\n  SELECTION_SET: 'SelectionSet',\n  FIELD: 'Field',\n  ARGUMENT: 'Argument',\n  // Fragments\n  FRAGMENT_SPREAD: 'FragmentSpread',\n  INLINE_FRAGMENT: 'InlineFragment',\n  FRAGMENT_DEFINITION: 'FragmentDefinition',\n  // Values\n  VARIABLE: 'Variable',\n  INT: 'IntValue',\n  FLOAT: 'FloatValue',\n  STRING: 'StringValue',\n  BOOLEAN: 'BooleanValue',\n  NULL: 'NullValue',\n  ENUM: 'EnumValue',\n  LIST: 'ListValue',\n  OBJECT: 'ObjectValue',\n  OBJECT_FIELD: 'ObjectField',\n  // Directives\n  DIRECTIVE: 'Directive',\n  // Types\n  NAMED_TYPE: 'NamedType',\n  LIST_TYPE: 'ListType',\n  NON_NULL_TYPE: 'NonNullType',\n  // Type System Definitions\n  SCHEMA_DEFINITION: 'SchemaDefinition',\n  OPERATION_TYPE_DEFINITION: 'OperationTypeDefinition',\n  // Type Definitions\n  SCALAR_TYPE_DEFINITION: 'ScalarTypeDefinition',\n  OBJECT_TYPE_DEFINITION: 'ObjectTypeDefinition',\n  FIELD_DEFINITION: 'FieldDefinition',\n  INPUT_VALUE_DEFINITION: 'InputValueDefinition',\n  INTERFACE_TYPE_DEFINITION: 'InterfaceTypeDefinition',\n  UNION_TYPE_DEFINITION: 'UnionTypeDefinition',\n  ENUM_TYPE_DEFINITION: 'EnumTypeDefinition',\n  ENUM_VALUE_DEFINITION: 'EnumValueDefinition',\n  INPUT_OBJECT_TYPE_DEFINITION: 'InputObjectTypeDefinition',\n  // Directive Definitions\n  DIRECTIVE_DEFINITION: 'DirectiveDefinition',\n  // Type System Extensions\n  SCHEMA_EXTENSION: 'SchemaExtension',\n  // Type Extensions\n  SCALAR_TYPE_EXTENSION: 'ScalarTypeExtension',\n  OBJECT_TYPE_EXTENSION: 'ObjectTypeExtension',\n  INTERFACE_TYPE_EXTENSION: 'InterfaceTypeExtension',\n  UNION_TYPE_EXTENSION: 'UnionTypeExtension',\n  ENUM_TYPE_EXTENSION: 'EnumTypeExtension',\n  INPUT_OBJECT_TYPE_EXTENSION: 'InputObjectTypeExtension'\n});\n/**\n * The enum type representing the possible kind values of AST nodes.\n */","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\n/**\n * The set of allowed directive location values.\n */\nexport var DirectiveLocation = Object.freeze({\n  // Request Definitions\n  QUERY: 'QUERY',\n  MUTATION: 'MUTATION',\n  SUBSCRIPTION: 'SUBSCRIPTION',\n  FIELD: 'FIELD',\n  FRAGMENT_DEFINITION: 'FRAGMENT_DEFINITION',\n  FRAGMENT_SPREAD: 'FRAGMENT_SPREAD',\n  INLINE_FRAGMENT: 'INLINE_FRAGMENT',\n  VARIABLE_DEFINITION: 'VARIABLE_DEFINITION',\n  // Type System Definitions\n  SCHEMA: 'SCHEMA',\n  SCALAR: 'SCALAR',\n  OBJECT: 'OBJECT',\n  FIELD_DEFINITION: 'FIELD_DEFINITION',\n  ARGUMENT_DEFINITION: 'ARGUMENT_DEFINITION',\n  INTERFACE: 'INTERFACE',\n  UNION: 'UNION',\n  ENUM: 'ENUM',\n  ENUM_VALUE: 'ENUM_VALUE',\n  INPUT_OBJECT: 'INPUT_OBJECT',\n  INPUT_FIELD_DEFINITION: 'INPUT_FIELD_DEFINITION'\n});\n/**\n * The enum type representing the directive location values.\n */","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\nimport inspect from '../jsutils/inspect';\nimport { Source } from './source';\nimport { syntaxError } from '../error';\nimport { createLexer, TokenKind, getTokenDesc } from './lexer';\nimport { Kind } from './kinds';\nimport { DirectiveLocation } from './directiveLocation';\n/**\n * Configuration options to control parser behavior\n */\n\n/**\n * Given a GraphQL source, parses it into a Document.\n * Throws GraphQLError if a syntax error is encountered.\n */\n\nexport function parse(source, options) {\n  var sourceObj = typeof source === 'string' ? new Source(source) : source;\n\n  if (!(sourceObj instanceof Source)) {\n    throw new TypeError(\"Must provide Source. Received: \".concat(inspect(sourceObj)));\n  }\n\n  var lexer = createLexer(sourceObj, options || {});\n  return parseDocument(lexer);\n}\n/**\n * Given a string containing a GraphQL value (ex. `[42]`), parse the AST for\n * that value.\n * Throws GraphQLError if a syntax error is encountered.\n *\n * This is useful within tools that operate upon GraphQL Values directly and\n * in isolation of complete GraphQL documents.\n *\n * Consider providing the results to the utility function: valueFromAST().\n */\n\nexport function parseValue(source, options) {\n  var sourceObj = typeof source === 'string' ? new Source(source) : source;\n  var lexer = createLexer(sourceObj, options || {});\n  expect(lexer, TokenKind.SOF);\n  var value = parseValueLiteral(lexer, false);\n  expect(lexer, TokenKind.EOF);\n  return value;\n}\n/**\n * Given a string containing a GraphQL Type (ex. `[Int!]`), parse the AST for\n * that type.\n * Throws GraphQLError if a syntax error is encountered.\n *\n * This is useful within tools that operate upon GraphQL Types directly and\n * in isolation of complete GraphQL documents.\n *\n * Consider providing the results to the utility function: typeFromAST().\n */\n\nexport function parseType(source, options) {\n  var sourceObj = typeof source === 'string' ? new Source(source) : source;\n  var lexer = createLexer(sourceObj, options || {});\n  expect(lexer, TokenKind.SOF);\n  var type = parseTypeReference(lexer);\n  expect(lexer, TokenKind.EOF);\n  return type;\n}\n/**\n * Converts a name lex token into a name parse node.\n */\n\nfunction parseName(lexer) {\n  var token = expect(lexer, TokenKind.NAME);\n  return {\n    kind: Kind.NAME,\n    value: token.value,\n    loc: loc(lexer, token)\n  };\n} // Implements the parsing rules in the Document section.\n\n/**\n * Document : Definition+\n */\n\n\nfunction parseDocument(lexer) {\n  var start = lexer.token;\n  return {\n    kind: Kind.DOCUMENT,\n    definitions: many(lexer, TokenKind.SOF, parseDefinition, TokenKind.EOF),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * Definition :\n *   - ExecutableDefinition\n *   - TypeSystemDefinition\n *   - TypeSystemExtension\n */\n\n\nfunction parseDefinition(lexer) {\n  if (peek(lexer, TokenKind.NAME)) {\n    switch (lexer.token.value) {\n      case 'query':\n      case 'mutation':\n      case 'subscription':\n      case 'fragment':\n        return parseExecutableDefinition(lexer);\n\n      case 'schema':\n      case 'scalar':\n      case 'type':\n      case 'interface':\n      case 'union':\n      case 'enum':\n      case 'input':\n      case 'directive':\n        return parseTypeSystemDefinition(lexer);\n\n      case 'extend':\n        return parseTypeSystemExtension(lexer);\n    }\n  } else if (peek(lexer, TokenKind.BRACE_L)) {\n    return parseExecutableDefinition(lexer);\n  } else if (peekDescription(lexer)) {\n    return parseTypeSystemDefinition(lexer);\n  }\n\n  throw unexpected(lexer);\n}\n/**\n * ExecutableDefinition :\n *   - OperationDefinition\n *   - FragmentDefinition\n */\n\n\nfunction parseExecutableDefinition(lexer) {\n  if (peek(lexer, TokenKind.NAME)) {\n    switch (lexer.token.value) {\n      case 'query':\n      case 'mutation':\n      case 'subscription':\n        return parseOperationDefinition(lexer);\n\n      case 'fragment':\n        return parseFragmentDefinition(lexer);\n    }\n  } else if (peek(lexer, TokenKind.BRACE_L)) {\n    return parseOperationDefinition(lexer);\n  }\n\n  throw unexpected(lexer);\n} // Implements the parsing rules in the Operations section.\n\n/**\n * OperationDefinition :\n *  - SelectionSet\n *  - OperationType Name? VariableDefinitions? Directives? SelectionSet\n */\n\n\nfunction parseOperationDefinition(lexer) {\n  var start = lexer.token;\n\n  if (peek(lexer, TokenKind.BRACE_L)) {\n    return {\n      kind: Kind.OPERATION_DEFINITION,\n      operation: 'query',\n      name: undefined,\n      variableDefinitions: [],\n      directives: [],\n      selectionSet: parseSelectionSet(lexer),\n      loc: loc(lexer, start)\n    };\n  }\n\n  var operation = parseOperationType(lexer);\n  var name;\n\n  if (peek(lexer, TokenKind.NAME)) {\n    name = parseName(lexer);\n  }\n\n  return {\n    kind: Kind.OPERATION_DEFINITION,\n    operation: operation,\n    name: name,\n    variableDefinitions: parseVariableDefinitions(lexer),\n    directives: parseDirectives(lexer, false),\n    selectionSet: parseSelectionSet(lexer),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * OperationType : one of query mutation subscription\n */\n\n\nfunction parseOperationType(lexer) {\n  var operationToken = expect(lexer, TokenKind.NAME);\n\n  switch (operationToken.value) {\n    case 'query':\n      return 'query';\n\n    case 'mutation':\n      return 'mutation';\n\n    case 'subscription':\n      return 'subscription';\n  }\n\n  throw unexpected(lexer, operationToken);\n}\n/**\n * VariableDefinitions : ( VariableDefinition+ )\n */\n\n\nfunction parseVariableDefinitions(lexer) {\n  return peek(lexer, TokenKind.PAREN_L) ? many(lexer, TokenKind.PAREN_L, parseVariableDefinition, TokenKind.PAREN_R) : [];\n}\n/**\n * VariableDefinition : Variable : Type DefaultValue? Directives[Const]?\n */\n\n\nfunction parseVariableDefinition(lexer) {\n  var start = lexer.token;\n\n  if (lexer.options.experimentalVariableDefinitionDirectives) {\n    return {\n      kind: Kind.VARIABLE_DEFINITION,\n      variable: parseVariable(lexer),\n      type: (expect(lexer, TokenKind.COLON), parseTypeReference(lexer)),\n      defaultValue: skip(lexer, TokenKind.EQUALS) ? parseValueLiteral(lexer, true) : undefined,\n      directives: parseDirectives(lexer, true),\n      loc: loc(lexer, start)\n    };\n  }\n\n  return {\n    kind: Kind.VARIABLE_DEFINITION,\n    variable: parseVariable(lexer),\n    type: (expect(lexer, TokenKind.COLON), parseTypeReference(lexer)),\n    defaultValue: skip(lexer, TokenKind.EQUALS) ? parseValueLiteral(lexer, true) : undefined,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * Variable : $ Name\n */\n\n\nfunction parseVariable(lexer) {\n  var start = lexer.token;\n  expect(lexer, TokenKind.DOLLAR);\n  return {\n    kind: Kind.VARIABLE,\n    name: parseName(lexer),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * SelectionSet : { Selection+ }\n */\n\n\nfunction parseSelectionSet(lexer) {\n  var start = lexer.token;\n  return {\n    kind: Kind.SELECTION_SET,\n    selections: many(lexer, TokenKind.BRACE_L, parseSelection, TokenKind.BRACE_R),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * Selection :\n *   - Field\n *   - FragmentSpread\n *   - InlineFragment\n */\n\n\nfunction parseSelection(lexer) {\n  return peek(lexer, TokenKind.SPREAD) ? parseFragment(lexer) : parseField(lexer);\n}\n/**\n * Field : Alias? Name Arguments? Directives? SelectionSet?\n *\n * Alias : Name :\n */\n\n\nfunction parseField(lexer) {\n  var start = lexer.token;\n  var nameOrAlias = parseName(lexer);\n  var alias;\n  var name;\n\n  if (skip(lexer, TokenKind.COLON)) {\n    alias = nameOrAlias;\n    name = parseName(lexer);\n  } else {\n    name = nameOrAlias;\n  }\n\n  return {\n    kind: Kind.FIELD,\n    alias: alias,\n    name: name,\n    arguments: parseArguments(lexer, false),\n    directives: parseDirectives(lexer, false),\n    selectionSet: peek(lexer, TokenKind.BRACE_L) ? parseSelectionSet(lexer) : undefined,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * Arguments[Const] : ( Argument[?Const]+ )\n */\n\n\nfunction parseArguments(lexer, isConst) {\n  var item = isConst ? parseConstArgument : parseArgument;\n  return peek(lexer, TokenKind.PAREN_L) ? many(lexer, TokenKind.PAREN_L, item, TokenKind.PAREN_R) : [];\n}\n/**\n * Argument[Const] : Name : Value[?Const]\n */\n\n\nfunction parseArgument(lexer) {\n  var start = lexer.token;\n  return {\n    kind: Kind.ARGUMENT,\n    name: parseName(lexer),\n    value: (expect(lexer, TokenKind.COLON), parseValueLiteral(lexer, false)),\n    loc: loc(lexer, start)\n  };\n}\n\nfunction parseConstArgument(lexer) {\n  var start = lexer.token;\n  return {\n    kind: Kind.ARGUMENT,\n    name: parseName(lexer),\n    value: (expect(lexer, TokenKind.COLON), parseConstValue(lexer)),\n    loc: loc(lexer, start)\n  };\n} // Implements the parsing rules in the Fragments section.\n\n/**\n * Corresponds to both FragmentSpread and InlineFragment in the spec.\n *\n * FragmentSpread : ... FragmentName Directives?\n *\n * InlineFragment : ... TypeCondition? Directives? SelectionSet\n */\n\n\nfunction parseFragment(lexer) {\n  var start = lexer.token;\n  expect(lexer, TokenKind.SPREAD);\n\n  if (peek(lexer, TokenKind.NAME) && lexer.token.value !== 'on') {\n    return {\n      kind: Kind.FRAGMENT_SPREAD,\n      name: parseFragmentName(lexer),\n      directives: parseDirectives(lexer, false),\n      loc: loc(lexer, start)\n    };\n  }\n\n  var typeCondition;\n\n  if (lexer.token.value === 'on') {\n    lexer.advance();\n    typeCondition = parseNamedType(lexer);\n  }\n\n  return {\n    kind: Kind.INLINE_FRAGMENT,\n    typeCondition: typeCondition,\n    directives: parseDirectives(lexer, false),\n    selectionSet: parseSelectionSet(lexer),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * FragmentDefinition :\n *   - fragment FragmentName on TypeCondition Directives? SelectionSet\n *\n * TypeCondition : NamedType\n */\n\n\nfunction parseFragmentDefinition(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'fragment'); // Experimental support for defining variables within fragments changes\n  // the grammar of FragmentDefinition:\n  //   - fragment FragmentName VariableDefinitions? on TypeCondition Directives? SelectionSet\n\n  if (lexer.options.experimentalFragmentVariables) {\n    return {\n      kind: Kind.FRAGMENT_DEFINITION,\n      name: parseFragmentName(lexer),\n      variableDefinitions: parseVariableDefinitions(lexer),\n      typeCondition: (expectKeyword(lexer, 'on'), parseNamedType(lexer)),\n      directives: parseDirectives(lexer, false),\n      selectionSet: parseSelectionSet(lexer),\n      loc: loc(lexer, start)\n    };\n  }\n\n  return {\n    kind: Kind.FRAGMENT_DEFINITION,\n    name: parseFragmentName(lexer),\n    typeCondition: (expectKeyword(lexer, 'on'), parseNamedType(lexer)),\n    directives: parseDirectives(lexer, false),\n    selectionSet: parseSelectionSet(lexer),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * FragmentName : Name but not `on`\n */\n\n\nfunction parseFragmentName(lexer) {\n  if (lexer.token.value === 'on') {\n    throw unexpected(lexer);\n  }\n\n  return parseName(lexer);\n} // Implements the parsing rules in the Values section.\n\n/**\n * Value[Const] :\n *   - [~Const] Variable\n *   - IntValue\n *   - FloatValue\n *   - StringValue\n *   - BooleanValue\n *   - NullValue\n *   - EnumValue\n *   - ListValue[?Const]\n *   - ObjectValue[?Const]\n *\n * BooleanValue : one of `true` `false`\n *\n * NullValue : `null`\n *\n * EnumValue : Name but not `true`, `false` or `null`\n */\n\n\nfunction parseValueLiteral(lexer, isConst) {\n  var token = lexer.token;\n\n  switch (token.kind) {\n    case TokenKind.BRACKET_L:\n      return parseList(lexer, isConst);\n\n    case TokenKind.BRACE_L:\n      return parseObject(lexer, isConst);\n\n    case TokenKind.INT:\n      lexer.advance();\n      return {\n        kind: Kind.INT,\n        value: token.value,\n        loc: loc(lexer, token)\n      };\n\n    case TokenKind.FLOAT:\n      lexer.advance();\n      return {\n        kind: Kind.FLOAT,\n        value: token.value,\n        loc: loc(lexer, token)\n      };\n\n    case TokenKind.STRING:\n    case TokenKind.BLOCK_STRING:\n      return parseStringLiteral(lexer);\n\n    case TokenKind.NAME:\n      if (token.value === 'true' || token.value === 'false') {\n        lexer.advance();\n        return {\n          kind: Kind.BOOLEAN,\n          value: token.value === 'true',\n          loc: loc(lexer, token)\n        };\n      } else if (token.value === 'null') {\n        lexer.advance();\n        return {\n          kind: Kind.NULL,\n          loc: loc(lexer, token)\n        };\n      }\n\n      lexer.advance();\n      return {\n        kind: Kind.ENUM,\n        value: token.value,\n        loc: loc(lexer, token)\n      };\n\n    case TokenKind.DOLLAR:\n      if (!isConst) {\n        return parseVariable(lexer);\n      }\n\n      break;\n  }\n\n  throw unexpected(lexer);\n}\n\nfunction parseStringLiteral(lexer) {\n  var token = lexer.token;\n  lexer.advance();\n  return {\n    kind: Kind.STRING,\n    value: token.value,\n    block: token.kind === TokenKind.BLOCK_STRING,\n    loc: loc(lexer, token)\n  };\n}\n\nexport function parseConstValue(lexer) {\n  return parseValueLiteral(lexer, true);\n}\n\nfunction parseValueValue(lexer) {\n  return parseValueLiteral(lexer, false);\n}\n/**\n * ListValue[Const] :\n *   - [ ]\n *   - [ Value[?Const]+ ]\n */\n\n\nfunction parseList(lexer, isConst) {\n  var start = lexer.token;\n  var item = isConst ? parseConstValue : parseValueValue;\n  return {\n    kind: Kind.LIST,\n    values: any(lexer, TokenKind.BRACKET_L, item, TokenKind.BRACKET_R),\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ObjectValue[Const] :\n *   - { }\n *   - { ObjectField[?Const]+ }\n */\n\n\nfunction parseObject(lexer, isConst) {\n  var start = lexer.token;\n  expect(lexer, TokenKind.BRACE_L);\n  var fields = [];\n\n  while (!skip(lexer, TokenKind.BRACE_R)) {\n    fields.push(parseObjectField(lexer, isConst));\n  }\n\n  return {\n    kind: Kind.OBJECT,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ObjectField[Const] : Name : Value[?Const]\n */\n\n\nfunction parseObjectField(lexer, isConst) {\n  var start = lexer.token;\n  return {\n    kind: Kind.OBJECT_FIELD,\n    name: parseName(lexer),\n    value: (expect(lexer, TokenKind.COLON), parseValueLiteral(lexer, isConst)),\n    loc: loc(lexer, start)\n  };\n} // Implements the parsing rules in the Directives section.\n\n/**\n * Directives[Const] : Directive[?Const]+\n */\n\n\nfunction parseDirectives(lexer, isConst) {\n  var directives = [];\n\n  while (peek(lexer, TokenKind.AT)) {\n    directives.push(parseDirective(lexer, isConst));\n  }\n\n  return directives;\n}\n/**\n * Directive[Const] : @ Name Arguments[?Const]?\n */\n\n\nfunction parseDirective(lexer, isConst) {\n  var start = lexer.token;\n  expect(lexer, TokenKind.AT);\n  return {\n    kind: Kind.DIRECTIVE,\n    name: parseName(lexer),\n    arguments: parseArguments(lexer, isConst),\n    loc: loc(lexer, start)\n  };\n} // Implements the parsing rules in the Types section.\n\n/**\n * Type :\n *   - NamedType\n *   - ListType\n *   - NonNullType\n */\n\n\nexport function parseTypeReference(lexer) {\n  var start = lexer.token;\n  var type;\n\n  if (skip(lexer, TokenKind.BRACKET_L)) {\n    type = parseTypeReference(lexer);\n    expect(lexer, TokenKind.BRACKET_R);\n    type = {\n      kind: Kind.LIST_TYPE,\n      type: type,\n      loc: loc(lexer, start)\n    };\n  } else {\n    type = parseNamedType(lexer);\n  }\n\n  if (skip(lexer, TokenKind.BANG)) {\n    return {\n      kind: Kind.NON_NULL_TYPE,\n      type: type,\n      loc: loc(lexer, start)\n    };\n  }\n\n  return type;\n}\n/**\n * NamedType : Name\n */\n\nexport function parseNamedType(lexer) {\n  var start = lexer.token;\n  return {\n    kind: Kind.NAMED_TYPE,\n    name: parseName(lexer),\n    loc: loc(lexer, start)\n  };\n} // Implements the parsing rules in the Type Definition section.\n\n/**\n * TypeSystemDefinition :\n *   - SchemaDefinition\n *   - TypeDefinition\n *   - DirectiveDefinition\n *\n * TypeDefinition :\n *   - ScalarTypeDefinition\n *   - ObjectTypeDefinition\n *   - InterfaceTypeDefinition\n *   - UnionTypeDefinition\n *   - EnumTypeDefinition\n *   - InputObjectTypeDefinition\n */\n\nfunction parseTypeSystemDefinition(lexer) {\n  // Many definitions begin with a description and require a lookahead.\n  var keywordToken = peekDescription(lexer) ? lexer.lookahead() : lexer.token;\n\n  if (keywordToken.kind === TokenKind.NAME) {\n    switch (keywordToken.value) {\n      case 'schema':\n        return parseSchemaDefinition(lexer);\n\n      case 'scalar':\n        return parseScalarTypeDefinition(lexer);\n\n      case 'type':\n        return parseObjectTypeDefinition(lexer);\n\n      case 'interface':\n        return parseInterfaceTypeDefinition(lexer);\n\n      case 'union':\n        return parseUnionTypeDefinition(lexer);\n\n      case 'enum':\n        return parseEnumTypeDefinition(lexer);\n\n      case 'input':\n        return parseInputObjectTypeDefinition(lexer);\n\n      case 'directive':\n        return parseDirectiveDefinition(lexer);\n    }\n  }\n\n  throw unexpected(lexer, keywordToken);\n}\n\nfunction peekDescription(lexer) {\n  return peek(lexer, TokenKind.STRING) || peek(lexer, TokenKind.BLOCK_STRING);\n}\n/**\n * Description : StringValue\n */\n\n\nfunction parseDescription(lexer) {\n  if (peekDescription(lexer)) {\n    return parseStringLiteral(lexer);\n  }\n}\n/**\n * SchemaDefinition : schema Directives[Const]? { OperationTypeDefinition+ }\n */\n\n\nfunction parseSchemaDefinition(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'schema');\n  var directives = parseDirectives(lexer, true);\n  var operationTypes = many(lexer, TokenKind.BRACE_L, parseOperationTypeDefinition, TokenKind.BRACE_R);\n  return {\n    kind: Kind.SCHEMA_DEFINITION,\n    directives: directives,\n    operationTypes: operationTypes,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * OperationTypeDefinition : OperationType : NamedType\n */\n\n\nfunction parseOperationTypeDefinition(lexer) {\n  var start = lexer.token;\n  var operation = parseOperationType(lexer);\n  expect(lexer, TokenKind.COLON);\n  var type = parseNamedType(lexer);\n  return {\n    kind: Kind.OPERATION_TYPE_DEFINITION,\n    operation: operation,\n    type: type,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ScalarTypeDefinition : Description? scalar Name Directives[Const]?\n */\n\n\nfunction parseScalarTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'scalar');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  return {\n    kind: Kind.SCALAR_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ObjectTypeDefinition :\n *   Description?\n *   type Name ImplementsInterfaces? Directives[Const]? FieldsDefinition?\n */\n\n\nfunction parseObjectTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'type');\n  var name = parseName(lexer);\n  var interfaces = parseImplementsInterfaces(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseFieldsDefinition(lexer);\n  return {\n    kind: Kind.OBJECT_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    interfaces: interfaces,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ImplementsInterfaces :\n *   - implements `&`? NamedType\n *   - ImplementsInterfaces & NamedType\n */\n\n\nfunction parseImplementsInterfaces(lexer) {\n  var types = [];\n\n  if (lexer.token.value === 'implements') {\n    lexer.advance(); // Optional leading ampersand\n\n    skip(lexer, TokenKind.AMP);\n\n    do {\n      types.push(parseNamedType(lexer));\n    } while (skip(lexer, TokenKind.AMP) || // Legacy support for the SDL?\n    lexer.options.allowLegacySDLImplementsInterfaces && peek(lexer, TokenKind.NAME));\n  }\n\n  return types;\n}\n/**\n * FieldsDefinition : { FieldDefinition+ }\n */\n\n\nfunction parseFieldsDefinition(lexer) {\n  // Legacy support for the SDL?\n  if (lexer.options.allowLegacySDLEmptyFields && peek(lexer, TokenKind.BRACE_L) && lexer.lookahead().kind === TokenKind.BRACE_R) {\n    lexer.advance();\n    lexer.advance();\n    return [];\n  }\n\n  return peek(lexer, TokenKind.BRACE_L) ? many(lexer, TokenKind.BRACE_L, parseFieldDefinition, TokenKind.BRACE_R) : [];\n}\n/**\n * FieldDefinition :\n *   - Description? Name ArgumentsDefinition? : Type Directives[Const]?\n */\n\n\nfunction parseFieldDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  var name = parseName(lexer);\n  var args = parseArgumentDefs(lexer);\n  expect(lexer, TokenKind.COLON);\n  var type = parseTypeReference(lexer);\n  var directives = parseDirectives(lexer, true);\n  return {\n    kind: Kind.FIELD_DEFINITION,\n    description: description,\n    name: name,\n    arguments: args,\n    type: type,\n    directives: directives,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ArgumentsDefinition : ( InputValueDefinition+ )\n */\n\n\nfunction parseArgumentDefs(lexer) {\n  if (!peek(lexer, TokenKind.PAREN_L)) {\n    return [];\n  }\n\n  return many(lexer, TokenKind.PAREN_L, parseInputValueDef, TokenKind.PAREN_R);\n}\n/**\n * InputValueDefinition :\n *   - Description? Name : Type DefaultValue? Directives[Const]?\n */\n\n\nfunction parseInputValueDef(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  var name = parseName(lexer);\n  expect(lexer, TokenKind.COLON);\n  var type = parseTypeReference(lexer);\n  var defaultValue;\n\n  if (skip(lexer, TokenKind.EQUALS)) {\n    defaultValue = parseConstValue(lexer);\n  }\n\n  var directives = parseDirectives(lexer, true);\n  return {\n    kind: Kind.INPUT_VALUE_DEFINITION,\n    description: description,\n    name: name,\n    type: type,\n    defaultValue: defaultValue,\n    directives: directives,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * InterfaceTypeDefinition :\n *   - Description? interface Name Directives[Const]? FieldsDefinition?\n */\n\n\nfunction parseInterfaceTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'interface');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseFieldsDefinition(lexer);\n  return {\n    kind: Kind.INTERFACE_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * UnionTypeDefinition :\n *   - Description? union Name Directives[Const]? UnionMemberTypes?\n */\n\n\nfunction parseUnionTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'union');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var types = parseUnionMemberTypes(lexer);\n  return {\n    kind: Kind.UNION_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    types: types,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * UnionMemberTypes :\n *   - = `|`? NamedType\n *   - UnionMemberTypes | NamedType\n */\n\n\nfunction parseUnionMemberTypes(lexer) {\n  var types = [];\n\n  if (skip(lexer, TokenKind.EQUALS)) {\n    // Optional leading pipe\n    skip(lexer, TokenKind.PIPE);\n\n    do {\n      types.push(parseNamedType(lexer));\n    } while (skip(lexer, TokenKind.PIPE));\n  }\n\n  return types;\n}\n/**\n * EnumTypeDefinition :\n *   - Description? enum Name Directives[Const]? EnumValuesDefinition?\n */\n\n\nfunction parseEnumTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'enum');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var values = parseEnumValuesDefinition(lexer);\n  return {\n    kind: Kind.ENUM_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    values: values,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * EnumValuesDefinition : { EnumValueDefinition+ }\n */\n\n\nfunction parseEnumValuesDefinition(lexer) {\n  return peek(lexer, TokenKind.BRACE_L) ? many(lexer, TokenKind.BRACE_L, parseEnumValueDefinition, TokenKind.BRACE_R) : [];\n}\n/**\n * EnumValueDefinition : Description? EnumValue Directives[Const]?\n *\n * EnumValue : Name\n */\n\n\nfunction parseEnumValueDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  return {\n    kind: Kind.ENUM_VALUE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * InputObjectTypeDefinition :\n *   - Description? input Name Directives[Const]? InputFieldsDefinition?\n */\n\n\nfunction parseInputObjectTypeDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'input');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseInputFieldsDefinition(lexer);\n  return {\n    kind: Kind.INPUT_OBJECT_TYPE_DEFINITION,\n    description: description,\n    name: name,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * InputFieldsDefinition : { InputValueDefinition+ }\n */\n\n\nfunction parseInputFieldsDefinition(lexer) {\n  return peek(lexer, TokenKind.BRACE_L) ? many(lexer, TokenKind.BRACE_L, parseInputValueDef, TokenKind.BRACE_R) : [];\n}\n/**\n * TypeSystemExtension :\n *   - SchemaExtension\n *   - TypeExtension\n *\n * TypeExtension :\n *   - ScalarTypeExtension\n *   - ObjectTypeExtension\n *   - InterfaceTypeExtension\n *   - UnionTypeExtension\n *   - EnumTypeExtension\n *   - InputObjectTypeDefinition\n */\n\n\nfunction parseTypeSystemExtension(lexer) {\n  var keywordToken = lexer.lookahead();\n\n  if (keywordToken.kind === TokenKind.NAME) {\n    switch (keywordToken.value) {\n      case 'schema':\n        return parseSchemaExtension(lexer);\n\n      case 'scalar':\n        return parseScalarTypeExtension(lexer);\n\n      case 'type':\n        return parseObjectTypeExtension(lexer);\n\n      case 'interface':\n        return parseInterfaceTypeExtension(lexer);\n\n      case 'union':\n        return parseUnionTypeExtension(lexer);\n\n      case 'enum':\n        return parseEnumTypeExtension(lexer);\n\n      case 'input':\n        return parseInputObjectTypeExtension(lexer);\n    }\n  }\n\n  throw unexpected(lexer, keywordToken);\n}\n/**\n * SchemaExtension :\n *  - extend schema Directives[Const]? { OperationTypeDefinition+ }\n *  - extend schema Directives[Const]\n */\n\n\nfunction parseSchemaExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'schema');\n  var directives = parseDirectives(lexer, true);\n  var operationTypes = peek(lexer, TokenKind.BRACE_L) ? many(lexer, TokenKind.BRACE_L, parseOperationTypeDefinition, TokenKind.BRACE_R) : [];\n\n  if (directives.length === 0 && operationTypes.length === 0) {\n    throw unexpected(lexer);\n  }\n\n  return {\n    kind: Kind.SCHEMA_EXTENSION,\n    directives: directives,\n    operationTypes: operationTypes,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ScalarTypeExtension :\n *   - extend scalar Name Directives[Const]\n */\n\n\nfunction parseScalarTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'scalar');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n\n  if (directives.length === 0) {\n    throw unexpected(lexer);\n  }\n\n  return {\n    kind: Kind.SCALAR_TYPE_EXTENSION,\n    name: name,\n    directives: directives,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * ObjectTypeExtension :\n *  - extend type Name ImplementsInterfaces? Directives[Const]? FieldsDefinition\n *  - extend type Name ImplementsInterfaces? Directives[Const]\n *  - extend type Name ImplementsInterfaces\n */\n\n\nfunction parseObjectTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'type');\n  var name = parseName(lexer);\n  var interfaces = parseImplementsInterfaces(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseFieldsDefinition(lexer);\n\n  if (interfaces.length === 0 && directives.length === 0 && fields.length === 0) {\n    throw unexpected(lexer);\n  }\n\n  return {\n    kind: Kind.OBJECT_TYPE_EXTENSION,\n    name: name,\n    interfaces: interfaces,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * InterfaceTypeExtension :\n *   - extend interface Name Directives[Const]? FieldsDefinition\n *   - extend interface Name Directives[Const]\n */\n\n\nfunction parseInterfaceTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'interface');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseFieldsDefinition(lexer);\n\n  if (directives.length === 0 && fields.length === 0) {\n    throw unexpected(lexer);\n  }\n\n  return {\n    kind: Kind.INTERFACE_TYPE_EXTENSION,\n    name: name,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * UnionTypeExtension :\n *   - extend union Name Directives[Const]? UnionMemberTypes\n *   - extend union Name Directives[Const]\n */\n\n\nfunction parseUnionTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'union');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var types = parseUnionMemberTypes(lexer);\n\n  if (directives.length === 0 && types.length === 0) {\n    throw unexpected(lexer);\n  }\n\n  return {\n    kind: Kind.UNION_TYPE_EXTENSION,\n    name: name,\n    directives: directives,\n    types: types,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * EnumTypeExtension :\n *   - extend enum Name Directives[Const]? EnumValuesDefinition\n *   - extend enum Name Directives[Const]\n */\n\n\nfunction parseEnumTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'enum');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var values = parseEnumValuesDefinition(lexer);\n\n  if (directives.length === 0 && values.length === 0) {\n    throw unexpected(lexer);\n  }\n\n  return {\n    kind: Kind.ENUM_TYPE_EXTENSION,\n    name: name,\n    directives: directives,\n    values: values,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * InputObjectTypeExtension :\n *   - extend input Name Directives[Const]? InputFieldsDefinition\n *   - extend input Name Directives[Const]\n */\n\n\nfunction parseInputObjectTypeExtension(lexer) {\n  var start = lexer.token;\n  expectKeyword(lexer, 'extend');\n  expectKeyword(lexer, 'input');\n  var name = parseName(lexer);\n  var directives = parseDirectives(lexer, true);\n  var fields = parseInputFieldsDefinition(lexer);\n\n  if (directives.length === 0 && fields.length === 0) {\n    throw unexpected(lexer);\n  }\n\n  return {\n    kind: Kind.INPUT_OBJECT_TYPE_EXTENSION,\n    name: name,\n    directives: directives,\n    fields: fields,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * DirectiveDefinition :\n *   - Description? directive @ Name ArgumentsDefinition? on DirectiveLocations\n */\n\n\nfunction parseDirectiveDefinition(lexer) {\n  var start = lexer.token;\n  var description = parseDescription(lexer);\n  expectKeyword(lexer, 'directive');\n  expect(lexer, TokenKind.AT);\n  var name = parseName(lexer);\n  var args = parseArgumentDefs(lexer);\n  expectKeyword(lexer, 'on');\n  var locations = parseDirectiveLocations(lexer);\n  return {\n    kind: Kind.DIRECTIVE_DEFINITION,\n    description: description,\n    name: name,\n    arguments: args,\n    locations: locations,\n    loc: loc(lexer, start)\n  };\n}\n/**\n * DirectiveLocations :\n *   - `|`? DirectiveLocation\n *   - DirectiveLocations | DirectiveLocation\n */\n\n\nfunction parseDirectiveLocations(lexer) {\n  // Optional leading pipe\n  skip(lexer, TokenKind.PIPE);\n  var locations = [];\n\n  do {\n    locations.push(parseDirectiveLocation(lexer));\n  } while (skip(lexer, TokenKind.PIPE));\n\n  return locations;\n}\n/*\n * DirectiveLocation :\n *   - ExecutableDirectiveLocation\n *   - TypeSystemDirectiveLocation\n *\n * ExecutableDirectiveLocation : one of\n *   `QUERY`\n *   `MUTATION`\n *   `SUBSCRIPTION`\n *   `FIELD`\n *   `FRAGMENT_DEFINITION`\n *   `FRAGMENT_SPREAD`\n *   `INLINE_FRAGMENT`\n *\n * TypeSystemDirectiveLocation : one of\n *   `SCHEMA`\n *   `SCALAR`\n *   `OBJECT`\n *   `FIELD_DEFINITION`\n *   `ARGUMENT_DEFINITION`\n *   `INTERFACE`\n *   `UNION`\n *   `ENUM`\n *   `ENUM_VALUE`\n *   `INPUT_OBJECT`\n *   `INPUT_FIELD_DEFINITION`\n */\n\n\nfunction parseDirectiveLocation(lexer) {\n  var start = lexer.token;\n  var name = parseName(lexer);\n\n  if (DirectiveLocation.hasOwnProperty(name.value)) {\n    return name;\n  }\n\n  throw unexpected(lexer, start);\n} // Core parsing utility functions\n\n/**\n * Returns a location object, used to identify the place in\n * the source that created a given parsed object.\n */\n\n\nfunction loc(lexer, startToken) {\n  if (!lexer.options.noLocation) {\n    return new Loc(startToken, lexer.lastToken, lexer.source);\n  }\n}\n\nfunction Loc(startToken, endToken, source) {\n  this.start = startToken.start;\n  this.end = endToken.end;\n  this.startToken = startToken;\n  this.endToken = endToken;\n  this.source = source;\n} // Print a simplified form when appearing in JSON/util.inspect.\n\n\nLoc.prototype.toJSON = Loc.prototype.inspect = function toJSON() {\n  return {\n    start: this.start,\n    end: this.end\n  };\n};\n/**\n * Determines if the next token is of a given kind\n */\n\n\nfunction peek(lexer, kind) {\n  return lexer.token.kind === kind;\n}\n/**\n * If the next token is of the given kind, return true after advancing\n * the lexer. Otherwise, do not change the parser state and return false.\n */\n\n\nfunction skip(lexer, kind) {\n  var match = lexer.token.kind === kind;\n\n  if (match) {\n    lexer.advance();\n  }\n\n  return match;\n}\n/**\n * If the next token is of the given kind, return that token after advancing\n * the lexer. Otherwise, do not change the parser state and throw an error.\n */\n\n\nfunction expect(lexer, kind) {\n  var token = lexer.token;\n\n  if (token.kind === kind) {\n    lexer.advance();\n    return token;\n  }\n\n  throw syntaxError(lexer.source, token.start, \"Expected \".concat(kind, \", found \").concat(getTokenDesc(token)));\n}\n/**\n * If the next token is a keyword with the given value, return that token after\n * advancing the lexer. Otherwise, do not change the parser state and return\n * false.\n */\n\n\nfunction expectKeyword(lexer, value) {\n  var token = lexer.token;\n\n  if (token.kind === TokenKind.NAME && token.value === value) {\n    lexer.advance();\n    return token;\n  }\n\n  throw syntaxError(lexer.source, token.start, \"Expected \\\"\".concat(value, \"\\\", found \").concat(getTokenDesc(token)));\n}\n/**\n * Helper function for creating an error when an unexpected lexed token\n * is encountered.\n */\n\n\nfunction unexpected(lexer, atToken) {\n  var token = atToken || lexer.token;\n  return syntaxError(lexer.source, token.start, \"Unexpected \".concat(getTokenDesc(token)));\n}\n/**\n * Returns a possibly empty list of parse nodes, determined by\n * the parseFn. This list begins with a lex token of openKind\n * and ends with a lex token of closeKind. Advances the parser\n * to the next lex token after the closing token.\n */\n\n\nfunction any(lexer, openKind, parseFn, closeKind) {\n  expect(lexer, openKind);\n  var nodes = [];\n\n  while (!skip(lexer, closeKind)) {\n    nodes.push(parseFn(lexer));\n  }\n\n  return nodes;\n}\n/**\n * Returns a non-empty list of parse nodes, determined by\n * the parseFn. This list begins with a lex token of openKind\n * and ends with a lex token of closeKind. Advances the parser\n * to the next lex token after the closing token.\n */\n\n\nfunction many(lexer, openKind, parseFn, closeKind) {\n  expect(lexer, openKind);\n  var nodes = [parseFn(lexer)];\n\n  while (!skip(lexer, closeKind)) {\n    nodes.push(parseFn(lexer));\n  }\n\n  return nodes;\n}","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n/*\n * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n\n\nimport { GraphQLError } from 'graphql/error/GraphQLError';\nimport { print } from 'graphql/language/printer';\nimport { parse } from 'graphql/language/parser';\nimport { Amplify, ConsoleLogger as Logger, Constants, Credentials, INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER } from '@aws-amplify/core';\nimport PubSub from '@aws-amplify/pubsub';\nimport Auth from '@aws-amplify/auth';\nimport Cache from '@aws-amplify/cache';\nimport { RestClient } from '@aws-amplify/api-rest';\nvar USER_AGENT_HEADER = 'x-amz-user-agent';\nvar logger = new Logger('GraphQLAPI');\nexport var graphqlOperation = function graphqlOperation(query, variables) {\n  if (variables === void 0) {\n    variables = {};\n  }\n\n  return {\n    query: query,\n    variables: variables\n  };\n};\n/**\n * Export Cloud Logic APIs\n */\n\nvar GraphQLAPIClass =\n/** @class */\nfunction () {\n  /**\n   * Initialize GraphQL API with AWS configuration\n   * @param {Object} options - Configuration object for API\n   */\n  function GraphQLAPIClass(options) {\n    this._api = null;\n    this.Auth = Auth;\n    this.Cache = Cache;\n    this.Credentials = Credentials;\n    this._options = options;\n    logger.debug('API Options', this._options);\n  }\n\n  GraphQLAPIClass.prototype.getModuleName = function () {\n    return 'GraphQLAPI';\n  };\n  /**\n   * Configure API\n   * @param {Object} config - Configuration of the API\n   * @return {Object} - The current configuration\n   */\n\n\n  GraphQLAPIClass.prototype.configure = function (options) {\n    var _a = options || {},\n        _b = _a.API,\n        API = _b === void 0 ? {} : _b,\n        otherOptions = __rest(_a, [\"API\"]);\n\n    var opt = __assign(__assign({}, otherOptions), API);\n\n    logger.debug('configure GraphQL API', {\n      opt: opt\n    });\n\n    if (opt['aws_project_region']) {\n      opt = Object.assign({}, opt, {\n        region: opt['aws_project_region'],\n        header: {}\n      });\n    }\n\n    if (typeof opt.graphql_headers !== 'undefined' && typeof opt.graphql_headers !== 'function') {\n      logger.warn('graphql_headers should be a function');\n      opt.graphql_headers = undefined;\n    }\n\n    this._options = Object.assign({}, this._options, opt);\n    this.createInstance();\n    return this._options;\n  };\n  /**\n   * Create an instance of API for the library\n   * @return - A promise of true if Success\n   */\n\n\n  GraphQLAPIClass.prototype.createInstance = function () {\n    logger.debug('create Rest instance');\n\n    if (this._options) {\n      this._api = new RestClient(this._options); // Share instance Credentials with client for SSR\n\n      this._api.Credentials = this.Credentials;\n      return true;\n    } else {\n      return Promise.reject('API not configured');\n    }\n  };\n\n  GraphQLAPIClass.prototype._headerBasedAuth = function (defaultAuthenticationType) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, aws_appsync_authenticationType, apiKey, authenticationType, headers, _b, credentialsOK, token, federatedInfo, currentUser, session;\n\n      return __generator(this, function (_c) {\n        switch (_c.label) {\n          case 0:\n            _a = this._options, aws_appsync_authenticationType = _a.aws_appsync_authenticationType, apiKey = _a.aws_appsync_apiKey;\n            authenticationType = defaultAuthenticationType || aws_appsync_authenticationType || 'AWS_IAM';\n            headers = {};\n            _b = authenticationType;\n\n            switch (_b) {\n              case 'API_KEY':\n                return [3\n                /*break*/\n                , 1];\n\n              case 'AWS_IAM':\n                return [3\n                /*break*/\n                , 2];\n\n              case 'OPENID_CONNECT':\n                return [3\n                /*break*/\n                , 4];\n\n              case 'AMAZON_COGNITO_USER_POOLS':\n                return [3\n                /*break*/\n                , 9];\n            }\n\n            return [3\n            /*break*/\n            , 11];\n\n          case 1:\n            if (!apiKey) {\n              throw new Error('No api-key configured');\n            }\n\n            headers = {\n              Authorization: null,\n              'X-Api-Key': apiKey\n            };\n            return [3\n            /*break*/\n            , 12];\n\n          case 2:\n            return [4\n            /*yield*/\n            , this._ensureCredentials()];\n\n          case 3:\n            credentialsOK = _c.sent();\n\n            if (!credentialsOK) {\n              throw new Error('No credentials');\n            }\n\n            return [3\n            /*break*/\n            , 12];\n\n          case 4:\n            token = void 0;\n            return [4\n            /*yield*/\n            , Cache.getItem('federatedInfo')];\n\n          case 5:\n            federatedInfo = _c.sent();\n            if (!federatedInfo) return [3\n            /*break*/\n            , 6];\n            token = federatedInfo.token;\n            return [3\n            /*break*/\n            , 8];\n\n          case 6:\n            return [4\n            /*yield*/\n            , Auth.currentAuthenticatedUser()];\n\n          case 7:\n            currentUser = _c.sent();\n\n            if (currentUser) {\n              token = currentUser.token;\n            }\n\n            _c.label = 8;\n\n          case 8:\n            if (!token) {\n              throw new Error('No federated jwt');\n            }\n\n            headers = {\n              Authorization: token\n            };\n            return [3\n            /*break*/\n            , 12];\n\n          case 9:\n            return [4\n            /*yield*/\n            , this.Auth.currentSession()];\n\n          case 10:\n            session = _c.sent();\n            headers = {\n              Authorization: session.getAccessToken().getJwtToken()\n            };\n            return [3\n            /*break*/\n            , 12];\n\n          case 11:\n            headers = {\n              Authorization: null\n            };\n            return [3\n            /*break*/\n            , 12];\n\n          case 12:\n            return [2\n            /*return*/\n            , headers];\n        }\n      });\n    });\n  };\n  /**\n   * to get the operation type\n   * @param operation\n   */\n\n\n  GraphQLAPIClass.prototype.getGraphqlOperationType = function (operation) {\n    var doc = parse(operation);\n\n    var _a = __read(doc.definitions, 1),\n        operationType = _a[0].operation;\n\n    return operationType;\n  };\n  /**\n   * Executes a GraphQL operation\n   *\n   * @param {GraphQLOptions} GraphQL Options\n   * @param {object} additionalHeaders headers to merge in after any `graphql_headers` set in the config\n   * @returns {Promise<GraphQLResult> | Observable<object>}\n   */\n\n\n  GraphQLAPIClass.prototype.graphql = function (_a, additionalHeaders) {\n    var paramQuery = _a.query,\n        _b = _a.variables,\n        variables = _b === void 0 ? {} : _b,\n        authMode = _a.authMode;\n    var query = typeof paramQuery === 'string' ? parse(paramQuery) : parse(print(paramQuery));\n\n    var _c = __read(query.definitions.filter(function (def) {\n      return def.kind === 'OperationDefinition';\n    }), 1),\n        _d = _c[0],\n        operationDef = _d === void 0 ? {} : _d;\n\n    var operationType = operationDef.operation;\n\n    switch (operationType) {\n      case 'query':\n      case 'mutation':\n        var cancellableToken = this._api.getCancellableToken();\n\n        var initParams = {\n          cancellableToken: cancellableToken\n        };\n\n        var responsePromise = this._graphql({\n          query: query,\n          variables: variables,\n          authMode: authMode\n        }, additionalHeaders, initParams);\n\n        this._api.updateRequestToBeCancellable(responsePromise, cancellableToken);\n\n        return responsePromise;\n\n      case 'subscription':\n        return this._graphqlSubscribe({\n          query: query,\n          variables: variables,\n          authMode: authMode\n        }, additionalHeaders);\n    }\n\n    throw new Error(\"invalid operation type: \" + operationType);\n  };\n\n  GraphQLAPIClass.prototype._graphql = function (_a, additionalHeaders, initParams) {\n    var query = _a.query,\n        variables = _a.variables,\n        authMode = _a.authMode;\n\n    if (additionalHeaders === void 0) {\n      additionalHeaders = {};\n    }\n\n    if (initParams === void 0) {\n      initParams = {};\n    }\n\n    return __awaiter(this, void 0, void 0, function () {\n      var _b, region, appSyncGraphqlEndpoint, _c, graphql_headers, customGraphqlEndpoint, customEndpointRegion, headers, _d, _e, _f, _g, _h, _j, body, init, endpoint, error, response, err_1, errors;\n\n      var _k;\n\n      return __generator(this, function (_l) {\n        switch (_l.label) {\n          case 0:\n            if (!!this._api) return [3\n            /*break*/\n            , 2];\n            return [4\n            /*yield*/\n            , this.createInstance()];\n\n          case 1:\n            _l.sent();\n\n            _l.label = 2;\n\n          case 2:\n            _b = this._options, region = _b.aws_appsync_region, appSyncGraphqlEndpoint = _b.aws_appsync_graphqlEndpoint, _c = _b.graphql_headers, graphql_headers = _c === void 0 ? function () {\n              return {};\n            } : _c, customGraphqlEndpoint = _b.graphql_endpoint, customEndpointRegion = _b.graphql_endpoint_iam_region;\n            _d = [{}];\n            _e = !customGraphqlEndpoint;\n            if (!_e) return [3\n            /*break*/\n            , 4];\n            return [4\n            /*yield*/\n            , this._headerBasedAuth(authMode)];\n\n          case 3:\n            _e = _l.sent();\n            _l.label = 4;\n\n          case 4:\n            _f = [__assign.apply(void 0, _d.concat([_e]))];\n            _g = customGraphqlEndpoint;\n            if (!_g) return [3\n            /*break*/\n            , 8];\n            if (!customEndpointRegion) return [3\n            /*break*/\n            , 6];\n            return [4\n            /*yield*/\n            , this._headerBasedAuth(authMode)];\n\n          case 5:\n            _h = _l.sent();\n            return [3\n            /*break*/\n            , 7];\n\n          case 6:\n            _h = {\n              Authorization: null\n            };\n            _l.label = 7;\n\n          case 7:\n            _g = _h;\n            _l.label = 8;\n\n          case 8:\n            _j = [__assign.apply(void 0, _f.concat([_g]))];\n            return [4\n            /*yield*/\n            , graphql_headers({\n              query: query,\n              variables: variables\n            })];\n\n          case 9:\n            headers = __assign.apply(void 0, [__assign.apply(void 0, [__assign.apply(void 0, _j.concat([_l.sent()])), additionalHeaders]), !customGraphqlEndpoint && (_k = {}, _k[USER_AGENT_HEADER] = Constants.userAgent, _k)]);\n            body = {\n              query: print(query),\n              variables: variables\n            };\n            init = Object.assign({\n              headers: headers,\n              body: body,\n              signerServiceInfo: {\n                service: !customGraphqlEndpoint ? 'appsync' : 'execute-api',\n                region: !customGraphqlEndpoint ? region : customEndpointRegion\n              }\n            }, initParams);\n            endpoint = customGraphqlEndpoint || appSyncGraphqlEndpoint;\n\n            if (!endpoint) {\n              error = new GraphQLError('No graphql endpoint provided.');\n              throw {\n                data: {},\n                errors: [error]\n              };\n            }\n\n            _l.label = 10;\n\n          case 10:\n            _l.trys.push([10, 12,, 13]);\n\n            return [4\n            /*yield*/\n            , this._api.post(endpoint, init)];\n\n          case 11:\n            response = _l.sent();\n            return [3\n            /*break*/\n            , 13];\n\n          case 12:\n            err_1 = _l.sent(); // If the exception is because user intentionally\n            // cancelled the request, do not modify the exception\n            // so that clients can identify the exception correctly.\n\n            if (this._api.isCancel(err_1)) {\n              throw err_1;\n            }\n\n            response = {\n              data: {},\n              errors: [new GraphQLError(err_1.message)]\n            };\n            return [3\n            /*break*/\n            , 13];\n\n          case 13:\n            errors = response.errors;\n\n            if (errors && errors.length) {\n              throw response;\n            }\n\n            return [2\n            /*return*/\n            , response];\n        }\n      });\n    });\n  };\n  /**\n   * Checks to see if an error thrown is from an api request cancellation\n   * @param {any} error - Any error\n   * @return {boolean} - A boolean indicating if the error was from an api request cancellation\n   */\n\n\n  GraphQLAPIClass.prototype.isCancel = function (error) {\n    return this._api.isCancel(error);\n  };\n  /**\n   * Cancels an inflight request. Only applicable for graphql queries and mutations\n   * @param {any} request - request to cancel\n   * @return {boolean} - A boolean indicating if the request was cancelled\n   */\n\n\n  GraphQLAPIClass.prototype.cancel = function (request, message) {\n    return this._api.cancel(request, message);\n  };\n\n  GraphQLAPIClass.prototype._graphqlSubscribe = function (_a, additionalHeaders) {\n    var query = _a.query,\n        variables = _a.variables,\n        defaultAuthenticationType = _a.authMode;\n\n    if (additionalHeaders === void 0) {\n      additionalHeaders = {};\n    }\n\n    var _b = this._options,\n        region = _b.aws_appsync_region,\n        appSyncGraphqlEndpoint = _b.aws_appsync_graphqlEndpoint,\n        aws_appsync_authenticationType = _b.aws_appsync_authenticationType,\n        apiKey = _b.aws_appsync_apiKey,\n        _c = _b.graphql_headers,\n        graphql_headers = _c === void 0 ? function () {\n      return {};\n    } : _c;\n    var authenticationType = defaultAuthenticationType || aws_appsync_authenticationType || 'AWS_IAM';\n\n    if (PubSub && typeof PubSub.subscribe === 'function') {\n      return PubSub.subscribe('', {\n        provider: INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER,\n        appSyncGraphqlEndpoint: appSyncGraphqlEndpoint,\n        authenticationType: authenticationType,\n        apiKey: apiKey,\n        query: print(query),\n        region: region,\n        variables: variables,\n        graphql_headers: graphql_headers,\n        additionalHeaders: additionalHeaders\n      });\n    } else {\n      logger.debug('No pubsub module applied for subscription');\n      throw new Error('No pubsub module applied for subscription');\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  GraphQLAPIClass.prototype._ensureCredentials = function () {\n    var _this = this;\n\n    return this.Credentials.get().then(function (credentials) {\n      if (!credentials) return false;\n\n      var cred = _this.Credentials.shear(credentials);\n\n      logger.debug('set credentials for api', cred);\n      return true;\n    }).catch(function (err) {\n      logger.warn('ensure credentials error', err);\n      return false;\n    });\n  };\n\n  return GraphQLAPIClass;\n}();\n\nexport { GraphQLAPIClass };\nexport var GraphQLAPI = new GraphQLAPIClass(null);\nAmplify.register(GraphQLAPI);","import zenObservable from 'zen-observable';\nvar Observable = zenObservable;\nexport default Observable;\nexport { Observable };","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar constants_1 = require(\"./constants\");\n/**\n * @internal\n */\n\n\nvar RawSha256 =\n/** @class */\nfunction () {\n  function RawSha256() {\n    this.state = Int32Array.from(constants_1.INIT);\n    this.temp = new Int32Array(64);\n    this.buffer = new Uint8Array(64);\n    this.bufferLength = 0;\n    this.bytesHashed = 0;\n    /**\n     * @internal\n     */\n\n    this.finished = false;\n  }\n\n  RawSha256.prototype.update = function (data) {\n    if (this.finished) {\n      throw new Error(\"Attempted to update an already finished hash.\");\n    }\n\n    var position = 0;\n    var byteLength = data.byteLength;\n    this.bytesHashed += byteLength;\n\n    if (this.bytesHashed * 8 > constants_1.MAX_HASHABLE_LENGTH) {\n      throw new Error(\"Cannot hash more than 2^53 - 1 bits\");\n    }\n\n    while (byteLength > 0) {\n      this.buffer[this.bufferLength++] = data[position++];\n      byteLength--;\n\n      if (this.bufferLength === constants_1.BLOCK_SIZE) {\n        this.hashBuffer();\n        this.bufferLength = 0;\n      }\n    }\n  };\n\n  RawSha256.prototype.digest = function () {\n    if (!this.finished) {\n      var bitsHashed = this.bytesHashed * 8;\n      var bufferView = new DataView(this.buffer.buffer, this.buffer.byteOffset, this.buffer.byteLength);\n      var undecoratedLength = this.bufferLength;\n      bufferView.setUint8(this.bufferLength++, 0x80); // Ensure the final block has enough room for the hashed length\n\n      if (undecoratedLength % constants_1.BLOCK_SIZE >= constants_1.BLOCK_SIZE - 8) {\n        for (var i = this.bufferLength; i < constants_1.BLOCK_SIZE; i++) {\n          bufferView.setUint8(i, 0);\n        }\n\n        this.hashBuffer();\n        this.bufferLength = 0;\n      }\n\n      for (var i = this.bufferLength; i < constants_1.BLOCK_SIZE - 8; i++) {\n        bufferView.setUint8(i, 0);\n      }\n\n      bufferView.setUint32(constants_1.BLOCK_SIZE - 8, Math.floor(bitsHashed / 0x100000000), true);\n      bufferView.setUint32(constants_1.BLOCK_SIZE - 4, bitsHashed);\n      this.hashBuffer();\n      this.finished = true;\n    } // The value in state is little-endian rather than big-endian, so flip\n    // each word into a new Uint8Array\n\n\n    var out = new Uint8Array(constants_1.DIGEST_LENGTH);\n\n    for (var i = 0; i < 8; i++) {\n      out[i * 4] = this.state[i] >>> 24 & 0xff;\n      out[i * 4 + 1] = this.state[i] >>> 16 & 0xff;\n      out[i * 4 + 2] = this.state[i] >>> 8 & 0xff;\n      out[i * 4 + 3] = this.state[i] >>> 0 & 0xff;\n    }\n\n    return out;\n  };\n\n  RawSha256.prototype.hashBuffer = function () {\n    var _a = this,\n        buffer = _a.buffer,\n        state = _a.state;\n\n    var state0 = state[0],\n        state1 = state[1],\n        state2 = state[2],\n        state3 = state[3],\n        state4 = state[4],\n        state5 = state[5],\n        state6 = state[6],\n        state7 = state[7];\n\n    for (var i = 0; i < constants_1.BLOCK_SIZE; i++) {\n      if (i < 16) {\n        this.temp[i] = (buffer[i * 4] & 0xff) << 24 | (buffer[i * 4 + 1] & 0xff) << 16 | (buffer[i * 4 + 2] & 0xff) << 8 | buffer[i * 4 + 3] & 0xff;\n      } else {\n        var u = this.temp[i - 2];\n        var t1_1 = (u >>> 17 | u << 15) ^ (u >>> 19 | u << 13) ^ u >>> 10;\n        u = this.temp[i - 15];\n        var t2_1 = (u >>> 7 | u << 25) ^ (u >>> 18 | u << 14) ^ u >>> 3;\n        this.temp[i] = (t1_1 + this.temp[i - 7] | 0) + (t2_1 + this.temp[i - 16] | 0);\n      }\n\n      var t1 = (((state4 >>> 6 | state4 << 26) ^ (state4 >>> 11 | state4 << 21) ^ (state4 >>> 25 | state4 << 7)) + (state4 & state5 ^ ~state4 & state6) | 0) + (state7 + (constants_1.KEY[i] + this.temp[i] | 0) | 0) | 0;\n      var t2 = ((state0 >>> 2 | state0 << 30) ^ (state0 >>> 13 | state0 << 19) ^ (state0 >>> 22 | state0 << 10)) + (state0 & state1 ^ state0 & state2 ^ state1 & state2) | 0;\n      state7 = state6;\n      state6 = state5;\n      state5 = state4;\n      state4 = state3 + t1 | 0;\n      state3 = state2;\n      state2 = state1;\n      state1 = state0;\n      state0 = t1 + t2 | 0;\n    }\n\n    state[0] += state0;\n    state[1] += state1;\n    state[2] += state2;\n    state[3] += state3;\n    state[4] += state4;\n    state[5] += state5;\n    state[6] += state6;\n    state[7] += state7;\n  };\n\n  return RawSha256;\n}();\n\nexports.RawSha256 = RawSha256;","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).replace(/%40/gi, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',').replace(/%20/g, '+').replace(/%5B/gi, '[').replace(/%5D/gi, ']');\n}\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\n\n\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};","'use strict';\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\n\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function () {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n\n  return error;\n};","'use strict';\n\nvar bind = require('./helpers/bind');\n\nvar isBuffer = require('is-buffer');\n/*global toString:true*/\n// utils is a library of generic helper functions non-specific to axios\n\n\nvar toString = Object.prototype.toString;\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\n\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\n\n\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\n\n\nfunction isFormData(val) {\n  return typeof FormData !== 'undefined' && val instanceof FormData;\n}\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\n\n\nfunction isArrayBufferView(val) {\n  var result;\n\n  if (typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = val && val.buffer && val.buffer instanceof ArrayBuffer;\n  }\n\n  return result;\n}\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\n\n\nfunction isString(val) {\n  return typeof val === 'string';\n}\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\n\n\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\n\n\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\n\n\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\n\n\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\n\n\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\n\n\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\n\n\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\n\n\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\n\n\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\n\n\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\n\n\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' || navigator.product === 'NativeScript' || navigator.product === 'NS')) {\n    return false;\n  }\n\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\n\n\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  } // Force an array if not already something iterable\n\n\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\n\n\nfunction merge()\n/* obj1, obj2, obj3, ... */\n{\n  var result = {};\n\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n\n  return result;\n}\n/**\n * Function equal to merge with the difference being that no reference\n * to original objects is kept.\n *\n * @see merge\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\n\n\nfunction deepMerge()\n/* obj1, obj2, obj3, ... */\n{\n  var result = {};\n\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = deepMerge(result[key], val);\n    } else if (typeof val === 'object') {\n      result[key] = deepMerge({}, val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n\n  return result;\n}\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\n\n\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  deepMerge: deepMerge,\n  extend: extend,\n  trim: trim\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar constants_1 = require(\"./constants\");\n\nvar RawSha256_1 = require(\"./RawSha256\");\n\nvar util_utf8_browser_1 = require(\"@aws-sdk/util-utf8-browser\");\n\nvar Sha256 =\n/** @class */\nfunction () {\n  function Sha256(secret) {\n    this.hash = new RawSha256_1.RawSha256();\n\n    if (secret) {\n      this.outer = new RawSha256_1.RawSha256();\n      var inner = bufferFromSecret(secret);\n      var outer = new Uint8Array(constants_1.BLOCK_SIZE);\n      outer.set(inner);\n\n      for (var i = 0; i < constants_1.BLOCK_SIZE; i++) {\n        inner[i] ^= 0x36;\n        outer[i] ^= 0x5c;\n      }\n\n      this.hash.update(inner);\n      this.outer.update(outer); // overwrite the copied key in memory\n\n      for (var i = 0; i < inner.byteLength; i++) {\n        inner[i] = 0;\n      }\n    }\n  }\n\n  Sha256.prototype.update = function (toHash) {\n    if (isEmptyData(toHash) || this.error) {\n      return;\n    }\n\n    try {\n      this.hash.update(convertToBuffer(toHash));\n    } catch (e) {\n      this.error = e;\n    }\n  };\n  /* This synchronous method keeps compatibility\n   * with the v2 aws-sdk.\n   */\n\n\n  Sha256.prototype.digestSync = function () {\n    if (this.error) {\n      throw this.error;\n    }\n\n    if (this.outer) {\n      if (!this.outer.finished) {\n        this.outer.update(this.hash.digest());\n      }\n\n      return this.outer.digest();\n    }\n\n    return this.hash.digest();\n  };\n  /* The underlying digest method here is synchronous.\n   * To keep the same interface with the other hash functions\n   * the default is to expose this as an async method.\n   * However, it can sometimes be useful to have a sync method.\n   */\n\n\n  Sha256.prototype.digest = function () {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      return tslib_1.__generator(this, function (_a) {\n        return [2\n        /*return*/\n        , this.digestSync()];\n      });\n    });\n  };\n\n  return Sha256;\n}();\n\nexports.Sha256 = Sha256;\n\nfunction bufferFromSecret(secret) {\n  var input = convertToBuffer(secret);\n\n  if (input.byteLength > constants_1.BLOCK_SIZE) {\n    var bufferHash = new RawSha256_1.RawSha256();\n    bufferHash.update(input);\n    input = bufferHash.digest();\n  }\n\n  var buffer = new Uint8Array(constants_1.BLOCK_SIZE);\n  buffer.set(input);\n  return buffer;\n}\n\nfunction isEmptyData(data) {\n  if (typeof data === \"string\") {\n    return data.length === 0;\n  }\n\n  return data.byteLength === 0;\n}\n\nfunction convertToBuffer(data) {\n  if (typeof data === \"string\") {\n    return util_utf8_browser_1.fromUtf8(data);\n  }\n\n  if (ArrayBuffer.isView(data)) {\n    return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n  }\n\n  return new Uint8Array(data);\n}","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","module.exports = require(\"regenerator-runtime\");\n","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n/*\n * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n\n\nimport { RestClient } from './RestClient';\nimport { Amplify, ConsoleLogger as Logger, Credentials } from '@aws-amplify/core';\nvar logger = new Logger('RestAPI');\n/**\n * Export Cloud Logic APIs\n */\n\nvar RestAPIClass =\n/** @class */\nfunction () {\n  /**\n   * Initialize Rest API with AWS configuration\n   * @param {Object} options - Configuration object for API\n   */\n  function RestAPIClass(options) {\n    this._api = null;\n    this.Credentials = Credentials;\n    this._options = options;\n    logger.debug('API Options', this._options);\n  }\n\n  RestAPIClass.prototype.getModuleName = function () {\n    return 'RestAPI';\n  };\n  /**\n   * Configure API part with aws configurations\n   * @param {Object} config - Configuration of the API\n   * @return {Object} - The current configuration\n   */\n\n\n  RestAPIClass.prototype.configure = function (options) {\n    var _a = options || {},\n        _b = _a.API,\n        API = _b === void 0 ? {} : _b,\n        otherOptions = __rest(_a, [\"API\"]);\n\n    var opt = __assign(__assign({}, otherOptions), API);\n\n    logger.debug('configure Rest API', {\n      opt: opt\n    });\n\n    if (opt['aws_project_region']) {\n      if (opt['aws_cloud_logic_custom']) {\n        var custom = opt['aws_cloud_logic_custom'];\n        opt.endpoints = typeof custom === 'string' ? JSON.parse(custom) : custom;\n      }\n\n      opt = Object.assign({}, opt, {\n        region: opt['aws_project_region'],\n        header: {}\n      });\n    }\n\n    if (Array.isArray(opt.endpoints)) {\n      // Check if endpoints has custom_headers and validate if is a function\n      opt.endpoints.forEach(function (endpoint) {\n        if (typeof endpoint.custom_header !== 'undefined' && typeof endpoint.custom_header !== 'function') {\n          logger.warn('Rest API ' + endpoint.name + ', custom_header should be a function');\n          endpoint.custom_header = undefined;\n        }\n      });\n    } else if (this._options && Array.isArray(this._options.endpoints)) {\n      opt.endpoints = this._options.endpoints;\n    } else {\n      opt.endpoints = [];\n    }\n\n    this._options = Object.assign({}, this._options, opt);\n    this.createInstance();\n    return this._options;\n  };\n  /**\n   * Create an instance of API for the library\n   * @return - A promise of true if Success\n   */\n\n\n  RestAPIClass.prototype.createInstance = function () {\n    logger.debug('create Rest API instance');\n    this._api = new RestClient(this._options); // Share Amplify instance with client for SSR\n\n    this._api.Credentials = this.Credentials;\n    return true;\n  };\n  /**\n   * Make a GET request\n   * @param {string} apiName - The api name of the request\n   * @param {string} path - The path of the request\n   * @param {json} [init] - Request extra params\n   * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n   */\n\n\n  RestAPIClass.prototype.get = function (apiName, path, init) {\n    try {\n      var apiInfo = this.getEndpointInfo(apiName, path);\n\n      var cancellableToken = this._api.getCancellableToken();\n\n      var initParams = Object.assign({}, init);\n      initParams.cancellableToken = cancellableToken;\n\n      var responsePromise = this._api.get(apiInfo, initParams);\n\n      this._api.updateRequestToBeCancellable(responsePromise, cancellableToken);\n\n      return responsePromise;\n    } catch (err) {\n      return Promise.reject(err.message);\n    }\n  };\n  /**\n   * Make a POST request\n   * @param {string} apiName - The api name of the request\n   * @param {string} path - The path of the request\n   * @param {json} [init] - Request extra params\n   * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n   */\n\n\n  RestAPIClass.prototype.post = function (apiName, path, init) {\n    try {\n      var apiInfo = this.getEndpointInfo(apiName, path);\n\n      var cancellableToken = this._api.getCancellableToken();\n\n      var initParams = Object.assign({}, init);\n      initParams.cancellableToken = cancellableToken;\n\n      var responsePromise = this._api.post(apiInfo, initParams);\n\n      this._api.updateRequestToBeCancellable(responsePromise, cancellableToken);\n\n      return responsePromise;\n    } catch (err) {\n      return Promise.reject(err.message);\n    }\n  };\n  /**\n   * Make a PUT request\n   * @param {string} apiName - The api name of the request\n   * @param {string} path - The path of the request\n   * @param {json} [init] - Request extra params\n   * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n   */\n\n\n  RestAPIClass.prototype.put = function (apiName, path, init) {\n    try {\n      var apiInfo = this.getEndpointInfo(apiName, path);\n\n      var cancellableToken = this._api.getCancellableToken();\n\n      var initParams = Object.assign({}, init);\n      initParams.cancellableToken = cancellableToken;\n\n      var responsePromise = this._api.put(apiInfo, initParams);\n\n      this._api.updateRequestToBeCancellable(responsePromise, cancellableToken);\n\n      return responsePromise;\n    } catch (err) {\n      return Promise.reject(err.message);\n    }\n  };\n  /**\n   * Make a PATCH request\n   * @param {string} apiName - The api name of the request\n   * @param {string} path - The path of the request\n   * @param {json} [init] - Request extra params\n   * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n   */\n\n\n  RestAPIClass.prototype.patch = function (apiName, path, init) {\n    try {\n      var apiInfo = this.getEndpointInfo(apiName, path);\n\n      var cancellableToken = this._api.getCancellableToken();\n\n      var initParams = Object.assign({}, init);\n      initParams.cancellableToken = cancellableToken;\n\n      var responsePromise = this._api.patch(apiInfo, initParams);\n\n      this._api.updateRequestToBeCancellable(responsePromise, cancellableToken);\n\n      return responsePromise;\n    } catch (err) {\n      return Promise.reject(err.message);\n    }\n  };\n  /**\n   * Make a DEL request\n   * @param {string} apiName - The api name of the request\n   * @param {string} path - The path of the request\n   * @param {json} [init] - Request extra params\n   * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n   */\n\n\n  RestAPIClass.prototype.del = function (apiName, path, init) {\n    try {\n      var apiInfo = this.getEndpointInfo(apiName, path);\n\n      var cancellableToken = this._api.getCancellableToken();\n\n      var initParams = Object.assign({}, init);\n      initParams.cancellableToken = cancellableToken;\n\n      var responsePromise = this._api.del(apiInfo, initParams);\n\n      this._api.updateRequestToBeCancellable(responsePromise, cancellableToken);\n\n      return responsePromise;\n    } catch (err) {\n      return Promise.reject(err.message);\n    }\n  };\n  /**\n   * Make a HEAD request\n   * @param {string} apiName - The api name of the request\n   * @param {string} path - The path of the request\n   * @param {json} [init] - Request extra params\n   * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n   */\n\n\n  RestAPIClass.prototype.head = function (apiName, path, init) {\n    try {\n      var apiInfo = this.getEndpointInfo(apiName, path);\n\n      var cancellableToken = this._api.getCancellableToken();\n\n      var initParams = Object.assign({}, init);\n      initParams.cancellableToken = cancellableToken;\n\n      var responsePromise = this._api.head(apiInfo, initParams);\n\n      this._api.updateRequestToBeCancellable(responsePromise, cancellableToken);\n\n      return responsePromise;\n    } catch (err) {\n      return Promise.reject(err.message);\n    }\n  };\n  /**\n   * Checks to see if an error thrown is from an api request cancellation\n   * @param {any} error - Any error\n   * @return {boolean} - A boolean indicating if the error was from an api request cancellation\n   */\n\n\n  RestAPIClass.prototype.isCancel = function (error) {\n    return this._api.isCancel(error);\n  };\n  /**\n   * Cancels an inflight request\n   * @param {any} request - request to cancel\n   * @return {boolean} - A boolean indicating if the request was cancelled\n   */\n\n\n  RestAPIClass.prototype.cancel = function (request, message) {\n    return this._api.cancel(request, message);\n  };\n  /**\n   * Getting endpoint for API\n   * @param {string} apiName - The name of the api\n   * @return {string} - The endpoint of the api\n   */\n\n\n  RestAPIClass.prototype.endpoint = function (apiName) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2\n        /*return*/\n        , this._api.endpoint(apiName)];\n      });\n    });\n  };\n  /**\n   * Getting endpoint info for API\n   * @param {string} apiName - The name of the api\n   * @param {string} path - The path of the api that is going to accessed\n   * @return {ApiInfo} - The endpoint information for that api-name\n   */\n\n\n  RestAPIClass.prototype.getEndpointInfo = function (apiName, path) {\n    var cloud_logic_array = this._options.endpoints;\n\n    if (!Array.isArray(cloud_logic_array)) {\n      throw new Error(\"API category not configured\");\n    }\n\n    var apiConfig = cloud_logic_array.find(function (api) {\n      return api.name === apiName;\n    });\n\n    if (!apiConfig) {\n      throw new Error(\"API \" + apiName + \" does not exist\");\n    }\n\n    var response = {\n      endpoint: apiConfig.endpoint + path\n    };\n\n    if (typeof apiConfig.region === 'string') {\n      response.region = apiConfig.region;\n    } else if (typeof this._options.region === 'string') {\n      response.region = this._options.region;\n    }\n\n    if (typeof apiConfig.service === 'string') {\n      response.service = apiConfig.service || 'execute-api';\n    } else {\n      response.service = 'execute-api';\n    }\n\n    if (typeof apiConfig.custom_header === 'function') {\n      response.custom_header = apiConfig.custom_header;\n    } else {\n      response.custom_header = undefined;\n    }\n\n    return response;\n  };\n\n  return RestAPIClass;\n}();\n\nexport { RestAPIClass };\nexport var RestAPI = new RestAPIClass(null);\nAmplify.register(RestAPI);","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n/*\n * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n\n\nimport { Auth } from '@aws-amplify/auth';\nimport Cache from '@aws-amplify/cache';\nimport { RestAPIClass } from '@aws-amplify/api-rest';\nimport { GraphQLAPIClass } from '@aws-amplify/api-graphql';\nimport { Amplify, ConsoleLogger as Logger, Credentials } from '@aws-amplify/core';\nvar logger = new Logger('API');\n/**\n * @deprecated\n * Use RestApi or GraphQLAPI to reduce your application bundle size\n * Export Cloud Logic APIs\n */\n\nvar APIClass =\n/** @class */\nfunction () {\n  /**\n   * Initialize API with AWS configuration\n   * @param {Object} options - Configuration object for API\n   */\n  function APIClass(options) {\n    this.Auth = Auth;\n    this.Cache = Cache;\n    this.Credentials = Credentials;\n    this._options = options;\n    this._restApi = new RestAPIClass(options);\n    this._graphqlApi = new GraphQLAPIClass(options);\n    logger.debug('API Options', this._options);\n  }\n\n  APIClass.prototype.getModuleName = function () {\n    return 'API';\n  };\n  /**\n   * Configure API part with aws configurations\n   * @param {Object} config - Configuration of the API\n   * @return {Object} - The current configuration\n   */\n\n\n  APIClass.prototype.configure = function (options) {\n    this._options = Object.assign({}, this._options, options); // Share Amplify instance with client for SSR\n\n    this._restApi.Credentials = this.Credentials;\n    this._graphqlApi.Auth = this.Auth;\n    this._graphqlApi.Cache = this.Cache;\n    this._graphqlApi.Credentials = this.Credentials;\n\n    var restAPIConfig = this._restApi.configure(this._options);\n\n    var graphQLAPIConfig = this._graphqlApi.configure(this._options);\n\n    return __assign(__assign({}, restAPIConfig), graphQLAPIConfig);\n  };\n  /**\n   * Make a GET request\n   * @param {string} apiName - The api name of the request\n   * @param {string} path - The path of the request\n   * @param {json} [init] - Request extra params\n   * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n   */\n\n\n  APIClass.prototype.get = function (apiName, path, init) {\n    return this._restApi.get(apiName, path, init);\n  };\n  /**\n   * Make a POST request\n   * @param {string} apiName - The api name of the request\n   * @param {string} path - The path of the request\n   * @param {json} [init] - Request extra params\n   * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n   */\n\n\n  APIClass.prototype.post = function (apiName, path, init) {\n    return this._restApi.post(apiName, path, init);\n  };\n  /**\n   * Make a PUT request\n   * @param {string} apiName - The api name of the request\n   * @param {string} path - The path of the request\n   * @param {json} [init] - Request extra params\n   * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n   */\n\n\n  APIClass.prototype.put = function (apiName, path, init) {\n    return this._restApi.put(apiName, path, init);\n  };\n  /**\n   * Make a PATCH request\n   * @param {string} apiName - The api name of the request\n   * @param {string} path - The path of the request\n   * @param {json} [init] - Request extra params\n   * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n   */\n\n\n  APIClass.prototype.patch = function (apiName, path, init) {\n    return this._restApi.patch(apiName, path, init);\n  };\n  /**\n   * Make a DEL request\n   * @param {string} apiName - The api name of the request\n   * @param {string} path - The path of the request\n   * @param {json} [init] - Request extra params\n   * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n   */\n\n\n  APIClass.prototype.del = function (apiName, path, init) {\n    return this._restApi.del(apiName, path, init);\n  };\n  /**\n   * Make a HEAD request\n   * @param {string} apiName - The api name of the request\n   * @param {string} path - The path of the request\n   * @param {json} [init] - Request extra params\n   * @return {Promise} - A promise that resolves to an object with response status and JSON data, if successful.\n   */\n\n\n  APIClass.prototype.head = function (apiName, path, init) {\n    return this._restApi.head(apiName, path, init);\n  };\n  /**\n   * Checks to see if an error thrown is from an api request cancellation\n   * @param {any} error - Any error\n   * @return {boolean} - A boolean indicating if the error was from an api request cancellation\n   */\n\n\n  APIClass.prototype.isCancel = function (error) {\n    return this._restApi.isCancel(error);\n  };\n  /**\n   * Cancels an inflight request\n   * @param {any} request - request to cancel\n   * @return {boolean} - A boolean indicating if the request was cancelled\n   */\n\n\n  APIClass.prototype.cancel = function (request, message) {\n    return this._restApi.cancel(request, message);\n  };\n  /**\n   * Getting endpoint for API\n   * @param {string} apiName - The name of the api\n   * @return {string} - The endpoint of the api\n   */\n\n\n  APIClass.prototype.endpoint = function (apiName) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2\n        /*return*/\n        , this._restApi.endpoint(apiName)];\n      });\n    });\n  };\n  /**\n   * to get the operation type\n   * @param operation\n   */\n\n\n  APIClass.prototype.getGraphqlOperationType = function (operation) {\n    return this._graphqlApi.getGraphqlOperationType(operation);\n  };\n  /**\n   * Executes a GraphQL operation\n   *\n   * @param {GraphQLOptions} GraphQL Options\n   * @param {object} additionalHeaders headers to merge in after any `graphql_headers` set in the config\n   * @returns {Promise<GraphQLResult> | Observable<object>}\n   */\n\n\n  APIClass.prototype.graphql = function (options, additionalHeaders) {\n    return this._graphqlApi.graphql(options, additionalHeaders);\n  };\n\n  return APIClass;\n}();\n\nexport { APIClass };\nexport var API = new APIClass(null);\nAmplify.register(API);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Observable = void 0;\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n} // === Symbol Support ===\n\n\nvar hasSymbols = function hasSymbols() {\n  return typeof Symbol === 'function';\n};\n\nvar hasSymbol = function hasSymbol(name) {\n  return hasSymbols() && Boolean(Symbol[name]);\n};\n\nvar getSymbol = function getSymbol(name) {\n  return hasSymbol(name) ? Symbol[name] : '@@' + name;\n};\n\nif (hasSymbols() && !hasSymbol('observable')) {\n  Symbol.observable = Symbol('observable');\n}\n\nvar SymbolIterator = getSymbol('iterator');\nvar SymbolObservable = getSymbol('observable');\nvar SymbolSpecies = getSymbol('species'); // === Abstract Operations ===\n\nfunction getMethod(obj, key) {\n  var value = obj[key];\n  if (value == null) return undefined;\n  if (typeof value !== 'function') throw new TypeError(value + ' is not a function');\n  return value;\n}\n\nfunction getSpecies(obj) {\n  var ctor = obj.constructor;\n\n  if (ctor !== undefined) {\n    ctor = ctor[SymbolSpecies];\n\n    if (ctor === null) {\n      ctor = undefined;\n    }\n  }\n\n  return ctor !== undefined ? ctor : Observable;\n}\n\nfunction isObservable(x) {\n  return x instanceof Observable; // SPEC: Brand check\n}\n\nfunction hostReportError(e) {\n  if (hostReportError.log) {\n    hostReportError.log(e);\n  } else {\n    setTimeout(function () {\n      throw e;\n    });\n  }\n}\n\nfunction enqueue(fn) {\n  Promise.resolve().then(function () {\n    try {\n      fn();\n    } catch (e) {\n      hostReportError(e);\n    }\n  });\n}\n\nfunction cleanupSubscription(subscription) {\n  var cleanup = subscription._cleanup;\n  if (cleanup === undefined) return;\n  subscription._cleanup = undefined;\n\n  if (!cleanup) {\n    return;\n  }\n\n  try {\n    if (typeof cleanup === 'function') {\n      cleanup();\n    } else {\n      var unsubscribe = getMethod(cleanup, 'unsubscribe');\n\n      if (unsubscribe) {\n        unsubscribe.call(cleanup);\n      }\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n}\n\nfunction closeSubscription(subscription) {\n  subscription._observer = undefined;\n  subscription._queue = undefined;\n  subscription._state = 'closed';\n}\n\nfunction flushSubscription(subscription) {\n  var queue = subscription._queue;\n\n  if (!queue) {\n    return;\n  }\n\n  subscription._queue = undefined;\n  subscription._state = 'ready';\n\n  for (var i = 0; i < queue.length; ++i) {\n    notifySubscription(subscription, queue[i].type, queue[i].value);\n    if (subscription._state === 'closed') break;\n  }\n}\n\nfunction notifySubscription(subscription, type, value) {\n  subscription._state = 'running';\n  var observer = subscription._observer;\n\n  try {\n    var m = getMethod(observer, type);\n\n    switch (type) {\n      case 'next':\n        if (m) m.call(observer, value);\n        break;\n\n      case 'error':\n        closeSubscription(subscription);\n        if (m) m.call(observer, value);else throw value;\n        break;\n\n      case 'complete':\n        closeSubscription(subscription);\n        if (m) m.call(observer);\n        break;\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n\n  if (subscription._state === 'closed') cleanupSubscription(subscription);else if (subscription._state === 'running') subscription._state = 'ready';\n}\n\nfunction onNotify(subscription, type, value) {\n  if (subscription._state === 'closed') return;\n\n  if (subscription._state === 'buffering') {\n    subscription._queue.push({\n      type: type,\n      value: value\n    });\n\n    return;\n  }\n\n  if (subscription._state !== 'ready') {\n    subscription._state = 'buffering';\n    subscription._queue = [{\n      type: type,\n      value: value\n    }];\n    enqueue(function () {\n      return flushSubscription(subscription);\n    });\n    return;\n  }\n\n  notifySubscription(subscription, type, value);\n}\n\nvar Subscription = /*#__PURE__*/function () {\n  function Subscription(observer, subscriber) {\n    _classCallCheck(this, Subscription); // ASSERT: observer is an object\n    // ASSERT: subscriber is callable\n\n\n    this._cleanup = undefined;\n    this._observer = observer;\n    this._queue = undefined;\n    this._state = 'initializing';\n    var subscriptionObserver = new SubscriptionObserver(this);\n\n    try {\n      this._cleanup = subscriber.call(undefined, subscriptionObserver);\n    } catch (e) {\n      subscriptionObserver.error(e);\n    }\n\n    if (this._state === 'initializing') this._state = 'ready';\n  }\n\n  _createClass(Subscription, [{\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      if (this._state !== 'closed') {\n        closeSubscription(this);\n        cleanupSubscription(this);\n      }\n    }\n  }, {\n    key: \"closed\",\n    get: function get() {\n      return this._state === 'closed';\n    }\n  }]);\n\n  return Subscription;\n}();\n\nvar SubscriptionObserver = /*#__PURE__*/function () {\n  function SubscriptionObserver(subscription) {\n    _classCallCheck(this, SubscriptionObserver);\n\n    this._subscription = subscription;\n  }\n\n  _createClass(SubscriptionObserver, [{\n    key: \"next\",\n    value: function next(value) {\n      onNotify(this._subscription, 'next', value);\n    }\n  }, {\n    key: \"error\",\n    value: function error(value) {\n      onNotify(this._subscription, 'error', value);\n    }\n  }, {\n    key: \"complete\",\n    value: function complete() {\n      onNotify(this._subscription, 'complete');\n    }\n  }, {\n    key: \"closed\",\n    get: function get() {\n      return this._subscription._state === 'closed';\n    }\n  }]);\n\n  return SubscriptionObserver;\n}();\n\nvar Observable = /*#__PURE__*/function () {\n  function Observable(subscriber) {\n    _classCallCheck(this, Observable);\n\n    if (!(this instanceof Observable)) throw new TypeError('Observable cannot be called as a function');\n    if (typeof subscriber !== 'function') throw new TypeError('Observable initializer must be a function');\n    this._subscriber = subscriber;\n  }\n\n  _createClass(Observable, [{\n    key: \"subscribe\",\n    value: function subscribe(observer) {\n      if (typeof observer !== 'object' || observer === null) {\n        observer = {\n          next: observer,\n          error: arguments[1],\n          complete: arguments[2]\n        };\n      }\n\n      return new Subscription(observer, this._subscriber);\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(fn) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        if (typeof fn !== 'function') {\n          reject(new TypeError(fn + ' is not a function'));\n          return;\n        }\n\n        function done() {\n          subscription.unsubscribe();\n          resolve();\n        }\n\n        var subscription = _this.subscribe({\n          next: function next(value) {\n            try {\n              fn(value, done);\n            } catch (e) {\n              reject(e);\n              subscription.unsubscribe();\n            }\n          },\n          error: reject,\n          complete: resolve\n        });\n      });\n    }\n  }, {\n    key: \"map\",\n    value: function map(fn) {\n      var _this2 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        return _this2.subscribe({\n          next: function next(value) {\n            try {\n              value = fn(value);\n            } catch (e) {\n              return observer.error(e);\n            }\n\n            observer.next(value);\n          },\n          error: function error(e) {\n            observer.error(e);\n          },\n          complete: function complete() {\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(fn) {\n      var _this3 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        return _this3.subscribe({\n          next: function next(value) {\n            try {\n              if (!fn(value)) return;\n            } catch (e) {\n              return observer.error(e);\n            }\n\n            observer.next(value);\n          },\n          error: function error(e) {\n            observer.error(e);\n          },\n          complete: function complete() {\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"reduce\",\n    value: function reduce(fn) {\n      var _this4 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      var hasSeed = arguments.length > 1;\n      var hasValue = false;\n      var seed = arguments[1];\n      var acc = seed;\n      return new C(function (observer) {\n        return _this4.subscribe({\n          next: function next(value) {\n            var first = !hasValue;\n            hasValue = true;\n\n            if (!first || hasSeed) {\n              try {\n                acc = fn(acc, value);\n              } catch (e) {\n                return observer.error(e);\n              }\n            } else {\n              acc = value;\n            }\n          },\n          error: function error(e) {\n            observer.error(e);\n          },\n          complete: function complete() {\n            if (!hasValue && !hasSeed) return observer.error(new TypeError('Cannot reduce an empty sequence'));\n            observer.next(acc);\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"concat\",\n    value: function concat() {\n      var _this5 = this;\n\n      for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\n        sources[_key] = arguments[_key];\n      }\n\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        var subscription;\n        var index = 0;\n\n        function startNext(next) {\n          subscription = next.subscribe({\n            next: function next(v) {\n              observer.next(v);\n            },\n            error: function error(e) {\n              observer.error(e);\n            },\n            complete: function complete() {\n              if (index === sources.length) {\n                subscription = undefined;\n                observer.complete();\n              } else {\n                startNext(C.from(sources[index++]));\n              }\n            }\n          });\n        }\n\n        startNext(_this5);\n        return function () {\n          if (subscription) {\n            subscription.unsubscribe();\n            subscription = undefined;\n          }\n        };\n      });\n    }\n  }, {\n    key: \"flatMap\",\n    value: function flatMap(fn) {\n      var _this6 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        var subscriptions = [];\n\n        var outer = _this6.subscribe({\n          next: function next(value) {\n            if (fn) {\n              try {\n                value = fn(value);\n              } catch (e) {\n                return observer.error(e);\n              }\n            }\n\n            var inner = C.from(value).subscribe({\n              next: function next(value) {\n                observer.next(value);\n              },\n              error: function error(e) {\n                observer.error(e);\n              },\n              complete: function complete() {\n                var i = subscriptions.indexOf(inner);\n                if (i >= 0) subscriptions.splice(i, 1);\n                completeIfDone();\n              }\n            });\n            subscriptions.push(inner);\n          },\n          error: function error(e) {\n            observer.error(e);\n          },\n          complete: function complete() {\n            completeIfDone();\n          }\n        });\n\n        function completeIfDone() {\n          if (outer.closed && subscriptions.length === 0) observer.complete();\n        }\n\n        return function () {\n          subscriptions.forEach(function (s) {\n            return s.unsubscribe();\n          });\n          outer.unsubscribe();\n        };\n      });\n    }\n  }, {\n    key: SymbolObservable,\n    value: function value() {\n      return this;\n    }\n  }], [{\n    key: \"from\",\n    value: function from(x) {\n      var C = typeof this === 'function' ? this : Observable;\n      if (x == null) throw new TypeError(x + ' is not an object');\n      var method = getMethod(x, SymbolObservable);\n\n      if (method) {\n        var observable = method.call(x);\n        if (Object(observable) !== observable) throw new TypeError(observable + ' is not an object');\n        if (isObservable(observable) && observable.constructor === C) return observable;\n        return new C(function (observer) {\n          return observable.subscribe(observer);\n        });\n      }\n\n      if (hasSymbol('iterator')) {\n        method = getMethod(x, SymbolIterator);\n\n        if (method) {\n          return new C(function (observer) {\n            enqueue(function () {\n              if (observer.closed) return;\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = method.call(x)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var _item = _step.value;\n                  observer.next(_item);\n                  if (observer.closed) return;\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n\n              observer.complete();\n            });\n          });\n        }\n      }\n\n      if (Array.isArray(x)) {\n        return new C(function (observer) {\n          enqueue(function () {\n            if (observer.closed) return;\n\n            for (var i = 0; i < x.length; ++i) {\n              observer.next(x[i]);\n              if (observer.closed) return;\n            }\n\n            observer.complete();\n          });\n        });\n      }\n\n      throw new TypeError(x + ' is not observable');\n    }\n  }, {\n    key: \"of\",\n    value: function of() {\n      for (var _len2 = arguments.length, items = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        items[_key2] = arguments[_key2];\n      }\n\n      var C = typeof this === 'function' ? this : Observable;\n      return new C(function (observer) {\n        enqueue(function () {\n          if (observer.closed) return;\n\n          for (var i = 0; i < items.length; ++i) {\n            observer.next(items[i]);\n            if (observer.closed) return;\n          }\n\n          observer.complete();\n        });\n      });\n    }\n  }, {\n    key: SymbolSpecies,\n    get: function get() {\n      return this;\n    }\n  }]);\n\n  return Observable;\n}();\n\nexports.Observable = Observable;\n\nif (hasSymbols()) {\n  Object.defineProperty(Observable, Symbol('extensions'), {\n    value: {\n      symbol: SymbolObservable,\n      hostReportError: hostReportError\n    },\n    configurable: true\n  });\n}","module.exports = require('./lib/axios');","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n\n\nimport * as Paho from 'paho-mqtt';\nimport { v4 as uuid } from 'uuid';\nimport Observable from 'zen-observable-ts';\nimport { AbstractPubSubProvider } from './PubSubProvider';\nimport { ConsoleLogger as Logger } from '@aws-amplify/core';\nvar logger = new Logger('MqttOverWSProvider');\nexport function mqttTopicMatch(filter, topic) {\n  var filterArray = filter.split('/');\n  var length = filterArray.length;\n  var topicArray = topic.split('/');\n\n  for (var i = 0; i < length; ++i) {\n    var left = filterArray[i];\n    var right = topicArray[i];\n    if (left === '#') return topicArray.length >= length;\n    if (left !== '+' && left !== right) return false;\n  }\n\n  return length === topicArray.length;\n}\n\nvar ClientsQueue =\n/** @class */\nfunction () {\n  function ClientsQueue() {\n    this.promises = new Map();\n  }\n\n  ClientsQueue.prototype.get = function (clientId, clientFactory) {\n    return __awaiter(this, void 0, void 0, function () {\n      var promise;\n      return __generator(this, function (_a) {\n        promise = this.promises.get(clientId);\n\n        if (promise) {\n          return [2\n          /*return*/\n          , promise];\n        }\n\n        promise = clientFactory(clientId);\n        this.promises.set(clientId, promise);\n        return [2\n        /*return*/\n        , promise];\n      });\n    });\n  };\n\n  Object.defineProperty(ClientsQueue.prototype, \"allClients\", {\n    get: function get() {\n      return Array.from(this.promises.keys());\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  ClientsQueue.prototype.remove = function (clientId) {\n    this.promises.delete(clientId);\n  };\n\n  return ClientsQueue;\n}();\n\nvar topicSymbol = typeof Symbol !== 'undefined' ? Symbol('topic') : '@@topic';\n\nvar MqttOverWSProvider =\n/** @class */\nfunction (_super) {\n  __extends(MqttOverWSProvider, _super);\n\n  function MqttOverWSProvider(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _this = _super.call(this, __assign(__assign({}, options), {\n      clientId: options.clientId || uuid()\n    })) || this;\n\n    _this._clientsQueue = new ClientsQueue();\n    _this._topicObservers = new Map();\n    _this._clientIdObservers = new Map();\n    return _this;\n  }\n\n  Object.defineProperty(MqttOverWSProvider.prototype, \"clientId\", {\n    get: function get() {\n      return this.options.clientId;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MqttOverWSProvider.prototype, \"endpoint\", {\n    get: function get() {\n      return this.options.aws_pubsub_endpoint;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MqttOverWSProvider.prototype, \"clientsQueue\", {\n    get: function get() {\n      return this._clientsQueue;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MqttOverWSProvider.prototype, \"isSSLEnabled\", {\n    get: function get() {\n      return !this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  MqttOverWSProvider.prototype.getTopicForValue = function (value) {\n    return typeof value === 'object' && value[topicSymbol];\n  };\n\n  MqttOverWSProvider.prototype.getProviderName = function () {\n    return 'MqttOverWSProvider';\n  };\n\n  MqttOverWSProvider.prototype.onDisconnect = function (_a) {\n    var _this = this;\n\n    var clientId = _a.clientId,\n        errorCode = _a.errorCode,\n        args = __rest(_a, [\"clientId\", \"errorCode\"]);\n\n    if (errorCode !== 0) {\n      logger.warn(clientId, JSON.stringify(__assign({\n        errorCode: errorCode\n      }, args), null, 2));\n      var topicsToDelete_1 = [];\n\n      var clientIdObservers = this._clientIdObservers.get(clientId);\n\n      if (!clientIdObservers) {\n        return;\n      }\n\n      clientIdObservers.forEach(function (observer) {\n        observer.error('Disconnected, error code: ' + errorCode); // removing observers for disconnected clientId\n\n        _this._topicObservers.forEach(function (observerForTopic, observerTopic) {\n          observerForTopic.delete(observer);\n\n          if (observerForTopic.size === 0) {\n            topicsToDelete_1.push(observerTopic);\n          }\n        });\n      }); // forgiving any trace of clientId\n\n      this._clientIdObservers.delete(clientId); // Removing topics that are not listen by an observer\n\n\n      topicsToDelete_1.forEach(function (topic) {\n        _this._topicObservers.delete(topic);\n      });\n    }\n  };\n\n  MqttOverWSProvider.prototype.newClient = function (_a) {\n    var url = _a.url,\n        clientId = _a.clientId;\n    return __awaiter(this, void 0, void 0, function () {\n      var client;\n\n      var _this = this;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            logger.debug('Creating new MQTT client', clientId);\n            client = new Paho.Client(url, clientId); // client.trace = (args) => logger.debug(clientId, JSON.stringify(args, null, 2));\n\n            client.onMessageArrived = function (_a) {\n              var topic = _a.destinationName,\n                  msg = _a.payloadString;\n\n              _this._onMessage(topic, msg);\n            };\n\n            client.onConnectionLost = function (_a) {\n              var errorCode = _a.errorCode,\n                  args = __rest(_a, [\"errorCode\"]);\n\n              _this.onDisconnect(__assign({\n                clientId: clientId,\n                errorCode: errorCode\n              }, args));\n            };\n\n            return [4\n            /*yield*/\n            , new Promise(function (resolve, reject) {\n              client.connect({\n                useSSL: _this.isSSLEnabled,\n                mqttVersion: 3,\n                onSuccess: function onSuccess() {\n                  return resolve(client);\n                },\n                onFailure: reject\n              });\n            })];\n\n          case 1:\n            _b.sent();\n\n            return [2\n            /*return*/\n            , client];\n        }\n      });\n    });\n  };\n\n  MqttOverWSProvider.prototype.connect = function (clientId, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    return __awaiter(this, void 0, void 0, function () {\n      var _this = this;\n\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , this.clientsQueue.get(clientId, function (clientId) {\n              return _this.newClient(__assign(__assign({}, options), {\n                clientId: clientId\n              }));\n            })];\n\n          case 1:\n            return [2\n            /*return*/\n            , _a.sent()];\n        }\n      });\n    });\n  };\n\n  MqttOverWSProvider.prototype.disconnect = function (clientId) {\n    return __awaiter(this, void 0, void 0, function () {\n      var client;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , this.clientsQueue.get(clientId, function () {\n              return null;\n            })];\n\n          case 1:\n            client = _a.sent();\n\n            if (client && client.isConnected()) {\n              client.disconnect();\n            }\n\n            this.clientsQueue.remove(clientId);\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  MqttOverWSProvider.prototype.publish = function (topics, msg) {\n    return __awaiter(this, void 0, void 0, function () {\n      var targetTopics, message, url, client;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            targetTopics = [].concat(topics);\n            message = JSON.stringify(msg);\n            return [4\n            /*yield*/\n            , this.endpoint];\n\n          case 1:\n            url = _a.sent();\n            return [4\n            /*yield*/\n            , this.connect(this.clientId, {\n              url: url\n            })];\n\n          case 2:\n            client = _a.sent();\n            logger.debug('Publishing to topic(s)', targetTopics.join(','), message);\n            targetTopics.forEach(function (topic) {\n              return client.send(topic, message);\n            });\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  MqttOverWSProvider.prototype._onMessage = function (topic, msg) {\n    try {\n      var matchedTopicObservers_1 = [];\n\n      this._topicObservers.forEach(function (observerForTopic, observerTopic) {\n        if (mqttTopicMatch(observerTopic, topic)) {\n          matchedTopicObservers_1.push(observerForTopic);\n        }\n      });\n\n      var parsedMessage_1 = JSON.parse(msg);\n\n      if (typeof parsedMessage_1 === 'object') {\n        parsedMessage_1[topicSymbol] = topic;\n      }\n\n      matchedTopicObservers_1.forEach(function (observersForTopic) {\n        observersForTopic.forEach(function (observer) {\n          return observer.next(parsedMessage_1);\n        });\n      });\n    } catch (error) {\n      logger.warn('Error handling message', error, msg);\n    }\n  };\n\n  MqttOverWSProvider.prototype.subscribe = function (topics, options) {\n    var _this = this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    var targetTopics = [].concat(topics);\n    logger.debug('Subscribing to topic(s)', targetTopics.join(','));\n    return new Observable(function (observer) {\n      targetTopics.forEach(function (topic) {\n        // this._topicObservers is used to notify the observers according to the topic received on the message\n        var observersForTopic = _this._topicObservers.get(topic);\n\n        if (!observersForTopic) {\n          observersForTopic = new Set();\n\n          _this._topicObservers.set(topic, observersForTopic);\n        }\n\n        observersForTopic.add(observer);\n      }); // @ts-ignore\n\n      var client;\n      var _a = options.clientId,\n          clientId = _a === void 0 ? _this.clientId : _a; // this._clientIdObservers is used to close observers when client gets disconnected\n\n      var observersForClientId = _this._clientIdObservers.get(clientId);\n\n      if (!observersForClientId) {\n        observersForClientId = new Set();\n      }\n\n      observersForClientId.add(observer);\n\n      _this._clientIdObservers.set(clientId, observersForClientId);\n\n      (function () {\n        return __awaiter(_this, void 0, void 0, function () {\n          var _a, url, _b, e_1;\n\n          return __generator(this, function (_c) {\n            switch (_c.label) {\n              case 0:\n                _a = options.url;\n                if (!(_a === void 0)) return [3\n                /*break*/\n                , 2];\n                return [4\n                /*yield*/\n                , this.endpoint];\n\n              case 1:\n                _b = _c.sent();\n                return [3\n                /*break*/\n                , 3];\n\n              case 2:\n                _b = _a;\n                _c.label = 3;\n\n              case 3:\n                url = _b;\n                _c.label = 4;\n\n              case 4:\n                _c.trys.push([4, 6,, 7]);\n\n                return [4\n                /*yield*/\n                , this.connect(clientId, {\n                  url: url\n                })];\n\n              case 5:\n                client = _c.sent();\n                targetTopics.forEach(function (topic) {\n                  client.subscribe(topic);\n                });\n                return [3\n                /*break*/\n                , 7];\n\n              case 6:\n                e_1 = _c.sent();\n                observer.error(e_1);\n                return [3\n                /*break*/\n                , 7];\n\n              case 7:\n                return [2\n                /*return*/\n                ];\n            }\n          });\n        });\n      })();\n\n      return function () {\n        logger.debug('Unsubscribing from topic(s)', targetTopics.join(','));\n\n        if (client) {\n          _this._clientIdObservers.get(clientId).delete(observer); // No more observers per client => client not needed anymore\n\n\n          if (_this._clientIdObservers.get(clientId).size === 0) {\n            _this.disconnect(clientId);\n\n            _this._clientIdObservers.delete(clientId);\n          }\n\n          targetTopics.forEach(function (topic) {\n            var observersForTopic = _this._topicObservers.get(topic) || new Set();\n            observersForTopic.delete(observer); // if no observers exists for the topic, topic should be removed\n\n            if (observersForTopic.size === 0) {\n              _this._topicObservers.delete(topic);\n\n              if (client.isConnected()) {\n                client.unsubscribe(topic);\n              }\n            }\n          });\n        }\n\n        return null;\n      };\n    });\n  };\n\n  return MqttOverWSProvider;\n}(AbstractPubSubProvider);\n\nexport { MqttOverWSProvider };","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { ConsoleLogger as Logger } from '@aws-amplify/core';\nvar logger = new Logger('AbstractPubSubProvider');\n\nvar AbstractPubSubProvider =\n/** @class */\nfunction () {\n  function AbstractPubSubProvider(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    this._config = options;\n  }\n\n  AbstractPubSubProvider.prototype.configure = function (config) {\n    if (config === void 0) {\n      config = {};\n    }\n\n    this._config = __assign(__assign({}, config), this._config);\n    logger.debug(\"configure \" + this.getProviderName(), this._config);\n    return this.options;\n  };\n\n  AbstractPubSubProvider.prototype.getCategory = function () {\n    return 'PubSub';\n  };\n\n  Object.defineProperty(AbstractPubSubProvider.prototype, \"options\", {\n    get: function get() {\n      return __assign({}, this._config);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return AbstractPubSubProvider;\n}();\n\nexport { AbstractPubSubProvider };","import \"core-js/modules/es.array.reduce\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spread = this && this.__spread || function () {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n};\n\nimport Observable from 'zen-observable-ts';\nimport { ConsoleLogger as Logger } from '@aws-amplify/core';\nimport { MqttOverWSProvider } from './MqttOverWSProvider';\nvar logger = new Logger('AWSAppSyncProvider');\n\nvar AWSAppSyncProvider =\n/** @class */\nfunction (_super) {\n  __extends(AWSAppSyncProvider, _super);\n\n  function AWSAppSyncProvider() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this._topicClient = new Map();\n    _this._topicAlias = new Map();\n    return _this;\n  }\n\n  Object.defineProperty(AWSAppSyncProvider.prototype, \"endpoint\", {\n    get: function get() {\n      throw new Error('Not supported');\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  AWSAppSyncProvider.prototype.getProviderName = function () {\n    return 'AWSAppSyncProvider';\n  };\n\n  AWSAppSyncProvider.prototype.publish = function (topics, msg, options) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        throw new Error('Operation not supported');\n      });\n    });\n  };\n\n  AWSAppSyncProvider.prototype._cleanUp = function (clientId) {\n    var _this = this;\n\n    var topicsForClient = Array.from(this._topicClient.entries()).filter(function (_a) {\n      var _b = __read(_a, 2),\n          c = _b[1];\n\n      return c.clientId === clientId;\n    }).map(function (_a) {\n      var _b = __read(_a, 1),\n          t = _b[0];\n\n      return t;\n    });\n    topicsForClient.forEach(function (t) {\n      return _this._cleanUpForTopic(t);\n    });\n  };\n\n  AWSAppSyncProvider.prototype._cleanUpForTopic = function (topic) {\n    this._topicClient.delete(topic);\n\n    this._topicAlias.delete(topic);\n  };\n\n  AWSAppSyncProvider.prototype.onDisconnect = function (_a) {\n    var _this = this;\n\n    var clientId = _a.clientId,\n        errorCode = _a.errorCode,\n        args = __rest(_a, [\"clientId\", \"errorCode\"]);\n\n    if (errorCode !== 0) {\n      var topicsForClient = Array.from(this._topicClient.entries()).filter(function (_a) {\n        var _b = __read(_a, 2),\n            c = _b[1];\n\n        return c.clientId === clientId;\n      }).map(function (_a) {\n        var _b = __read(_a, 1),\n            t = _b[0];\n\n        return t;\n      });\n      topicsForClient.forEach(function (topic) {\n        if (_this._topicObservers.has(topic)) {\n          _this._topicObservers.get(topic).forEach(function (obs) {\n            if (!obs.closed) {\n              obs.error(args);\n            }\n          });\n\n          _this._topicObservers.delete(topic);\n        }\n      });\n\n      this._cleanUp(clientId);\n    }\n  };\n\n  AWSAppSyncProvider.prototype.disconnect = function (clientId) {\n    return __awaiter(this, void 0, void 0, function () {\n      var client;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , this.clientsQueue.get(clientId, function () {\n              return null;\n            })];\n\n          case 1:\n            client = _a.sent();\n            return [4\n            /*yield*/\n            , _super.prototype.disconnect.call(this, clientId)];\n\n          case 2:\n            _a.sent();\n\n            this._cleanUp(clientId);\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  AWSAppSyncProvider.prototype.subscribe = function (topics, options) {\n    var _this = this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    var result = new Observable(function (observer) {\n      var targetTopics = [].concat(topics);\n      logger.debug('Subscribing to topic(s)', targetTopics.join(','));\n\n      (function () {\n        return __awaiter(_this, void 0, void 0, function () {\n          var _a, mqttConnections, newSubscriptions, newAliases, map;\n\n          var _this = this;\n\n          return __generator(this, function (_b) {\n            switch (_b.label) {\n              case 0:\n                // Add these topics to map\n                targetTopics.forEach(function (t) {\n                  if (!_this._topicObservers.has(t)) {\n                    _this._topicObservers.set(t, new Set());\n                  }\n\n                  _this._topicObservers.get(t).add(observer);\n                });\n                _a = options.mqttConnections, mqttConnections = _a === void 0 ? [] : _a, newSubscriptions = options.newSubscriptions;\n                newAliases = Object.entries(newSubscriptions).map(function (_a) {\n                  var _b = __read(_a, 2),\n                      alias = _b[0],\n                      v = _b[1];\n\n                  return [v.topic, alias];\n                }); // Merge new aliases with old ones\n\n                this._topicAlias = new Map(__spread(Array.from(this._topicAlias.entries()), newAliases));\n                map = Object.entries(targetTopics.reduce(function (acc, elem) {\n                  var connectionInfoForTopic = mqttConnections.find(function (c) {\n                    return c.topics.indexOf(elem) > -1;\n                  });\n\n                  if (connectionInfoForTopic) {\n                    var clientId = connectionInfoForTopic.client,\n                        url = connectionInfoForTopic.url;\n\n                    if (!acc[clientId]) {\n                      acc[clientId] = {\n                        url: url,\n                        topics: new Set()\n                      };\n                    }\n\n                    acc[clientId].topics.add(elem);\n                  }\n\n                  return acc;\n                }, {})); // reconnect everything we have in the map\n\n                return [4\n                /*yield*/\n                , Promise.all(map.map(function (_a) {\n                  var _b = __read(_a, 2),\n                      clientId = _b[0],\n                      _c = _b[1],\n                      url = _c.url,\n                      topics = _c.topics;\n\n                  return __awaiter(_this, void 0, void 0, function () {\n                    var client, err_1;\n\n                    var _this = this;\n\n                    return __generator(this, function (_d) {\n                      switch (_d.label) {\n                        case 0:\n                          client = null;\n                          _d.label = 1;\n\n                        case 1:\n                          _d.trys.push([1, 3,, 4]);\n\n                          return [4\n                          /*yield*/\n                          , this.connect(clientId, {\n                            clientId: clientId,\n                            url: url\n                          })];\n\n                        case 2:\n                          client = _d.sent();\n                          return [3\n                          /*break*/\n                          , 4];\n\n                        case 3:\n                          err_1 = _d.sent();\n                          observer.error({\n                            message: 'Failed to connect',\n                            error: err_1\n                          });\n                          observer.complete();\n                          return [2\n                          /*return*/\n                          , undefined];\n\n                        case 4:\n                          // subscribe to all topics for this client\n                          // store topic-client mapping\n                          topics.forEach(function (topic) {\n                            if (client.isConnected()) {\n                              client.subscribe(topic);\n\n                              _this._topicClient.set(topic, client);\n                            }\n                          });\n                          return [2\n                          /*return*/\n                          , client];\n                      }\n                    });\n                  });\n                }))];\n\n              case 1:\n                // reconnect everything we have in the map\n                _b.sent();\n\n                return [2\n                /*return*/\n                ];\n            }\n          });\n        });\n      })();\n\n      return function () {\n        logger.debug('Unsubscribing from topic(s)', targetTopics.join(','));\n        targetTopics.forEach(function (t) {\n          var client = _this._topicClient.get(t);\n\n          if (client && client.isConnected()) {\n            client.unsubscribe(t);\n\n            _this._topicClient.delete(t);\n\n            if (!Array.from(_this._topicClient.values()).some(function (c) {\n              return c === client;\n            })) {\n              _this.disconnect(client.clientId);\n            }\n          }\n\n          _this._topicObservers.delete(t);\n        });\n      };\n    });\n    return Observable.from(result).map(function (value) {\n      var topic = _this.getTopicForValue(value);\n\n      var alias = _this._topicAlias.get(topic);\n\n      value.data = Object.entries(value.data).reduce(function (obj, _a) {\n        var _b = __read(_a, 2),\n            origKey = _b[0],\n            val = _b[1];\n\n        return obj[alias || origKey] = val, obj;\n      }, {});\n      return value;\n    });\n  };\n\n  return AWSAppSyncProvider;\n}(MqttOverWSProvider);\n\nexport { AWSAppSyncProvider };","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\n\n/**\n * Represents a location in a Source.\n */\n\n/**\n * Takes a Source and a UTF-8 character offset, and returns the corresponding\n * line and column as a SourceLocation.\n */\nexport function getLocation(source, position) {\n  var lineRegexp = /\\r\\n|[\\n\\r]/g;\n  var line = 1;\n  var column = position + 1;\n  var match;\n\n  while ((match = lineRegexp.exec(source.body)) && match.index < position) {\n    line += 1;\n    column = position + 1 - (match.index + match[0].length);\n  }\n\n  return {\n    line: line,\n    column: column\n  };\n}","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\nimport { getLocation } from '../language/location';\n/**\n * Prints a GraphQLError to a string, representing useful location information\n * about the error's position in the source.\n */\n\nexport function printError(error) {\n  var printedLocations = [];\n\n  if (error.nodes) {\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = error.nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var node = _step.value;\n\n        if (node.loc) {\n          printedLocations.push(highlightSourceAtLocation(node.loc.source, getLocation(node.loc.source, node.loc.start)));\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  } else if (error.source && error.locations) {\n    var source = error.source;\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = error.locations[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var location = _step2.value;\n        printedLocations.push(highlightSourceAtLocation(source, location));\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n          _iterator2.return();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  }\n\n  return printedLocations.length === 0 ? error.message : [error.message].concat(printedLocations).join('\\n\\n') + '\\n';\n}\n/**\n * Render a helpful description of the location of the error in the GraphQL\n * Source document.\n */\n\nfunction highlightSourceAtLocation(source, location) {\n  var firstLineColumnOffset = source.locationOffset.column - 1;\n  var body = whitespace(firstLineColumnOffset) + source.body;\n  var lineIndex = location.line - 1;\n  var lineOffset = source.locationOffset.line - 1;\n  var lineNum = location.line + lineOffset;\n  var columnOffset = location.line === 1 ? firstLineColumnOffset : 0;\n  var columnNum = location.column + columnOffset;\n  var lines = body.split(/\\r\\n|[\\n\\r]/g);\n  return \"\".concat(source.name, \" (\").concat(lineNum, \":\").concat(columnNum, \")\\n\") + printPrefixedLines([// Lines specified like this: [\"prefix\", \"string\"],\n  [\"\".concat(lineNum - 1, \": \"), lines[lineIndex - 1]], [\"\".concat(lineNum, \": \"), lines[lineIndex]], ['', whitespace(columnNum - 1) + '^'], [\"\".concat(lineNum + 1, \": \"), lines[lineIndex + 1]]]);\n}\n\nfunction printPrefixedLines(lines) {\n  var existingLines = lines.filter(function (_ref) {\n    var _ = _ref[0],\n        line = _ref[1];\n    return line !== undefined;\n  });\n  var padLen = 0;\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = existingLines[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var _ref4 = _step3.value;\n      var prefix = _ref4[0];\n      padLen = Math.max(padLen, prefix.length);\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n        _iterator3.return();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  return existingLines.map(function (_ref3) {\n    var prefix = _ref3[0],\n        line = _ref3[1];\n    return lpad(padLen, prefix) + line;\n  }).join('\\n');\n}\n\nfunction whitespace(len) {\n  return Array(len + 1).join(' ');\n}\n\nfunction lpad(len, str) {\n  return whitespace(len - str.length) + str;\n}","import \"core-js/modules/es.array.reduce\";\n\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *  strict\n */\nimport { printError } from './printError';\nimport { getLocation } from '../language/location';\nexport function GraphQLError( // eslint-disable-line no-redeclare\nmessage, nodes, source, positions, path, originalError, extensions) {\n  // Compute list of blame nodes.\n  var _nodes = Array.isArray(nodes) ? nodes.length !== 0 ? nodes : undefined : nodes ? [nodes] : undefined; // Compute locations in the source for the given nodes/positions.\n\n\n  var _source = source;\n\n  if (!_source && _nodes) {\n    var node = _nodes[0];\n    _source = node && node.loc && node.loc.source;\n  }\n\n  var _positions = positions;\n\n  if (!_positions && _nodes) {\n    _positions = _nodes.reduce(function (list, node) {\n      if (node.loc) {\n        list.push(node.loc.start);\n      }\n\n      return list;\n    }, []);\n  }\n\n  if (_positions && _positions.length === 0) {\n    _positions = undefined;\n  }\n\n  var _locations;\n\n  if (positions && source) {\n    _locations = positions.map(function (pos) {\n      return getLocation(source, pos);\n    });\n  } else if (_nodes) {\n    _locations = _nodes.reduce(function (list, node) {\n      if (node.loc) {\n        list.push(getLocation(node.loc.source, node.loc.start));\n      }\n\n      return list;\n    }, []);\n  }\n\n  var _extensions = extensions || originalError && originalError.extensions;\n\n  Object.defineProperties(this, {\n    message: {\n      value: message,\n      // By being enumerable, JSON.stringify will include `message` in the\n      // resulting output. This ensures that the simplest possible GraphQL\n      // service adheres to the spec.\n      enumerable: true,\n      writable: true\n    },\n    locations: {\n      // Coercing falsey values to undefined ensures they will not be included\n      // in JSON.stringify() when not provided.\n      value: _locations || undefined,\n      // By being enumerable, JSON.stringify will include `locations` in the\n      // resulting output. This ensures that the simplest possible GraphQL\n      // service adheres to the spec.\n      enumerable: Boolean(_locations)\n    },\n    path: {\n      // Coercing falsey values to undefined ensures they will not be included\n      // in JSON.stringify() when not provided.\n      value: path || undefined,\n      // By being enumerable, JSON.stringify will include `path` in the\n      // resulting output. This ensures that the simplest possible GraphQL\n      // service adheres to the spec.\n      enumerable: Boolean(path)\n    },\n    nodes: {\n      value: _nodes || undefined\n    },\n    source: {\n      value: _source || undefined\n    },\n    positions: {\n      value: _positions || undefined\n    },\n    originalError: {\n      value: originalError\n    },\n    extensions: {\n      // Coercing falsey values to undefined ensures they will not be included\n      // in JSON.stringify() when not provided.\n      value: _extensions || undefined,\n      // By being enumerable, JSON.stringify will include `path` in the\n      // resulting output. This ensures that the simplest possible GraphQL\n      // service adheres to the spec.\n      enumerable: Boolean(_extensions)\n    }\n  }); // Include (non-enumerable) stack trace.\n\n  if (originalError && originalError.stack) {\n    Object.defineProperty(this, 'stack', {\n      value: originalError.stack,\n      writable: true,\n      configurable: true\n    });\n  } else if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, GraphQLError);\n  } else {\n    Object.defineProperty(this, 'stack', {\n      value: Error().stack,\n      writable: true,\n      configurable: true\n    });\n  }\n}\nGraphQLError.prototype = Object.create(Error.prototype, {\n  constructor: {\n    value: GraphQLError\n  },\n  name: {\n    value: 'GraphQLError'\n  },\n  toString: {\n    value: function toString() {\n      return printError(this);\n    }\n  }\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n/*\n * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n\n\nimport Observable from 'zen-observable-ts';\nimport { GraphQLError } from 'graphql';\nimport * as url from 'url';\nimport { v4 as uuid } from 'uuid';\nimport { Buffer } from 'buffer';\nimport { Logger, Credentials, Signer, Hub, Constants, USER_AGENT_HEADER, jitteredExponentialRetry, NonRetryableError } from '@aws-amplify/core';\nimport Cache from '@aws-amplify/cache';\nimport Auth from '@aws-amplify/auth';\nimport { AbstractPubSubProvider } from './PubSubProvider';\nimport { CONTROL_MSG } from '../index';\nvar logger = new Logger('AWSAppSyncRealTimeProvider');\nvar AMPLIFY_SYMBOL = typeof Symbol !== 'undefined' && typeof Symbol.for === 'function' ? Symbol.for('amplify_default') : '@@amplify_default';\n\nvar dispatchApiEvent = function dispatchApiEvent(event, data, message) {\n  Hub.dispatch('api', {\n    event: event,\n    data: data,\n    message: message\n  }, 'PubSub', AMPLIFY_SYMBOL);\n};\n\nvar MAX_DELAY_MS = 5000;\nvar NON_RETRYABLE_CODES = [400, 401, 403];\nvar MESSAGE_TYPES;\n\n(function (MESSAGE_TYPES) {\n  /**\n   * Client -> Server message.\n   * This message type is the first message after handshake and this will initialize AWS AppSync RealTime communication\n   */\n  MESSAGE_TYPES[\"GQL_CONNECTION_INIT\"] = \"connection_init\";\n  /**\n   * Server -> Client message\n   * This message type is in case there is an issue with AWS AppSync RealTime when establishing connection\n   */\n\n  MESSAGE_TYPES[\"GQL_CONNECTION_ERROR\"] = \"connection_error\";\n  /**\n   * Server -> Client message.\n   * This message type is for the ack response from AWS AppSync RealTime for GQL_CONNECTION_INIT message\n   */\n\n  MESSAGE_TYPES[\"GQL_CONNECTION_ACK\"] = \"connection_ack\";\n  /**\n   * Client -> Server message.\n   * This message type is for register subscriptions with AWS AppSync RealTime\n   */\n\n  MESSAGE_TYPES[\"GQL_START\"] = \"start\";\n  /**\n   * Server -> Client message.\n   * This message type is for the ack response from AWS AppSync RealTime for GQL_START message\n   */\n\n  MESSAGE_TYPES[\"GQL_START_ACK\"] = \"start_ack\";\n  /**\n   * Server -> Client message.\n   * This message type is for subscription message from AWS AppSync RealTime\n   */\n\n  MESSAGE_TYPES[\"GQL_DATA\"] = \"data\";\n  /**\n   * Server -> Client message.\n   * This message type helps the client to know is still receiving messages from AWS AppSync RealTime\n   */\n\n  MESSAGE_TYPES[\"GQL_CONNECTION_KEEP_ALIVE\"] = \"ka\";\n  /**\n   * Client -> Server message.\n   * This message type is for unregister subscriptions with AWS AppSync RealTime\n   */\n\n  MESSAGE_TYPES[\"GQL_STOP\"] = \"stop\";\n  /**\n   * Server -> Client message.\n   * This message type is for the ack response from AWS AppSync RealTime for GQL_STOP message\n   */\n\n  MESSAGE_TYPES[\"GQL_COMPLETE\"] = \"complete\";\n  /**\n   * Server -> Client message.\n   * This message type is for sending error messages from AWS AppSync RealTime to the client\n   */\n\n  MESSAGE_TYPES[\"GQL_ERROR\"] = \"error\";\n})(MESSAGE_TYPES || (MESSAGE_TYPES = {}));\n\nvar SUBSCRIPTION_STATUS;\n\n(function (SUBSCRIPTION_STATUS) {\n  SUBSCRIPTION_STATUS[SUBSCRIPTION_STATUS[\"PENDING\"] = 0] = \"PENDING\";\n  SUBSCRIPTION_STATUS[SUBSCRIPTION_STATUS[\"CONNECTED\"] = 1] = \"CONNECTED\";\n  SUBSCRIPTION_STATUS[SUBSCRIPTION_STATUS[\"FAILED\"] = 2] = \"FAILED\";\n})(SUBSCRIPTION_STATUS || (SUBSCRIPTION_STATUS = {}));\n\nvar SOCKET_STATUS;\n\n(function (SOCKET_STATUS) {\n  SOCKET_STATUS[SOCKET_STATUS[\"CLOSED\"] = 0] = \"CLOSED\";\n  SOCKET_STATUS[SOCKET_STATUS[\"READY\"] = 1] = \"READY\";\n  SOCKET_STATUS[SOCKET_STATUS[\"CONNECTING\"] = 2] = \"CONNECTING\";\n})(SOCKET_STATUS || (SOCKET_STATUS = {}));\n\nvar AWS_APPSYNC_REALTIME_HEADERS = {\n  accept: 'application/json, text/javascript',\n  'content-encoding': 'amz-1.0',\n  'content-type': 'application/json; charset=UTF-8'\n};\n/**\n * Time in milleseconds to wait for GQL_CONNECTION_INIT message\n */\n\nvar CONNECTION_INIT_TIMEOUT = 15000;\n/**\n * Time in milleseconds to wait for GQL_START_ACK message\n */\n\nvar START_ACK_TIMEOUT = 15000;\n/**\n * Default Time in milleseconds to wait for GQL_CONNECTION_KEEP_ALIVE message\n */\n\nvar DEFAULT_KEEP_ALIVE_TIMEOUT = 5 * 60 * 1000;\n\nvar AWSAppSyncRealTimeProvider =\n/** @class */\nfunction (_super) {\n  __extends(AWSAppSyncRealTimeProvider, _super);\n\n  function AWSAppSyncRealTimeProvider() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.socketStatus = SOCKET_STATUS.CLOSED;\n    _this.keepAliveTimeout = DEFAULT_KEEP_ALIVE_TIMEOUT;\n    _this.subscriptionObserverMap = new Map();\n    _this.promiseArray = [];\n    return _this;\n  }\n\n  AWSAppSyncRealTimeProvider.prototype.getProviderName = function () {\n    return 'AWSAppSyncRealTimeProvider';\n  };\n\n  AWSAppSyncRealTimeProvider.prototype.newClient = function () {\n    throw new Error('Not used here');\n  };\n\n  AWSAppSyncRealTimeProvider.prototype.publish = function (_topics, _msg, _options) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        throw new Error('Operation not supported');\n      });\n    });\n  };\n\n  AWSAppSyncRealTimeProvider.prototype.subscribe = function (_topics, options) {\n    var _this = this;\n\n    var appSyncGraphqlEndpoint = options.appSyncGraphqlEndpoint;\n    return new Observable(function (observer) {\n      if (!appSyncGraphqlEndpoint) {\n        observer.error({\n          errors: [__assign({}, new GraphQLError(\"Subscribe only available for AWS AppSync endpoint\"))]\n        });\n        observer.complete();\n      } else {\n        var subscriptionId_1 = uuid();\n\n        _this._startSubscriptionWithAWSAppSyncRealTime({\n          options: options,\n          observer: observer,\n          subscriptionId: subscriptionId_1\n        });\n\n        return function () {\n          return __awaiter(_this, void 0, void 0, function () {\n            var subscriptionState, err_1;\n            return __generator(this, function (_a) {\n              switch (_a.label) {\n                case 0:\n                  _a.trys.push([0, 2, 3, 4]); // Waiting that subscription has been connected before trying to unsubscribe\n\n\n                  return [4\n                  /*yield*/\n                  , this._waitForSubscriptionToBeConnected(subscriptionId_1)];\n\n                case 1:\n                  // Waiting that subscription has been connected before trying to unsubscribe\n                  _a.sent();\n\n                  subscriptionState = (this.subscriptionObserverMap.get(subscriptionId_1) || {}).subscriptionState;\n\n                  if (!subscriptionState) {\n                    // subscription already unsubscribed\n                    return [2\n                    /*return*/\n                    ];\n                  }\n\n                  if (subscriptionState === SUBSCRIPTION_STATUS.CONNECTED) {\n                    this._sendUnsubscriptionMessage(subscriptionId_1);\n                  } else {\n                    throw new Error('Subscription never connected');\n                  }\n\n                  return [3\n                  /*break*/\n                  , 4];\n\n                case 2:\n                  err_1 = _a.sent();\n                  logger.debug(\"Error while unsubscribing \" + err_1);\n                  return [3\n                  /*break*/\n                  , 4];\n\n                case 3:\n                  this._removeSubscriptionObserver(subscriptionId_1);\n\n                  return [7\n                  /*endfinally*/\n                  ];\n\n                case 4:\n                  return [2\n                  /*return*/\n                  ];\n              }\n            });\n          });\n        };\n      }\n    });\n  };\n\n  Object.defineProperty(AWSAppSyncRealTimeProvider.prototype, \"isSSLEnabled\", {\n    get: function get() {\n      return !this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  AWSAppSyncRealTimeProvider.prototype._startSubscriptionWithAWSAppSyncRealTime = function (_a) {\n    var options = _a.options,\n        observer = _a.observer,\n        subscriptionId = _a.subscriptionId;\n    return __awaiter(this, void 0, void 0, function () {\n      var appSyncGraphqlEndpoint, authenticationType, query, variables, apiKey, region, _b, graphql_headers, _c, additionalHeaders, subscriptionState, data, dataString, headerObj, _d, _e, subscriptionMessage, stringToAWSRealTime, err_2, _f, message, subscriptionFailedCallback_1, _g, subscriptionFailedCallback, subscriptionReadyCallback;\n\n      var _h;\n\n      var _this = this;\n\n      return __generator(this, function (_j) {\n        switch (_j.label) {\n          case 0:\n            appSyncGraphqlEndpoint = options.appSyncGraphqlEndpoint, authenticationType = options.authenticationType, query = options.query, variables = options.variables, apiKey = options.apiKey, region = options.region, _b = options.graphql_headers, graphql_headers = _b === void 0 ? function () {\n              return {};\n            } : _b, _c = options.additionalHeaders, additionalHeaders = _c === void 0 ? {} : _c;\n            subscriptionState = SUBSCRIPTION_STATUS.PENDING;\n            data = {\n              query: query,\n              variables: variables\n            }; // Having a subscription id map will make it simple to forward messages received\n\n            this.subscriptionObserverMap.set(subscriptionId, {\n              observer: observer,\n              query: query,\n              variables: variables,\n              subscriptionState: subscriptionState,\n              startAckTimeoutId: null\n            });\n            dataString = JSON.stringify(data);\n            _d = [{}];\n            return [4\n            /*yield*/\n            , this._awsRealTimeHeaderBasedAuth({\n              apiKey: apiKey,\n              appSyncGraphqlEndpoint: appSyncGraphqlEndpoint,\n              authenticationType: authenticationType,\n              payload: dataString,\n              canonicalUri: '',\n              region: region\n            })];\n\n          case 1:\n            _e = [__assign.apply(void 0, _d.concat([_j.sent()]))];\n            return [4\n            /*yield*/\n            , graphql_headers()];\n\n          case 2:\n            headerObj = __assign.apply(void 0, [__assign.apply(void 0, [__assign.apply(void 0, _e.concat([_j.sent()])), additionalHeaders]), (_h = {}, _h[USER_AGENT_HEADER] = Constants.userAgent, _h)]);\n            subscriptionMessage = {\n              id: subscriptionId,\n              payload: {\n                data: dataString,\n                extensions: {\n                  authorization: __assign({}, headerObj)\n                }\n              },\n              type: MESSAGE_TYPES.GQL_START\n            };\n            stringToAWSRealTime = JSON.stringify(subscriptionMessage);\n            _j.label = 3;\n\n          case 3:\n            _j.trys.push([3, 5,, 6]);\n\n            return [4\n            /*yield*/\n            , this._initializeWebSocketConnection({\n              apiKey: apiKey,\n              appSyncGraphqlEndpoint: appSyncGraphqlEndpoint,\n              authenticationType: authenticationType,\n              region: region\n            })];\n\n          case 4:\n            _j.sent();\n\n            return [3\n            /*break*/\n            , 6];\n\n          case 5:\n            err_2 = _j.sent();\n            logger.debug({\n              err: err_2\n            });\n            _f = err_2.message, message = _f === void 0 ? '' : _f;\n            observer.error({\n              errors: [__assign({}, new GraphQLError(\"Connection failed: \" + message))]\n            });\n            observer.complete();\n            subscriptionFailedCallback_1 = (this.subscriptionObserverMap.get(subscriptionId) || {}).subscriptionFailedCallback; // Notify concurrent unsubscription\n\n            if (typeof subscriptionFailedCallback_1 === 'function') {\n              subscriptionFailedCallback_1();\n            }\n\n            return [2\n            /*return*/\n            ];\n\n          case 6:\n            _g = this.subscriptionObserverMap.get(subscriptionId), subscriptionFailedCallback = _g.subscriptionFailedCallback, subscriptionReadyCallback = _g.subscriptionReadyCallback; // This must be done before sending the message in order to be listening immediately\n\n            this.subscriptionObserverMap.set(subscriptionId, {\n              observer: observer,\n              subscriptionState: subscriptionState,\n              variables: variables,\n              query: query,\n              subscriptionReadyCallback: subscriptionReadyCallback,\n              subscriptionFailedCallback: subscriptionFailedCallback,\n              startAckTimeoutId: setTimeout(function () {\n                _this._timeoutStartSubscriptionAck.call(_this, subscriptionId);\n              }, START_ACK_TIMEOUT)\n            });\n\n            if (this.awsRealTimeSocket) {\n              this.awsRealTimeSocket.send(stringToAWSRealTime);\n            }\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }; // Waiting that subscription has been connected before trying to unsubscribe\n\n\n  AWSAppSyncRealTimeProvider.prototype._waitForSubscriptionToBeConnected = function (subscriptionId) {\n    return __awaiter(this, void 0, void 0, function () {\n      var subscriptionState;\n\n      var _this = this;\n\n      return __generator(this, function (_a) {\n        subscriptionState = this.subscriptionObserverMap.get(subscriptionId).subscriptionState; // This in case unsubscribe is invoked before sending start subscription message\n\n        if (subscriptionState === SUBSCRIPTION_STATUS.PENDING) {\n          return [2\n          /*return*/\n          , new Promise(function (res, rej) {\n            var _a = _this.subscriptionObserverMap.get(subscriptionId),\n                observer = _a.observer,\n                subscriptionState = _a.subscriptionState,\n                variables = _a.variables,\n                query = _a.query;\n\n            _this.subscriptionObserverMap.set(subscriptionId, {\n              observer: observer,\n              subscriptionState: subscriptionState,\n              variables: variables,\n              query: query,\n              subscriptionReadyCallback: res,\n              subscriptionFailedCallback: rej\n            });\n          })];\n        }\n\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  AWSAppSyncRealTimeProvider.prototype._sendUnsubscriptionMessage = function (subscriptionId) {\n    try {\n      if (this.awsRealTimeSocket && this.awsRealTimeSocket.readyState === WebSocket.OPEN && this.socketStatus === SOCKET_STATUS.READY) {\n        // Preparing unsubscribe message to stop receiving messages for that subscription\n        var unsubscribeMessage = {\n          id: subscriptionId,\n          type: MESSAGE_TYPES.GQL_STOP\n        };\n        var stringToAWSRealTime = JSON.stringify(unsubscribeMessage);\n        this.awsRealTimeSocket.send(stringToAWSRealTime);\n      }\n    } catch (err) {\n      // If GQL_STOP is not sent because of disconnection issue, then there is nothing the client can do\n      logger.debug({\n        err: err\n      });\n    }\n  };\n\n  AWSAppSyncRealTimeProvider.prototype._removeSubscriptionObserver = function (subscriptionId) {\n    this.subscriptionObserverMap.delete(subscriptionId); // Verifying 1000ms after removing subscription in case there are new subscription unmount/mount\n\n    setTimeout(this._closeSocketIfRequired.bind(this), 1000);\n  };\n\n  AWSAppSyncRealTimeProvider.prototype._closeSocketIfRequired = function () {\n    if (this.subscriptionObserverMap.size > 0) {\n      // Active subscriptions on the WebSocket\n      return;\n    }\n\n    if (!this.awsRealTimeSocket) {\n      this.socketStatus = SOCKET_STATUS.CLOSED;\n      return;\n    }\n\n    if (this.awsRealTimeSocket.bufferedAmount > 0) {\n      // Still data on the WebSocket\n      setTimeout(this._closeSocketIfRequired.bind(this), 1000);\n    } else {\n      logger.debug('closing WebSocket...');\n      clearTimeout(this.keepAliveTimeoutId);\n      var tempSocket = this.awsRealTimeSocket; // Cleaning callbacks to avoid race condition, socket still exists\n\n      tempSocket.onclose = undefined;\n      tempSocket.onerror = undefined;\n      tempSocket.close(1000);\n      this.awsRealTimeSocket = null;\n      this.socketStatus = SOCKET_STATUS.CLOSED;\n    }\n  };\n\n  AWSAppSyncRealTimeProvider.prototype._handleIncomingSubscriptionMessage = function (message) {\n    logger.debug(\"subscription message from AWS AppSync RealTime: \" + message.data);\n\n    var _a = JSON.parse(message.data),\n        _b = _a.id,\n        id = _b === void 0 ? '' : _b,\n        payload = _a.payload,\n        type = _a.type;\n\n    var _c = this.subscriptionObserverMap.get(id) || {},\n        _d = _c.observer,\n        observer = _d === void 0 ? null : _d,\n        _e = _c.query,\n        query = _e === void 0 ? '' : _e,\n        _f = _c.variables,\n        variables = _f === void 0 ? {} : _f,\n        startAckTimeoutId = _c.startAckTimeoutId,\n        subscriptionReadyCallback = _c.subscriptionReadyCallback,\n        subscriptionFailedCallback = _c.subscriptionFailedCallback;\n\n    logger.debug({\n      id: id,\n      observer: observer,\n      query: query,\n      variables: variables\n    });\n\n    if (type === MESSAGE_TYPES.GQL_DATA && payload && payload.data) {\n      if (observer) {\n        observer.next(payload);\n      } else {\n        logger.debug(\"observer not found for id: \" + id);\n      }\n\n      return;\n    }\n\n    if (type === MESSAGE_TYPES.GQL_START_ACK) {\n      logger.debug(\"subscription ready for \" + JSON.stringify({\n        query: query,\n        variables: variables\n      }));\n\n      if (typeof subscriptionReadyCallback === 'function') {\n        subscriptionReadyCallback();\n      }\n\n      clearTimeout(startAckTimeoutId);\n      dispatchApiEvent(CONTROL_MSG.SUBSCRIPTION_ACK, {\n        query: query,\n        variables: variables\n      }, 'Connection established for subscription');\n      var subscriptionState = SUBSCRIPTION_STATUS.CONNECTED;\n      this.subscriptionObserverMap.set(id, {\n        observer: observer,\n        query: query,\n        variables: variables,\n        startAckTimeoutId: null,\n        subscriptionState: subscriptionState,\n        subscriptionReadyCallback: subscriptionReadyCallback,\n        subscriptionFailedCallback: subscriptionFailedCallback\n      }); // TODO: emit event on hub but it requires to store the id first\n\n      return;\n    }\n\n    if (type === MESSAGE_TYPES.GQL_CONNECTION_KEEP_ALIVE) {\n      clearTimeout(this.keepAliveTimeoutId);\n      this.keepAliveTimeoutId = setTimeout(this._errorDisconnect.bind(this, CONTROL_MSG.TIMEOUT_DISCONNECT), this.keepAliveTimeout);\n      return;\n    }\n\n    if (type === MESSAGE_TYPES.GQL_ERROR) {\n      var subscriptionState = SUBSCRIPTION_STATUS.FAILED;\n      this.subscriptionObserverMap.set(id, {\n        observer: observer,\n        query: query,\n        variables: variables,\n        startAckTimeoutId: startAckTimeoutId,\n        subscriptionReadyCallback: subscriptionReadyCallback,\n        subscriptionFailedCallback: subscriptionFailedCallback,\n        subscriptionState: subscriptionState\n      });\n      observer.error({\n        errors: [__assign({}, new GraphQLError(\"Connection failed: \" + JSON.stringify(payload)))]\n      });\n      clearTimeout(startAckTimeoutId);\n      observer.complete();\n\n      if (typeof subscriptionFailedCallback === 'function') {\n        subscriptionFailedCallback();\n      }\n    }\n  };\n\n  AWSAppSyncRealTimeProvider.prototype._errorDisconnect = function (msg) {\n    logger.debug(\"Disconnect error: \" + msg);\n    this.subscriptionObserverMap.forEach(function (_a) {\n      var observer = _a.observer;\n\n      if (observer && !observer.closed) {\n        observer.error({\n          errors: [__assign({}, new GraphQLError(msg))]\n        });\n      }\n    });\n    this.subscriptionObserverMap.clear();\n\n    if (this.awsRealTimeSocket) {\n      this.awsRealTimeSocket.close();\n    }\n\n    this.socketStatus = SOCKET_STATUS.CLOSED;\n  };\n\n  AWSAppSyncRealTimeProvider.prototype._timeoutStartSubscriptionAck = function (subscriptionId) {\n    var _a = this.subscriptionObserverMap.get(subscriptionId) || {},\n        observer = _a.observer,\n        query = _a.query,\n        variables = _a.variables;\n\n    if (!observer) {\n      return;\n    }\n\n    this.subscriptionObserverMap.set(subscriptionId, {\n      observer: observer,\n      query: query,\n      variables: variables,\n      subscriptionState: SUBSCRIPTION_STATUS.FAILED\n    });\n\n    if (observer && !observer.closed) {\n      observer.error({\n        errors: [__assign({}, new GraphQLError(\"Subscription timeout \" + JSON.stringify({\n          query: query,\n          variables: variables\n        })))]\n      }); // Cleanup will be automatically executed\n\n      observer.complete();\n    }\n\n    logger.debug('timeoutStartSubscription', JSON.stringify({\n      query: query,\n      variables: variables\n    }));\n  };\n\n  AWSAppSyncRealTimeProvider.prototype._initializeWebSocketConnection = function (_a) {\n    var _this = this;\n\n    var appSyncGraphqlEndpoint = _a.appSyncGraphqlEndpoint,\n        authenticationType = _a.authenticationType,\n        apiKey = _a.apiKey,\n        region = _a.region;\n\n    if (this.socketStatus === SOCKET_STATUS.READY) {\n      return;\n    }\n\n    return new Promise(function (res, rej) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var protocol, discoverableEndpoint, payloadString, headerString, _a, _b, headerQs, payloadQs, awsRealTimeUrl, err_3;\n\n        return __generator(this, function (_c) {\n          switch (_c.label) {\n            case 0:\n              this.promiseArray.push({\n                res: res,\n                rej: rej\n              });\n              if (!(this.socketStatus === SOCKET_STATUS.CLOSED)) return [3\n              /*break*/\n              , 5];\n              _c.label = 1;\n\n            case 1:\n              _c.trys.push([1, 4,, 5]);\n\n              this.socketStatus = SOCKET_STATUS.CONNECTING;\n              protocol = this.isSSLEnabled ? 'wss://' : 'ws://';\n              discoverableEndpoint = appSyncGraphqlEndpoint.replace('https://', protocol).replace('http://', protocol).replace('appsync-api', 'appsync-realtime-api').replace('gogi-beta', 'grt-beta');\n              payloadString = '{}';\n              _b = (_a = JSON).stringify;\n              return [4\n              /*yield*/\n              , this._awsRealTimeHeaderBasedAuth({\n                authenticationType: authenticationType,\n                payload: payloadString,\n                canonicalUri: '/connect',\n                apiKey: apiKey,\n                appSyncGraphqlEndpoint: appSyncGraphqlEndpoint,\n                region: region\n              })];\n\n            case 2:\n              headerString = _b.apply(_a, [_c.sent()]);\n              headerQs = Buffer.from(headerString).toString('base64');\n              payloadQs = Buffer.from(payloadString).toString('base64');\n              awsRealTimeUrl = discoverableEndpoint + \"?header=\" + headerQs + \"&payload=\" + payloadQs;\n              return [4\n              /*yield*/\n              , this._initializeRetryableHandshake({\n                awsRealTimeUrl: awsRealTimeUrl\n              })];\n\n            case 3:\n              _c.sent();\n\n              this.promiseArray.forEach(function (_a) {\n                var res = _a.res;\n                logger.debug('Notifying connection successful');\n                res();\n              });\n              this.socketStatus = SOCKET_STATUS.READY;\n              this.promiseArray = [];\n              return [3\n              /*break*/\n              , 5];\n\n            case 4:\n              err_3 = _c.sent();\n              this.promiseArray.forEach(function (_a) {\n                var rej = _a.rej;\n                return rej(err_3);\n              });\n              this.promiseArray = [];\n\n              if (this.awsRealTimeSocket && this.awsRealTimeSocket.readyState === WebSocket.OPEN) {\n                this.awsRealTimeSocket.close(3001);\n              }\n\n              this.awsRealTimeSocket = null;\n              this.socketStatus = SOCKET_STATUS.CLOSED;\n              return [3\n              /*break*/\n              , 5];\n\n            case 5:\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    });\n  };\n\n  AWSAppSyncRealTimeProvider.prototype._initializeRetryableHandshake = function (_a) {\n    var awsRealTimeUrl = _a.awsRealTimeUrl;\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            logger.debug(\"Initializaling retryable Handshake\");\n            return [4\n            /*yield*/\n            , jitteredExponentialRetry(this._initializeHandshake.bind(this), [{\n              awsRealTimeUrl: awsRealTimeUrl\n            }], MAX_DELAY_MS)];\n\n          case 1:\n            _b.sent();\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  AWSAppSyncRealTimeProvider.prototype._initializeHandshake = function (_a) {\n    var awsRealTimeUrl = _a.awsRealTimeUrl;\n    return __awaiter(this, void 0, void 0, function () {\n      var err_4, errorType, errorCode;\n\n      var _this = this;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            logger.debug(\"Initializing handshake \" + awsRealTimeUrl);\n            _b.label = 1;\n\n          case 1:\n            _b.trys.push([1, 4,, 5]);\n\n            return [4\n            /*yield*/\n            , function () {\n              return new Promise(function (res, rej) {\n                var newSocket = new WebSocket(awsRealTimeUrl, 'graphql-ws');\n\n                newSocket.onerror = function () {\n                  logger.debug(\"WebSocket connection error\");\n                };\n\n                newSocket.onclose = function () {\n                  rej(new Error('Connection handshake error'));\n                };\n\n                newSocket.onopen = function () {\n                  _this.awsRealTimeSocket = newSocket;\n                  return res();\n                };\n              });\n            }()];\n\n          case 2:\n            _b.sent(); // Step 2: wait for ack from AWS AppSyncReaTime after sending init\n\n\n            return [4\n            /*yield*/\n            , function () {\n              return new Promise(function (res, rej) {\n                var ackOk = false;\n\n                _this.awsRealTimeSocket.onerror = function (error) {\n                  logger.debug(\"WebSocket error \" + JSON.stringify(error));\n                };\n\n                _this.awsRealTimeSocket.onclose = function (event) {\n                  logger.debug(\"WebSocket closed \" + event.reason);\n                  rej(new Error(JSON.stringify(event)));\n                };\n\n                _this.awsRealTimeSocket.onmessage = function (message) {\n                  logger.debug(\"subscription message from AWS AppSyncRealTime: \" + message.data + \" \");\n                  var data = JSON.parse(message.data);\n                  var type = data.type,\n                      _a = data.payload,\n                      _b = (_a === void 0 ? {} : _a).connectionTimeoutMs,\n                      connectionTimeoutMs = _b === void 0 ? DEFAULT_KEEP_ALIVE_TIMEOUT : _b;\n\n                  if (type === MESSAGE_TYPES.GQL_CONNECTION_ACK) {\n                    ackOk = true;\n                    _this.keepAliveTimeout = connectionTimeoutMs;\n                    _this.awsRealTimeSocket.onmessage = _this._handleIncomingSubscriptionMessage.bind(_this);\n\n                    _this.awsRealTimeSocket.onerror = function (err) {\n                      logger.debug(err);\n\n                      _this._errorDisconnect(CONTROL_MSG.CONNECTION_CLOSED);\n                    };\n\n                    _this.awsRealTimeSocket.onclose = function (event) {\n                      logger.debug(\"WebSocket closed \" + event.reason);\n\n                      _this._errorDisconnect(CONTROL_MSG.CONNECTION_CLOSED);\n                    };\n\n                    res('Cool, connected to AWS AppSyncRealTime');\n                    return;\n                  }\n\n                  if (type === MESSAGE_TYPES.GQL_CONNECTION_ERROR) {\n                    var _c = data.payload,\n                        _d = (_c === void 0 ? {} : _c).errors,\n                        _e = __read(_d === void 0 ? [] : _d, 1),\n                        _f = _e[0],\n                        _g = _f === void 0 ? {} : _f,\n                        _h = _g.errorType,\n                        errorType = _h === void 0 ? '' : _h,\n                        _j = _g.errorCode,\n                        errorCode = _j === void 0 ? 0 : _j;\n\n                    rej({\n                      errorType: errorType,\n                      errorCode: errorCode\n                    });\n                  }\n                };\n\n                var gqlInit = {\n                  type: MESSAGE_TYPES.GQL_CONNECTION_INIT\n                };\n\n                _this.awsRealTimeSocket.send(JSON.stringify(gqlInit));\n\n                function checkAckOk() {\n                  if (!ackOk) {\n                    rej(new Error(\"Connection timeout: ack from AWSRealTime was not received on \" + CONNECTION_INIT_TIMEOUT + \" ms\"));\n                  }\n                }\n\n                setTimeout(checkAckOk.bind(_this), CONNECTION_INIT_TIMEOUT);\n              });\n            }()];\n\n          case 3:\n            // Step 2: wait for ack from AWS AppSyncReaTime after sending init\n            _b.sent();\n\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            err_4 = _b.sent();\n            errorType = err_4.errorType, errorCode = err_4.errorCode;\n\n            if (NON_RETRYABLE_CODES.includes(errorCode)) {\n              throw new NonRetryableError(errorType);\n            } else if (errorType) {\n              throw new Error(errorType);\n            } else {\n              throw err_4;\n            }\n\n            return [3\n            /*break*/\n            , 5];\n\n          case 5:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  AWSAppSyncRealTimeProvider.prototype._awsRealTimeHeaderBasedAuth = function (_a) {\n    var authenticationType = _a.authenticationType,\n        payload = _a.payload,\n        canonicalUri = _a.canonicalUri,\n        appSyncGraphqlEndpoint = _a.appSyncGraphqlEndpoint,\n        apiKey = _a.apiKey,\n        region = _a.region;\n    return __awaiter(this, void 0, void 0, function () {\n      var headerHandler, handler, host, result;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            headerHandler = {\n              API_KEY: this._awsRealTimeApiKeyHeader.bind(this),\n              AWS_IAM: this._awsRealTimeIAMHeader.bind(this),\n              OPENID_CONNECT: this._awsRealTimeOPENIDHeader.bind(this),\n              AMAZON_COGNITO_USER_POOLS: this._awsRealTimeCUPHeader.bind(this)\n            };\n            handler = headerHandler[authenticationType];\n\n            if (typeof handler !== 'function') {\n              logger.debug(\"Authentication type \" + authenticationType + \" not supported\");\n              return [2\n              /*return*/\n              , ''];\n            }\n\n            host = url.parse(appSyncGraphqlEndpoint).host;\n            return [4\n            /*yield*/\n            , handler({\n              payload: payload,\n              canonicalUri: canonicalUri,\n              appSyncGraphqlEndpoint: appSyncGraphqlEndpoint,\n              apiKey: apiKey,\n              region: region,\n              host: host\n            })];\n\n          case 1:\n            result = _b.sent();\n            return [2\n            /*return*/\n            , result];\n        }\n      });\n    });\n  };\n\n  AWSAppSyncRealTimeProvider.prototype._awsRealTimeCUPHeader = function (_a) {\n    var host = _a.host;\n    return __awaiter(this, void 0, void 0, function () {\n      var session;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , Auth.currentSession()];\n\n          case 1:\n            session = _b.sent();\n            return [2\n            /*return*/\n            , {\n              Authorization: session.getAccessToken().getJwtToken(),\n              host: host\n            }];\n        }\n      });\n    });\n  };\n\n  AWSAppSyncRealTimeProvider.prototype._awsRealTimeOPENIDHeader = function (_a) {\n    var host = _a.host;\n    return __awaiter(this, void 0, void 0, function () {\n      var token, federatedInfo, currentUser;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , Cache.getItem('federatedInfo')];\n\n          case 1:\n            federatedInfo = _b.sent();\n            if (!federatedInfo) return [3\n            /*break*/\n            , 2];\n            token = federatedInfo.token;\n            return [3\n            /*break*/\n            , 4];\n\n          case 2:\n            return [4\n            /*yield*/\n            , Auth.currentAuthenticatedUser()];\n\n          case 3:\n            currentUser = _b.sent();\n\n            if (currentUser) {\n              token = currentUser.token;\n            }\n\n            _b.label = 4;\n\n          case 4:\n            if (!token) {\n              throw new Error('No federated jwt');\n            }\n\n            return [2\n            /*return*/\n            , {\n              Authorization: token,\n              host: host\n            }];\n        }\n      });\n    });\n  };\n\n  AWSAppSyncRealTimeProvider.prototype._awsRealTimeApiKeyHeader = function (_a) {\n    var apiKey = _a.apiKey,\n        host = _a.host;\n    return __awaiter(this, void 0, void 0, function () {\n      var dt, dtStr;\n      return __generator(this, function (_b) {\n        dt = new Date();\n        dtStr = dt.toISOString().replace(/[:\\-]|\\.\\d{3}/g, '');\n        return [2\n        /*return*/\n        , {\n          host: host,\n          'x-amz-date': dtStr,\n          'x-api-key': apiKey\n        }];\n      });\n    });\n  };\n\n  AWSAppSyncRealTimeProvider.prototype._awsRealTimeIAMHeader = function (_a) {\n    var payload = _a.payload,\n        canonicalUri = _a.canonicalUri,\n        appSyncGraphqlEndpoint = _a.appSyncGraphqlEndpoint,\n        region = _a.region;\n    return __awaiter(this, void 0, void 0, function () {\n      var endpointInfo, credentialsOK, creds, request, signed_params;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            endpointInfo = {\n              region: region,\n              service: 'appsync'\n            };\n            return [4\n            /*yield*/\n            , this._ensureCredentials()];\n\n          case 1:\n            credentialsOK = _b.sent();\n\n            if (!credentialsOK) {\n              throw new Error('No credentials');\n            }\n\n            return [4\n            /*yield*/\n            , Credentials.get().then(function (credentials) {\n              return {\n                secret_key: credentials.secretAccessKey,\n                access_key: credentials.accessKeyId,\n                session_token: credentials.sessionToken\n              };\n            })];\n\n          case 2:\n            creds = _b.sent();\n            request = {\n              url: \"\" + appSyncGraphqlEndpoint + canonicalUri,\n              data: payload,\n              method: 'POST',\n              headers: __assign({}, AWS_APPSYNC_REALTIME_HEADERS)\n            };\n            signed_params = Signer.sign(request, creds, endpointInfo);\n            return [2\n            /*return*/\n            , signed_params.headers];\n        }\n      });\n    });\n  };\n  /**\n   * @private\n   */\n\n\n  AWSAppSyncRealTimeProvider.prototype._ensureCredentials = function () {\n    return Credentials.get().then(function (credentials) {\n      if (!credentials) return false;\n      var cred = Credentials.shear(credentials);\n      logger.debug('set credentials for AWSAppSyncRealTimeProvider', cred);\n      return true;\n    }).catch(function (err) {\n      logger.warn('ensure credentials error', err);\n      return false;\n    });\n  };\n\n  return AWSAppSyncRealTimeProvider;\n}(AbstractPubSubProvider);\n\nexport { AWSAppSyncRealTimeProvider };","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\n// import '../Common/Polyfills';\n\n\nimport Observable from 'zen-observable-ts';\nimport { Amplify, browserOrNode, ConsoleLogger as Logger, INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER, INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER } from '@aws-amplify/core';\nimport { AWSAppSyncProvider, AWSAppSyncRealTimeProvider } from './Providers';\nvar isNode = browserOrNode().isNode;\nvar logger = new Logger('PubSub');\n\nvar PubSubClass =\n/** @class */\nfunction () {\n  /**\n   * Initialize PubSub with AWS configurations\n   *\n   * @param {PubSubOptions} options - Configuration object for PubSub\n   */\n  function PubSubClass(options) {\n    this._options = options;\n    logger.debug('PubSub Options', this._options);\n    this._pluggables = [];\n    this.subscribe = this.subscribe.bind(this);\n  }\n\n  Object.defineProperty(PubSubClass.prototype, \"awsAppSyncProvider\", {\n    /**\n     * Lazy instantiate AWSAppSyncProvider when it is required by the API category\n     */\n    get: function get() {\n      if (!this._awsAppSyncProvider) {\n        this._awsAppSyncProvider = new AWSAppSyncProvider(this._options);\n      }\n\n      return this._awsAppSyncProvider;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PubSubClass.prototype, \"awsAppSyncRealTimeProvider\", {\n    /**\n     * Lazy instantiate AWSAppSyncRealTimeProvider when it is required by the API category\n     */\n    get: function get() {\n      if (!this._awsAppSyncRealTimeProvider) {\n        this._awsAppSyncRealTimeProvider = new AWSAppSyncRealTimeProvider(this._options);\n      }\n\n      return this._awsAppSyncRealTimeProvider;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  PubSubClass.prototype.getModuleName = function () {\n    return 'PubSub';\n  };\n  /**\n   * Configure PubSub part with configurations\n   *\n   * @param {PubSubOptions} config - Configuration for PubSub\n   * @return {Object} - The current configuration\n   */\n\n\n  PubSubClass.prototype.configure = function (options) {\n    var _this = this;\n\n    var opt = options ? options.PubSub || options : {};\n    logger.debug('configure PubSub', {\n      opt: opt\n    });\n    this._options = Object.assign({}, this._options, opt);\n\n    this._pluggables.map(function (pluggable) {\n      return pluggable.configure(_this._options);\n    });\n\n    return this._options;\n  };\n  /**\n   * add plugin into Analytics category\n   * @param {Object} pluggable - an instance of the plugin\n   */\n\n\n  PubSubClass.prototype.addPluggable = function (pluggable) {\n    return __awaiter(this, void 0, void 0, function () {\n      var config;\n      return __generator(this, function (_a) {\n        if (pluggable && pluggable.getCategory() === 'PubSub') {\n          this._pluggables.push(pluggable);\n\n          config = pluggable.configure(this._options);\n          return [2\n          /*return*/\n          , config];\n        }\n\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  PubSubClass.prototype.getProviderByName = function (providerName) {\n    if (providerName === INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER) {\n      return this.awsAppSyncProvider;\n    }\n\n    if (providerName === INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER) {\n      return this.awsAppSyncRealTimeProvider;\n    }\n\n    return this._pluggables.find(function (pluggable) {\n      return pluggable.getProviderName() === providerName;\n    });\n  };\n\n  PubSubClass.prototype.getProviders = function (options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var providerName = options.provider;\n\n    if (!providerName) {\n      return this._pluggables;\n    }\n\n    var provider = this.getProviderByName(providerName);\n\n    if (!provider) {\n      throw new Error(\"Could not find provider named \" + providerName);\n    }\n\n    return [provider];\n  };\n\n  PubSubClass.prototype.publish = function (topics, msg, options) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2\n        /*return*/\n        , Promise.all(this.getProviders(options).map(function (provider) {\n          return provider.publish(topics, msg, options);\n        }))];\n      });\n    });\n  };\n\n  PubSubClass.prototype.subscribe = function (topics, options) {\n    if (isNode && this._options && this._options.ssr) {\n      throw new Error('Subscriptions are not supported for Server-Side Rendering (SSR)');\n    }\n\n    logger.debug('subscribe options', options);\n    var providers = this.getProviders(options);\n    return new Observable(function (observer) {\n      var observables = providers.map(function (provider) {\n        return {\n          provider: provider,\n          observable: provider.subscribe(topics, options)\n        };\n      });\n      var subscriptions = observables.map(function (_a) {\n        var provider = _a.provider,\n            observable = _a.observable;\n        return observable.subscribe({\n          start: console.error,\n          next: function next(value) {\n            return observer.next({\n              provider: provider,\n              value: value\n            });\n          },\n          error: function error(_error) {\n            return observer.error({\n              provider: provider,\n              error: _error\n            });\n          }\n        });\n      });\n      return function () {\n        return subscriptions.forEach(function (subscription) {\n          return subscription.unsubscribe();\n        });\n      };\n    });\n  };\n\n  return PubSubClass;\n}();\n\nexport { PubSubClass };\nexport var PubSub = new PubSubClass(null);\nAmplify.register(PubSub);","'use strict';\n\nvar utils = require('./../utils');\n\nvar settle = require('./../core/settle');\n\nvar buildURL = require('./../helpers/buildURL');\n\nvar parseHeaders = require('./../helpers/parseHeaders');\n\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\n\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest(); // HTTP basic authentication\n\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true); // Set the request timeout in MS\n\n    request.timeout = config.timeout; // Listen for ready state\n\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      } // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n\n\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      } // Prepare the response\n\n\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n      settle(resolve, reject, response); // Clean up request\n\n      request = null;\n    }; // Handle browser request cancellation (as opposed to a manual cancellation)\n\n\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request)); // Clean up request\n\n      request = null;\n    }; // Handle low level network errors\n\n\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request)); // Clean up request\n\n      request = null;\n    }; // Handle timeout\n\n\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED', request)); // Clean up request\n\n      request = null;\n    }; // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n\n\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies'); // Add xsrf header\n\n\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ? cookies.read(config.xsrfCookieName) : undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    } // Add headers to the request\n\n\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    } // Add withCredentials to request if needed\n\n\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    } // Add responseType to request if needed\n\n\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    } // Handle progress if needed\n\n\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    } // Not all browsers support upload events\n\n\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel); // Clean up request\n\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    } // Send the request\n\n\n    request.send(requestData);\n  });\n};","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { ConsoleLogger as Logger } from './Logger';\nimport { Sha256 as jsSha256 } from '@aws-crypto/sha256-js';\nimport { toHex } from '@aws-sdk/util-hex-encoding';\nimport { parse, format } from 'url';\nimport { DateUtils } from './Util';\nvar logger = new Logger('Signer');\nvar DEFAULT_ALGORITHM = 'AWS4-HMAC-SHA256';\nvar IOT_SERVICE_NAME = 'iotdevicegateway';\n\nvar encrypt = function encrypt(key, src) {\n  var hash = new jsSha256(key);\n  hash.update(src);\n  return hash.digestSync();\n};\n\nvar hash = function hash(src) {\n  var arg = src || '';\n  var hash = new jsSha256();\n  hash.update(arg);\n  return toHex(hash.digestSync());\n};\n/**\n * @private\n * RFC 3986 compliant version of encodeURIComponent\n */\n\n\nvar escape_RFC3986 = function escape_RFC3986(component) {\n  return component.replace(/[!'()*]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase();\n  });\n};\n/**\n * @private\n * Create canonical query string\n *\n */\n\n\nvar canonical_query = function canonical_query(query) {\n  if (!query || query.length === 0) {\n    return '';\n  }\n\n  return query.split('&').map(function (e) {\n    var key_val = e.split('=');\n\n    if (key_val.length === 1) {\n      return e;\n    } else {\n      var reencoded_val = escape_RFC3986(key_val[1]);\n      return key_val[0] + '=' + reencoded_val;\n    }\n  }).sort(function (a, b) {\n    var key_a = a.split('=')[0];\n    var key_b = b.split('=')[0];\n\n    if (key_a === key_b) {\n      return a < b ? -1 : 1;\n    } else {\n      return key_a < key_b ? -1 : 1;\n    }\n  }).join('&');\n};\n/**\n* @private\n* Create canonical headers\n*\n<pre>\nCanonicalHeaders =\n    CanonicalHeadersEntry0 + CanonicalHeadersEntry1 + ... + CanonicalHeadersEntryN\nCanonicalHeadersEntry =\n    Lowercase(HeaderName) + ':' + Trimall(HeaderValue) + '\\n'\n</pre>\n*/\n\n\nvar canonical_headers = function canonical_headers(headers) {\n  if (!headers || Object.keys(headers).length === 0) {\n    return '';\n  }\n\n  return Object.keys(headers).map(function (key) {\n    return {\n      key: key.toLowerCase(),\n      value: headers[key] ? headers[key].trim().replace(/\\s+/g, ' ') : ''\n    };\n  }).sort(function (a, b) {\n    return a.key < b.key ? -1 : 1;\n  }).map(function (item) {\n    return item.key + ':' + item.value;\n  }).join('\\n') + '\\n';\n};\n/**\n * List of header keys included in the canonical headers.\n * @access private\n */\n\n\nvar signed_headers = function signed_headers(headers) {\n  return Object.keys(headers).map(function (key) {\n    return key.toLowerCase();\n  }).sort().join(';');\n};\n/**\n* @private\n* Create canonical request\n* Refer to\n* {@link http://docs.aws.amazon.com/general/latest/gr/sigv4-create-canonical-request.html|Create a Canonical Request}\n*\n<pre>\nCanonicalRequest =\n    HTTPRequestMethod + '\\n' +\n    CanonicalURI + '\\n' +\n    CanonicalQueryString + '\\n' +\n    CanonicalHeaders + '\\n' +\n    SignedHeaders + '\\n' +\n    HexEncode(Hash(RequestPayload))\n</pre>\n*/\n\n\nvar canonical_request = function canonical_request(request) {\n  var url_info = parse(request.url);\n  return [request.method || '/', encodeURIComponent(url_info.pathname).replace(/%2F/gi, '/'), canonical_query(url_info.query), canonical_headers(request.headers), signed_headers(request.headers), hash(request.data)].join('\\n');\n};\n\nvar parse_service_info = function parse_service_info(request) {\n  var url_info = parse(request.url),\n      host = url_info.host;\n  var matched = host.match(/([^\\.]+)\\.(?:([^\\.]*)\\.)?amazonaws\\.com$/);\n  var parsed = (matched || []).slice(1, 3);\n\n  if (parsed[1] === 'es') {\n    // Elastic Search\n    parsed = parsed.reverse();\n  }\n\n  return {\n    service: request.service || parsed[0],\n    region: request.region || parsed[1]\n  };\n};\n\nvar credential_scope = function credential_scope(d_str, region, service) {\n  return [d_str, region, service, 'aws4_request'].join('/');\n};\n/**\n* @private\n* Create a string to sign\n* Refer to\n* {@link http://docs.aws.amazon.com/general/latest/gr/sigv4-create-string-to-sign.html|Create String to Sign}\n*\n<pre>\nStringToSign =\n    Algorithm + \\n +\n    RequestDateTime + \\n +\n    CredentialScope + \\n +\n    HashedCanonicalRequest\n</pre>\n*/\n\n\nvar string_to_sign = function string_to_sign(algorithm, canonical_request, dt_str, scope) {\n  return [algorithm, dt_str, scope, hash(canonical_request)].join('\\n');\n};\n/**\n* @private\n* Create signing key\n* Refer to\n* {@link http://docs.aws.amazon.com/general/latest/gr/sigv4-calculate-signature.html|Calculate Signature}\n*\n<pre>\nkSecret = your secret access key\nkDate = HMAC(\"AWS4\" + kSecret, Date)\nkRegion = HMAC(kDate, Region)\nkService = HMAC(kRegion, Service)\nkSigning = HMAC(kService, \"aws4_request\")\n</pre>\n*/\n\n\nvar get_signing_key = function get_signing_key(secret_key, d_str, service_info) {\n  logger.debug(service_info);\n  var k = 'AWS4' + secret_key,\n      k_date = encrypt(k, d_str),\n      k_region = encrypt(k_date, service_info.region),\n      k_service = encrypt(k_region, service_info.service),\n      k_signing = encrypt(k_service, 'aws4_request');\n  return k_signing;\n};\n\nvar get_signature = function get_signature(signing_key, str_to_sign) {\n  return toHex(encrypt(signing_key, str_to_sign));\n};\n/**\n * @private\n * Create authorization header\n * Refer to\n * {@link http://docs.aws.amazon.com/general/latest/gr/sigv4-add-signature-to-request.html|Add the Signing Information}\n */\n\n\nvar get_authorization_header = function get_authorization_header(algorithm, access_key, scope, signed_headers, signature) {\n  return [algorithm + ' ' + 'Credential=' + access_key + '/' + scope, 'SignedHeaders=' + signed_headers, 'Signature=' + signature].join(', ');\n};\n\nvar Signer =\n/** @class */\nfunction () {\n  function Signer() {}\n  /**\n  * Sign a HTTP request, add 'Authorization' header to request param\n  * @method sign\n  * @memberof Signer\n  * @static\n  *\n  * @param {object} request - HTTP request object\n  <pre>\n  request: {\n      method: GET | POST | PUT ...\n      url: ...,\n      headers: {\n          header1: ...\n      },\n      data: data\n  }\n  </pre>\n  * @param {object} access_info - AWS access credential info\n  <pre>\n  access_info: {\n      access_key: ...,\n      secret_key: ...,\n      session_token: ...\n  }\n  </pre>\n  * @param {object} [service_info] - AWS service type and region, optional,\n  *                                  if not provided then parse out from url\n  <pre>\n  service_info: {\n      service: ...,\n      region: ...\n  }\n  </pre>\n  *\n  * @returns {object} Signed HTTP request\n  */\n\n\n  Signer.sign = function (request, access_info, service_info) {\n    if (service_info === void 0) {\n      service_info = null;\n    }\n\n    request.headers = request.headers || {}; // datetime string and date string\n\n    var dt = DateUtils.getDateWithClockOffset(),\n        dt_str = dt.toISOString().replace(/[:\\-]|\\.\\d{3}/g, ''),\n        d_str = dt_str.substr(0, 8);\n    var url_info = parse(request.url);\n    request.headers['host'] = url_info.host;\n    request.headers['x-amz-date'] = dt_str;\n\n    if (access_info.session_token) {\n      request.headers['X-Amz-Security-Token'] = access_info.session_token;\n    } // Task 1: Create a Canonical Request\n\n\n    var request_str = canonical_request(request);\n    logger.debug(request_str); // Task 2: Create a String to Sign\n\n    var serviceInfo = service_info || parse_service_info(request),\n        scope = credential_scope(d_str, serviceInfo.region, serviceInfo.service),\n        str_to_sign = string_to_sign(DEFAULT_ALGORITHM, request_str, dt_str, scope); // Task 3: Calculate the Signature\n\n    var signing_key = get_signing_key(access_info.secret_key, d_str, serviceInfo),\n        signature = get_signature(signing_key, str_to_sign); // Task 4: Adding the Signing information to the Request\n\n    var authorization_header = get_authorization_header(DEFAULT_ALGORITHM, access_info.access_key, scope, signed_headers(request.headers), signature);\n    request.headers['Authorization'] = authorization_header;\n    return request;\n  };\n\n  Signer.signUrl = function (urlOrRequest, accessInfo, serviceInfo, expiration) {\n    var urlToSign = typeof urlOrRequest === 'object' ? urlOrRequest.url : urlOrRequest;\n    var method = typeof urlOrRequest === 'object' ? urlOrRequest.method : 'GET';\n    var body = typeof urlOrRequest === 'object' ? urlOrRequest.body : undefined;\n    var now = DateUtils.getDateWithClockOffset().toISOString().replace(/[:\\-]|\\.\\d{3}/g, '');\n    var today = now.substr(0, 8); // Intentionally discarding search\n\n    var _a = parse(urlToSign, true, true),\n        search = _a.search,\n        parsedUrl = __rest(_a, [\"search\"]);\n\n    var host = parsedUrl.host;\n    var signedHeaders = {\n      host: host\n    };\n\n    var _b = serviceInfo || parse_service_info({\n      url: format(parsedUrl)\n    }),\n        region = _b.region,\n        service = _b.service;\n\n    var credentialScope = credential_scope(today, region, service); // IoT service does not allow the session token in the canonical request\n    // https://docs.aws.amazon.com/general/latest/gr/sigv4-add-signature-to-request.html\n\n    var sessionTokenRequired = accessInfo.session_token && service !== IOT_SERVICE_NAME;\n\n    var queryParams = __assign(__assign(__assign({\n      'X-Amz-Algorithm': DEFAULT_ALGORITHM,\n      'X-Amz-Credential': [accessInfo.access_key, credentialScope].join('/'),\n      'X-Amz-Date': now.substr(0, 16)\n    }, sessionTokenRequired ? {\n      'X-Amz-Security-Token': \"\" + accessInfo.session_token\n    } : {}), expiration ? {\n      'X-Amz-Expires': \"\" + expiration\n    } : {}), {\n      'X-Amz-SignedHeaders': Object.keys(signedHeaders).join(',')\n    });\n\n    var canonicalRequest = canonical_request({\n      method: method,\n      url: format(__assign(__assign({}, parsedUrl), {\n        query: __assign(__assign({}, parsedUrl.query), queryParams)\n      })),\n      headers: signedHeaders,\n      data: body\n    });\n    var stringToSign = string_to_sign(DEFAULT_ALGORITHM, canonicalRequest, now, credentialScope);\n    var signing_key = get_signing_key(accessInfo.secret_key, today, {\n      region: region,\n      service: service\n    });\n    var signature = get_signature(signing_key, stringToSign);\n\n    var additionalQueryParams = __assign({\n      'X-Amz-Signature': signature\n    }, accessInfo.session_token && {\n      'X-Amz-Security-Token': accessInfo.session_token\n    });\n\n    var result = format({\n      protocol: parsedUrl.protocol,\n      slashes: true,\n      hostname: parsedUrl.hostname,\n      port: parsedUrl.port,\n      pathname: parsedUrl.pathname,\n      query: __assign(__assign(__assign({}, parsedUrl.query), queryParams), additionalQueryParams)\n    });\n    return result;\n  };\n\n  return Signer;\n}();\n\nexport { Signer };\n/**\n * @deprecated use per-function import\n */\n\nexport default Signer;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @internal\n */\n\nexports.BLOCK_SIZE = 64;\n/**\n * @internal\n */\n\nexports.DIGEST_LENGTH = 32;\n/**\n * @internal\n */\n\nexports.KEY = new Uint32Array([0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5, 0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174, 0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da, 0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967, 0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85, 0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070, 0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3, 0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2]);\n/**\n * @internal\n */\n\nexports.INIT = [0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19];\n/**\n * @internal\n */\n\nexports.MAX_HASHABLE_LENGTH = Math.pow(2, 53) - 1;","'use strict';\n\nvar utils = require('./utils');\n\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter; // Only Node.JS has a process variable that is of [[Class]] process\n\n  if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  } else if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  }\n\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n\n    if (utils.isFormData(data) || utils.isArrayBuffer(data) || utils.isBuffer(data) || utils.isStream(data) || utils.isFile(data) || utils.isBlob(data)) {\n      return data;\n    }\n\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n\n    return data;\n  }],\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) {\n        /* Ignore */\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n  maxContentLength: -1,\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\nmodule.exports = defaults;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\ntslib_1.__exportStar(require(\"./jsSha256\"), exports);","import React, { useState, useRef, useEffect, useContext } from \"react\";\nimport { Router } from \"@reach/router\";\nimport { addTodo } from \"../graphql/mutations\";\nimport { getTodos } from \"../graphql/queries\";\nimport { deleteTodo } from \"../graphql/mutations\";\nimport { API } from \"aws-amplify\";\nimport { IdentityContext } from \"../../Identity-Context\";\nimport Navbar from \"../components/Navbar\";\nimport { Link } from 'gatsby';\nimport { Button, Heading, Input, Label, NavLink, Text } from \"theme-ui\";\n\nconst Dash = () => {\n    const { user } = useContext(IdentityContext);\n    const [loading, setLoading] = useState(true)\n    const [todoData, setTodoData] = useState(null)\n    const todoTitleRef = useRef(\"\")\n\n    const addTodoMutation = async () => {\n        try {\n            const todo = {\n                id: 'mk' + Math.random(),\n                title: todoTitleRef.current.value,\n                user: user.username\n            }\n            await API.graphql({\n                query: addTodo,\n                variables: {\n                    todo: todo,\n                },\n            })\n            todoTitleRef.current.value = \"\"\n            fetchTodos();\n        } catch (e) {\n            console.log(e)\n        }\n    }\n\n    const fetchTodos = async () => {\n        try {\n            const data = await API.graphql({\n                query: getTodos,\n            })\n            setTodoData(data);\n            console.log(data);\n            setLoading(false)\n        } catch (e) {\n            console.log(e)\n        }\n    }\n    useEffect(() => {\n        fetchTodos()\n    }, [])\n    return (\n        <div>\n            {loading ? (\n                <Heading as=\"h3\" sx={{ textAlign: \"center\" }}>Loading...</Heading>\n            ) : (\n                    <div>\n                        <Navbar /><br /><br />\n                        <Heading as=\"h3\" sx={{ textAlign: \"center\" }}>Make Schedule Easy</Heading>\n                        <Label>\n                            <Input ref={todoTitleRef} />\n                        </Label><br />\n                        <Button sx={{ color: \"black\", textAlign: \"center\" }} onClick={() => addTodoMutation()}>Create Todo</Button><br /><br />\n                        <Heading as=\"h2\" sx={{ textAlign: \"center\" }}>Your Todo List</Heading>\n                        {todoData.data &&\n                            todoData.data.getTodos.filter((todo) => todo.user === user.username).map((item, ind) => (\n                                <div style={{ marginLeft: \"1rem\", marginTop: \"2rem\" }} key={ind}>\n                                    <Text sx={{ fontSize: 4, fontWeight: 'italic', margin: '5px'}}>{item.title}</Text>\n                                    <div>\n                                        <Button\n                                            sx={{ color: \"black\", textAlign: \"center\" }}\n                                            onClick={async e => {\n                                                e.preventDefault();\n                                                await API.graphql({\n                                                    query: deleteTodo,\n                                                    variables: { todoId: item.id },\n                                                })\n                                                fetchTodos();\n                                            }}\n                                        >Delete Todo</Button>\n                                    </div>\n                                </div>\n                            ))}\n                    </div>\n                )}\n        </div>\n    );\n};\n\nconst App = () => {\n    const { user } = useContext(IdentityContext);\n    return (\n        <>\n            <Router>{user && <Dash path=\"/app\" />}</Router>\n            {!user && <NavLink as={Link} to=\"/\" p={2}>Home</NavLink>}\n        </>)\n};\n\nexport default App;","/* tslint:disable */\n/* eslint-disable */\n// this is an auto generated file. This will be overwritten\n\nexport const addTodo = /* GraphQL */ `\n  mutation AddTodo($todo: TodoInput!) {\n    addTodo(todo: $todo) {\n      id\n      title\n      user\n    }\n  }\n`;\nexport const deleteTodo = /* GraphQL */ `\n  mutation DeleteTodo($todoId: String!) {\n    deleteTodo(todoId: $todoId)\n  }\n`;\n","/* tslint:disable */\n/* eslint-disable */\n// this is an auto generated file. This will be overwritten\n\nexport const getTodos = /* GraphQL */ `\n  query GetTodos {\n    getTodos {\n      id\n      title\n      user\n    }\n  }\n`;\n","'use strict';\n\nvar createError = require('./createError');\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\n\n\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n\n  if (!validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError('Request failed with status code ' + response.status, response.config, null, response.request, response));\n  }\n};","'use strict';\n\nvar utils = require('./../utils');\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\n\n\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n  return data;\n};","'use strict';\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\n\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    return fn.apply(thisArg, args);\n  };\n};"],"sourceRoot":""}